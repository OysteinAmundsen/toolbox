{
  "schemaVersion": "1.0.0",
  "readme": "",
  "modules": [
    {
      "kind": "javascript-module",
      "path": "scripts/typedoc-to-mdx.ts",
      "declarations": [
        {
          "kind": "variable",
          "name": "kindFolder",
          "default": "KIND_FOLDER_MAP[node.kind]"
        },
        {
          "kind": "variable",
          "name": "gen",
          "default": "GENERATORS[node.kind]"
        }
      ],
      "exports": []
    },
    {
      "kind": "javascript-module",
      "path": "src/all.ts",
      "declarations": [],
      "exports": [
        {
          "kind": "js",
          "name": "*",
          "declaration": {
            "name": "*",
            "module": "src/public"
          }
        },
        {
          "kind": "js",
          "name": "DataGridElement",
          "declaration": {
            "name": "DataGridElement",
            "module": "./lib/core/grid"
          }
        },
        {
          "kind": "js",
          "name": "BaseGridPlugin",
          "declaration": {
            "name": "BaseGridPlugin",
            "module": "./lib/core/plugin"
          }
        },
        {
          "kind": "js",
          "name": "PluginManager",
          "declaration": {
            "name": "PluginManager",
            "module": "./lib/core/plugin"
          }
        },
        {
          "kind": "js",
          "name": "CellClickEvent",
          "declaration": {
            "name": "CellClickEvent",
            "module": "./lib/core/plugin/base-plugin"
          }
        },
        {
          "kind": "js",
          "name": "GridPlugin",
          "declaration": {
            "name": "GridPlugin",
            "module": "./lib/core/types"
          }
        },
        {
          "kind": "js",
          "name": "*",
          "declaration": {
            "name": "*",
            "module": "src/lib/plugins/clipboard"
          }
        },
        {
          "kind": "js",
          "name": "*",
          "declaration": {
            "name": "*",
            "module": "src/lib/plugins/column-virtualization"
          }
        },
        {
          "kind": "js",
          "name": "*",
          "declaration": {
            "name": "*",
            "module": "src/lib/plugins/context-menu"
          }
        },
        {
          "kind": "js",
          "name": "*",
          "declaration": {
            "name": "*",
            "module": "src/lib/plugins/editing"
          }
        },
        {
          "kind": "js",
          "name": "*",
          "declaration": {
            "name": "*",
            "module": "src/lib/plugins/export"
          }
        },
        {
          "kind": "js",
          "name": "*",
          "declaration": {
            "name": "*",
            "module": "src/lib/plugins/filtering"
          }
        },
        {
          "kind": "js",
          "name": "*",
          "declaration": {
            "name": "*",
            "module": "src/lib/plugins/grouping-columns"
          }
        },
        {
          "kind": "js",
          "name": "*",
          "declaration": {
            "name": "*",
            "module": "src/lib/plugins/grouping-rows"
          }
        },
        {
          "kind": "js",
          "name": "*",
          "declaration": {
            "name": "*",
            "module": "src/lib/plugins/master-detail"
          }
        },
        {
          "kind": "js",
          "name": "*",
          "declaration": {
            "name": "*",
            "module": "src/lib/plugins/multi-sort"
          }
        },
        {
          "kind": "js",
          "name": "*",
          "declaration": {
            "name": "*",
            "module": "src/lib/plugins/pinned-columns"
          }
        },
        {
          "kind": "js",
          "name": "*",
          "declaration": {
            "name": "*",
            "module": "src/lib/plugins/pinned-rows"
          }
        },
        {
          "kind": "js",
          "name": "*",
          "declaration": {
            "name": "*",
            "module": "src/lib/plugins/pivot"
          }
        },
        {
          "kind": "js",
          "name": "*",
          "declaration": {
            "name": "*",
            "module": "src/lib/plugins/print"
          }
        },
        {
          "kind": "js",
          "name": "*",
          "declaration": {
            "name": "*",
            "module": "src/lib/plugins/reorder"
          }
        },
        {
          "kind": "js",
          "name": "*",
          "declaration": {
            "name": "*",
            "module": "src/lib/plugins/responsive"
          }
        },
        {
          "kind": "js",
          "name": "*",
          "declaration": {
            "name": "*",
            "module": "src/lib/plugins/row-reorder"
          }
        },
        {
          "kind": "js",
          "name": "*",
          "declaration": {
            "name": "*",
            "module": "src/lib/plugins/selection"
          }
        },
        {
          "kind": "js",
          "name": "*",
          "declaration": {
            "name": "*",
            "module": "src/lib/plugins/server-side"
          }
        },
        {
          "kind": "js",
          "name": "*",
          "declaration": {
            "name": "*",
            "module": "src/lib/plugins/tree"
          }
        },
        {
          "kind": "js",
          "name": "*",
          "declaration": {
            "name": "*",
            "module": "src/lib/plugins/undo-redo"
          }
        },
        {
          "kind": "js",
          "name": "*",
          "declaration": {
            "name": "*",
            "module": "src/lib/plugins/visibility"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/index.ts",
      "declarations": [],
      "exports": [
        {
          "kind": "js",
          "name": "*",
          "declaration": {
            "name": "*",
            "module": "src/public"
          }
        },
        {
          "kind": "js",
          "name": "DataGridElement",
          "declaration": {
            "name": "DataGridElement",
            "module": "./lib/core/grid"
          }
        },
        {
          "kind": "js",
          "name": "AggregatorRef",
          "declaration": {
            "name": "AggregatorRef",
            "module": "./lib/core/types"
          }
        },
        {
          "kind": "js",
          "name": "CellRenderContext",
          "declaration": {
            "name": "CellRenderContext",
            "module": "./lib/core/types"
          }
        },
        {
          "kind": "js",
          "name": "ColumnEditorContext",
          "declaration": {
            "name": "ColumnEditorContext",
            "module": "./lib/core/types"
          }
        },
        {
          "kind": "js",
          "name": "ColumnEditorSpec",
          "declaration": {
            "name": "ColumnEditorSpec",
            "module": "./lib/core/types"
          }
        },
        {
          "kind": "js",
          "name": "ColumnViewRenderer",
          "declaration": {
            "name": "ColumnViewRenderer",
            "module": "./lib/core/types"
          }
        },
        {
          "kind": "js",
          "name": "RowGroupRenderConfig",
          "declaration": {
            "name": "RowGroupRenderConfig",
            "module": "./lib/core/types"
          }
        },
        {
          "kind": "js",
          "name": "BaseGridPlugin",
          "declaration": {
            "name": "BaseGridPlugin",
            "module": "./lib/core/plugin"
          }
        },
        {
          "kind": "js",
          "name": "PluginManager",
          "declaration": {
            "name": "PluginManager",
            "module": "./lib/core/plugin"
          }
        },
        {
          "kind": "js",
          "name": "AfterCellRenderContext",
          "declaration": {
            "name": "AfterCellRenderContext",
            "module": "./lib/core/plugin"
          }
        },
        {
          "kind": "js",
          "name": "AfterRowRenderContext",
          "declaration": {
            "name": "AfterRowRenderContext",
            "module": "./lib/core/plugin"
          }
        },
        {
          "kind": "js",
          "name": "CellClickEvent",
          "declaration": {
            "name": "CellClickEvent",
            "module": "./lib/core/plugin"
          }
        },
        {
          "kind": "js",
          "name": "CellCoords",
          "declaration": {
            "name": "CellCoords",
            "module": "./lib/core/plugin"
          }
        },
        {
          "kind": "js",
          "name": "CellEditor",
          "declaration": {
            "name": "CellEditor",
            "module": "./lib/core/plugin"
          }
        },
        {
          "kind": "js",
          "name": "CellMouseEvent",
          "declaration": {
            "name": "CellMouseEvent",
            "module": "./lib/core/plugin"
          }
        },
        {
          "kind": "js",
          "name": "CellRenderer",
          "declaration": {
            "name": "CellRenderer",
            "module": "./lib/core/plugin"
          }
        },
        {
          "kind": "js",
          "name": "ContextMenuItem",
          "declaration": {
            "name": "ContextMenuItem",
            "module": "./lib/core/plugin"
          }
        },
        {
          "kind": "js",
          "name": "ContextMenuParams",
          "declaration": {
            "name": "ContextMenuParams",
            "module": "./lib/core/plugin"
          }
        },
        {
          "kind": "js",
          "name": "GridElement",
          "declaration": {
            "name": "GridElement",
            "module": "./lib/core/plugin"
          }
        },
        {
          "kind": "js",
          "name": "HeaderClickEvent",
          "declaration": {
            "name": "HeaderClickEvent",
            "module": "./lib/core/plugin"
          }
        },
        {
          "kind": "js",
          "name": "HeaderRenderer",
          "declaration": {
            "name": "HeaderRenderer",
            "module": "./lib/core/plugin"
          }
        },
        {
          "kind": "js",
          "name": "KeyboardModifiers",
          "declaration": {
            "name": "KeyboardModifiers",
            "module": "./lib/core/plugin"
          }
        },
        {
          "kind": "js",
          "name": "PluginCellRenderContext",
          "declaration": {
            "name": "PluginCellRenderContext",
            "module": "./lib/core/plugin"
          }
        },
        {
          "kind": "js",
          "name": "PluginHeaderRenderContext",
          "declaration": {
            "name": "PluginHeaderRenderContext",
            "module": "./lib/core/plugin"
          }
        },
        {
          "kind": "js",
          "name": "RowClickEvent",
          "declaration": {
            "name": "RowClickEvent",
            "module": "./lib/core/plugin"
          }
        },
        {
          "kind": "js",
          "name": "ScrollEvent",
          "declaration": {
            "name": "ScrollEvent",
            "module": "./lib/core/plugin"
          }
        },
        {
          "kind": "js",
          "name": "aggregatorRegistry",
          "declaration": {
            "name": "aggregatorRegistry",
            "module": "./lib/core/internal/aggregators"
          }
        },
        {
          "kind": "js",
          "name": "getAggregator",
          "declaration": {
            "name": "getAggregator",
            "module": "./lib/core/internal/aggregators"
          }
        },
        {
          "kind": "js",
          "name": "getValueAggregator",
          "declaration": {
            "name": "getValueAggregator",
            "module": "./lib/core/internal/aggregators"
          }
        },
        {
          "kind": "js",
          "name": "listAggregators",
          "declaration": {
            "name": "listAggregators",
            "module": "./lib/core/internal/aggregators"
          }
        },
        {
          "kind": "js",
          "name": "registerAggregator",
          "declaration": {
            "name": "registerAggregator",
            "module": "./lib/core/internal/aggregators"
          }
        },
        {
          "kind": "js",
          "name": "runAggregator",
          "declaration": {
            "name": "runAggregator",
            "module": "./lib/core/internal/aggregators"
          }
        },
        {
          "kind": "js",
          "name": "runValueAggregator",
          "declaration": {
            "name": "runValueAggregator",
            "module": "./lib/core/internal/aggregators"
          }
        },
        {
          "kind": "js",
          "name": "unregisterAggregator",
          "declaration": {
            "name": "unregisterAggregator",
            "module": "./lib/core/internal/aggregators"
          }
        },
        {
          "kind": "js",
          "name": "AggregatorFn",
          "declaration": {
            "name": "AggregatorFn",
            "module": "./lib/core/internal/aggregators"
          }
        },
        {
          "kind": "js",
          "name": "ValueAggregatorFn",
          "declaration": {
            "name": "ValueAggregatorFn",
            "module": "./lib/core/internal/aggregators"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/public.ts",
      "declarations": [
        {
          "kind": "function",
          "name": "createGrid",
          "return": {
            "type": {
              "text": ""
            }
          },
          "parameters": [
            {
              "name": "config",
              "optional": true,
              "type": {
                "text": "Partial<GridConfig<TRow>>"
              },
              "description": "Optional initial grid configuration"
            }
          ],
          "description": "Create a new typed grid element programmatically.\r\n\r\nThis avoids the need to cast when creating grids in TypeScript:\r\n```typescript\r\n// Before: manual cast required\r\nconst grid = document.createElement('tbw-grid') as DataGridElement<Employee>;\r\n\r\n// After: fully typed\r\nconst grid = createGrid<Employee>({\r\n  columns: [{ field: 'name' }],\r\n  plugins: [new SelectionPlugin()],\r\n});\r\ngrid.rows = employees; // ✓ Typed!\r\n```"
        },
        {
          "kind": "function",
          "name": "queryGrid",
          "return": {
            "type": {
              "text": ""
            }
          },
          "parameters": [
            {
              "name": "selector",
              "type": {
                "text": "string"
              },
              "description": "CSS selector to find the grid element"
            },
            {
              "name": "parent",
              "default": "document",
              "type": {
                "text": "ParentNode"
              },
              "description": "Parent node to search within (defaults to document)"
            }
          ],
          "description": "Query an existing grid element from the DOM with proper typing.\r\n\r\nThis avoids the need to cast when querying grids:\r\n```typescript\r\n// Before: manual cast required\r\nconst grid = document.querySelector('tbw-grid') as DataGridElement<Employee>;\r\n\r\n// After: fully typed\r\nconst grid = queryGrid<Employee>('#my-grid');\r\nif (grid) {\r\n  grid.rows = employees; // ✓ Typed!\r\n}\r\n```"
        },
        {
          "kind": "variable",
          "name": "DGEvents",
          "type": {
            "text": "{\r\n  /** Emitted by core after any data mutation */\r\n  CELL_CHANGE: 'cell-change',\r\n  CELL_COMMIT: 'cell-commit',\r\n  ROW_COMMIT: 'row-commit',\r\n  CHANGED_ROWS_RESET: 'changed-rows-reset',\r\n  MOUNT_EXTERNAL_VIEW: 'mount-external-view',\r\n  MOUNT_EXTERNAL_EDITOR: 'mount-external-editor',\r\n  SORT_CHANGE: 'sort-change',\r\n  COLUMN_RESIZE: 'column-resize',\r\n  ACTIVATE_CELL: 'activate-cell',\r\n  /** Unified cell activation event (keyboard or pointer) */\r\n  CELL_ACTIVATE: 'cell-activate',\r\n  GROUP_TOGGLE: 'group-toggle',\r\n  COLUMN_STATE_CHANGE: 'column-state-change',\r\n}"
          },
          "default": "{ /** Emitted by core after any data mutation */ CELL_CHANGE: 'cell-change', CELL_COMMIT: 'cell-commit', ROW_COMMIT: 'row-commit', CHANGED_ROWS_RESET: 'changed-rows-reset', MOUNT_EXTERNAL_VIEW: 'mount-external-view', MOUNT_EXTERNAL_EDITOR: 'mount-external-editor', SORT_CHANGE: 'sort-change', COLUMN_RESIZE: 'column-resize', ACTIVATE_CELL: 'activate-cell', /** Unified cell activation event (keyboard or pointer) */ CELL_ACTIVATE: 'cell-activate', GROUP_TOGGLE: 'group-toggle', COLUMN_STATE_CHANGE: 'column-state-change', }",
          "description": "Event name constants for DataGrid (public API).\r\n\r\nUse these constants instead of string literals for type-safe event handling."
        },
        {
          "kind": "variable",
          "name": "PluginEvents",
          "type": {
            "text": "{\r\n  // Selection plugin\r\n  SELECTION_CHANGE: 'selection-change',\r\n  // Tree plugin\r\n  TREE_EXPAND: 'tree-expand',\r\n  // Filtering plugin\r\n  FILTER_CHANGE: 'filter-change',\r\n  // Sorting plugin\r\n  SORT_MODEL_CHANGE: 'sort-model-change',\r\n  // Export plugin\r\n  EXPORT_START: 'export-start',\r\n  EXPORT_COMPLETE: 'export-complete',\r\n  // Clipboard plugin\r\n  CLIPBOARD_COPY: 'clipboard-copy',\r\n  CLIPBOARD_PASTE: 'clipboard-paste',\r\n  // Context menu plugin\r\n  CONTEXT_MENU_OPEN: 'context-menu-open',\r\n  CONTEXT_MENU_CLOSE: 'context-menu-close',\r\n  // Undo/Redo plugin\r\n  HISTORY_CHANGE: 'history-change',\r\n  // Server-side plugin\r\n  SERVER_LOADING: 'server-loading',\r\n  SERVER_ERROR: 'server-error',\r\n  // Visibility plugin\r\n  COLUMN_VISIBILITY_CHANGE: 'column-visibility-change',\r\n  // Reorder plugin\r\n  COLUMN_REORDER: 'column-reorder',\r\n  // Master-detail plugin\r\n  DETAIL_EXPAND: 'detail-expand',\r\n  // Grouping rows plugin\r\n  GROUP_EXPAND: 'group-expand',\r\n}"
          },
          "default": "{ // Selection plugin SELECTION_CHANGE: 'selection-change', // Tree plugin TREE_EXPAND: 'tree-expand', // Filtering plugin FILTER_CHANGE: 'filter-change', // Sorting plugin SORT_MODEL_CHANGE: 'sort-model-change', // Export plugin EXPORT_START: 'export-start', EXPORT_COMPLETE: 'export-complete', // Clipboard plugin CLIPBOARD_COPY: 'clipboard-copy', CLIPBOARD_PASTE: 'clipboard-paste', // Context menu plugin CONTEXT_MENU_OPEN: 'context-menu-open', CONTEXT_MENU_CLOSE: 'context-menu-close', // Undo/Redo plugin HISTORY_CHANGE: 'history-change', // Server-side plugin SERVER_LOADING: 'server-loading', SERVER_ERROR: 'server-error', // Visibility plugin COLUMN_VISIBILITY_CHANGE: 'column-visibility-change', // Reorder plugin COLUMN_REORDER: 'column-reorder', // Master-detail plugin DETAIL_EXPAND: 'detail-expand', // Grouping rows plugin GROUP_EXPAND: 'group-expand', }",
          "description": "Plugin event constants (mirrors DGEvents pattern).\r\n\r\nEvents emitted by built-in plugins. Import the relevant plugin\r\nto access these events."
        }
      ],
      "exports": [
        {
          "kind": "js",
          "name": "DataGridElement",
          "declaration": {
            "name": "DataGridElement",
            "module": "./lib/core/grid"
          }
        },
        {
          "kind": "js",
          "name": "GridElement",
          "declaration": {
            "name": "DataGridElement",
            "module": "./lib/core/grid"
          }
        },
        {
          "kind": "js",
          "name": "TbwGrid",
          "declaration": {
            "name": "DataGridElement",
            "module": "./lib/core/grid"
          }
        },
        {
          "kind": "js",
          "name": "createGrid",
          "declaration": {
            "name": "createGrid",
            "module": "src/public.ts"
          }
        },
        {
          "kind": "js",
          "name": "queryGrid",
          "declaration": {
            "name": "queryGrid",
            "module": "src/public.ts"
          }
        },
        {
          "kind": "js",
          "name": "DGEvents",
          "declaration": {
            "name": "DGEvents",
            "module": "src/public.ts"
          }
        },
        {
          "kind": "js",
          "name": "PluginEvents",
          "declaration": {
            "name": "PluginEvents",
            "module": "src/public.ts"
          }
        },
        {
          "kind": "js",
          "name": "ActivateCellDetail",
          "declaration": {
            "name": "ActivateCellDetail",
            "module": "./lib/core/types"
          }
        },
        {
          "kind": "js",
          "name": "AggregatorRef",
          "declaration": {
            "name": "AggregatorRef",
            "module": "./lib/core/types"
          }
        },
        {
          "kind": "js",
          "name": "AnimationConfig",
          "declaration": {
            "name": "AnimationConfig",
            "module": "./lib/core/types"
          }
        },
        {
          "kind": "js",
          "name": "AnimationMode",
          "declaration": {
            "name": "AnimationMode",
            "module": "./lib/core/types"
          }
        },
        {
          "kind": "js",
          "name": "AnimationStyle",
          "declaration": {
            "name": "AnimationStyle",
            "module": "./lib/core/types"
          }
        },
        {
          "kind": "js",
          "name": "BaseColumnConfig",
          "declaration": {
            "name": "BaseColumnConfig",
            "module": "./lib/core/types"
          }
        },
        {
          "kind": "js",
          "name": "CellActivateDetail",
          "declaration": {
            "name": "CellActivateDetail",
            "module": "./lib/core/types"
          }
        },
        {
          "kind": "js",
          "name": "CellActivateTrigger",
          "declaration": {
            "name": "CellActivateTrigger",
            "module": "./lib/core/types"
          }
        },
        {
          "kind": "js",
          "name": "CellChangeDetail",
          "declaration": {
            "name": "CellChangeDetail",
            "module": "./lib/core/types"
          }
        },
        {
          "kind": "js",
          "name": "CellClickDetail",
          "declaration": {
            "name": "CellClickDetail",
            "module": "./lib/core/types"
          }
        },
        {
          "kind": "js",
          "name": "CellRenderContext",
          "declaration": {
            "name": "CellRenderContext",
            "module": "./lib/core/types"
          }
        },
        {
          "kind": "js",
          "name": "ColumnConfig",
          "declaration": {
            "name": "ColumnConfig",
            "module": "./lib/core/types"
          }
        },
        {
          "kind": "js",
          "name": "ColumnConfigMap",
          "declaration": {
            "name": "ColumnConfigMap",
            "module": "./lib/core/types"
          }
        },
        {
          "kind": "js",
          "name": "ColumnEditorContext",
          "declaration": {
            "name": "ColumnEditorContext",
            "module": "./lib/core/types"
          }
        },
        {
          "kind": "js",
          "name": "ColumnEditorSpec",
          "declaration": {
            "name": "ColumnEditorSpec",
            "module": "./lib/core/types"
          }
        },
        {
          "kind": "js",
          "name": "ColumnResizeDetail",
          "declaration": {
            "name": "ColumnResizeDetail",
            "module": "./lib/core/types"
          }
        },
        {
          "kind": "js",
          "name": "ColumnSortState",
          "declaration": {
            "name": "ColumnSortState",
            "module": "./lib/core/types"
          }
        },
        {
          "kind": "js",
          "name": "ColumnState",
          "declaration": {
            "name": "ColumnState",
            "module": "./lib/core/types"
          }
        },
        {
          "kind": "js",
          "name": "ColumnType",
          "declaration": {
            "name": "ColumnType",
            "module": "./lib/core/types"
          }
        },
        {
          "kind": "js",
          "name": "ColumnViewRenderer",
          "declaration": {
            "name": "ColumnViewRenderer",
            "module": "./lib/core/types"
          }
        },
        {
          "kind": "js",
          "name": "DataGridCustomEvent",
          "declaration": {
            "name": "DataGridCustomEvent",
            "module": "./lib/core/types"
          }
        },
        {
          "kind": "js",
          "name": "DataGridElementInterface",
          "declaration": {
            "name": "DataGridElement",
            "module": "./lib/core/types"
          }
        },
        {
          "kind": "js",
          "name": "DataGridEventMap",
          "declaration": {
            "name": "DataGridEventMap",
            "module": "./lib/core/types"
          }
        },
        {
          "kind": "js",
          "name": "ExpandCollapseAnimation",
          "declaration": {
            "name": "ExpandCollapseAnimation",
            "module": "./lib/core/types"
          }
        },
        {
          "kind": "js",
          "name": "ExternalMountEditorDetail",
          "declaration": {
            "name": "ExternalMountEditorDetail",
            "module": "./lib/core/types"
          }
        },
        {
          "kind": "js",
          "name": "ExternalMountViewDetail",
          "declaration": {
            "name": "ExternalMountViewDetail",
            "module": "./lib/core/types"
          }
        },
        {
          "kind": "js",
          "name": "FitMode",
          "declaration": {
            "name": "FitMode",
            "module": "./lib/core/types"
          }
        },
        {
          "kind": "js",
          "name": "FrameworkAdapter",
          "declaration": {
            "name": "FrameworkAdapter",
            "module": "./lib/core/types"
          }
        },
        {
          "kind": "js",
          "name": "GridColumnState",
          "declaration": {
            "name": "GridColumnState",
            "module": "./lib/core/types"
          }
        },
        {
          "kind": "js",
          "name": "GridConfig",
          "declaration": {
            "name": "GridConfig",
            "module": "./lib/core/types"
          }
        },
        {
          "kind": "js",
          "name": "GridIcons",
          "declaration": {
            "name": "GridIcons",
            "module": "./lib/core/types"
          }
        },
        {
          "kind": "js",
          "name": "GridPlugin",
          "declaration": {
            "name": "GridPlugin",
            "module": "./lib/core/types"
          }
        },
        {
          "kind": "js",
          "name": "HeaderCellContext",
          "declaration": {
            "name": "HeaderCellContext",
            "module": "./lib/core/types"
          }
        },
        {
          "kind": "js",
          "name": "HeaderContentDefinition",
          "declaration": {
            "name": "HeaderContentDefinition",
            "module": "./lib/core/types"
          }
        },
        {
          "kind": "js",
          "name": "HeaderLabelContext",
          "declaration": {
            "name": "HeaderLabelContext",
            "module": "./lib/core/types"
          }
        },
        {
          "kind": "js",
          "name": "HeaderLabelRenderer",
          "declaration": {
            "name": "HeaderLabelRenderer",
            "module": "./lib/core/types"
          }
        },
        {
          "kind": "js",
          "name": "HeaderRenderer",
          "declaration": {
            "name": "HeaderRenderer",
            "module": "./lib/core/types"
          }
        },
        {
          "kind": "js",
          "name": "IconValue",
          "declaration": {
            "name": "IconValue",
            "module": "./lib/core/types"
          }
        },
        {
          "kind": "js",
          "name": "InferredColumnResult",
          "declaration": {
            "name": "InferredColumnResult",
            "module": "./lib/core/types"
          }
        },
        {
          "kind": "js",
          "name": "LoadingContext",
          "declaration": {
            "name": "LoadingContext",
            "module": "./lib/core/types"
          }
        },
        {
          "kind": "js",
          "name": "LoadingRenderer",
          "declaration": {
            "name": "LoadingRenderer",
            "module": "./lib/core/types"
          }
        },
        {
          "kind": "js",
          "name": "LoadingSize",
          "declaration": {
            "name": "LoadingSize",
            "module": "./lib/core/types"
          }
        },
        {
          "kind": "js",
          "name": "PrimitiveColumnType",
          "declaration": {
            "name": "PrimitiveColumnType",
            "module": "./lib/core/types"
          }
        },
        {
          "kind": "js",
          "name": "PublicGrid",
          "declaration": {
            "name": "PublicGrid",
            "module": "./lib/core/types"
          }
        },
        {
          "kind": "js",
          "name": "RowAnimationType",
          "declaration": {
            "name": "RowAnimationType",
            "module": "./lib/core/types"
          }
        },
        {
          "kind": "js",
          "name": "RowClickDetail",
          "declaration": {
            "name": "RowClickDetail",
            "module": "./lib/core/types"
          }
        },
        {
          "kind": "js",
          "name": "RowGroupRenderConfig",
          "declaration": {
            "name": "RowGroupRenderConfig",
            "module": "./lib/core/types"
          }
        },
        {
          "kind": "js",
          "name": "RowUpdate",
          "declaration": {
            "name": "RowUpdate",
            "module": "./lib/core/types"
          }
        },
        {
          "kind": "js",
          "name": "ShellConfig",
          "declaration": {
            "name": "ShellConfig",
            "module": "./lib/core/types"
          }
        },
        {
          "kind": "js",
          "name": "ShellHeaderConfig",
          "declaration": {
            "name": "ShellHeaderConfig",
            "module": "./lib/core/types"
          }
        },
        {
          "kind": "js",
          "name": "SortChangeDetail",
          "declaration": {
            "name": "SortChangeDetail",
            "module": "./lib/core/types"
          }
        },
        {
          "kind": "js",
          "name": "SortHandler",
          "declaration": {
            "name": "SortHandler",
            "module": "./lib/core/types"
          }
        },
        {
          "kind": "js",
          "name": "SortState",
          "declaration": {
            "name": "SortState",
            "module": "./lib/core/types"
          }
        },
        {
          "kind": "js",
          "name": "ToolbarContentDefinition",
          "declaration": {
            "name": "ToolbarContentDefinition",
            "module": "./lib/core/types"
          }
        },
        {
          "kind": "js",
          "name": "ToolPanelConfig",
          "declaration": {
            "name": "ToolPanelConfig",
            "module": "./lib/core/types"
          }
        },
        {
          "kind": "js",
          "name": "ToolPanelDefinition",
          "declaration": {
            "name": "ToolPanelDefinition",
            "module": "./lib/core/types"
          }
        },
        {
          "kind": "js",
          "name": "TypeDefault",
          "declaration": {
            "name": "TypeDefault",
            "module": "./lib/core/types"
          }
        },
        {
          "kind": "js",
          "name": "UpdateSource",
          "declaration": {
            "name": "UpdateSource",
            "module": "./lib/core/types"
          }
        },
        {
          "kind": "js",
          "name": "DEFAULT_ANIMATION_CONFIG",
          "declaration": {
            "name": "DEFAULT_ANIMATION_CONFIG",
            "module": "./lib/core/types"
          }
        },
        {
          "kind": "js",
          "name": "DEFAULT_GRID_ICONS",
          "declaration": {
            "name": "DEFAULT_GRID_ICONS",
            "module": "./lib/core/types"
          }
        },
        {
          "kind": "js",
          "name": "FitModeEnum",
          "declaration": {
            "name": "FitModeEnum",
            "module": "./lib/core/types"
          }
        },
        {
          "kind": "js",
          "name": "builtInSort",
          "declaration": {
            "name": "builtInSort",
            "module": "./lib/core/internal/sorting"
          }
        },
        {
          "kind": "js",
          "name": "defaultComparator",
          "declaration": {
            "name": "defaultComparator",
            "module": "./lib/core/internal/sorting"
          }
        },
        {
          "kind": "js",
          "name": "BaseGridPlugin",
          "declaration": {
            "name": "BaseGridPlugin",
            "module": "./lib/core/plugin"
          }
        },
        {
          "kind": "js",
          "name": "PLUGIN_QUERIES",
          "declaration": {
            "name": "PLUGIN_QUERIES",
            "module": "./lib/core/plugin"
          }
        },
        {
          "kind": "js",
          "name": "AfterCellRenderContext",
          "declaration": {
            "name": "AfterCellRenderContext",
            "module": "./lib/core/plugin"
          }
        },
        {
          "kind": "js",
          "name": "AfterRowRenderContext",
          "declaration": {
            "name": "AfterRowRenderContext",
            "module": "./lib/core/plugin"
          }
        },
        {
          "kind": "js",
          "name": "EventDefinition",
          "declaration": {
            "name": "EventDefinition",
            "module": "./lib/core/plugin"
          }
        },
        {
          "kind": "js",
          "name": "PluginManifest",
          "declaration": {
            "name": "PluginManifest",
            "module": "./lib/core/plugin"
          }
        },
        {
          "kind": "js",
          "name": "PluginQuery",
          "declaration": {
            "name": "PluginQuery",
            "module": "./lib/core/plugin"
          }
        },
        {
          "kind": "js",
          "name": "QueryDefinition",
          "declaration": {
            "name": "QueryDefinition",
            "module": "./lib/core/plugin"
          }
        },
        {
          "kind": "js",
          "name": "GridClasses",
          "declaration": {
            "name": "GridClasses",
            "module": "./lib/core/constants"
          }
        },
        {
          "kind": "js",
          "name": "GridCSSVars",
          "declaration": {
            "name": "GridCSSVars",
            "module": "./lib/core/constants"
          }
        },
        {
          "kind": "js",
          "name": "GridDataAttrs",
          "declaration": {
            "name": "GridDataAttrs",
            "module": "./lib/core/constants"
          }
        },
        {
          "kind": "js",
          "name": "GridSelectors",
          "declaration": {
            "name": "GridSelectors",
            "module": "./lib/core/constants"
          }
        },
        {
          "kind": "js",
          "name": "GridClassName",
          "declaration": {
            "name": "GridClassName",
            "module": "./lib/core/constants"
          }
        },
        {
          "kind": "js",
          "name": "GridCSSVar",
          "declaration": {
            "name": "GridCSSVar",
            "module": "./lib/core/constants"
          }
        },
        {
          "kind": "js",
          "name": "GridDataAttr",
          "declaration": {
            "name": "GridDataAttr",
            "module": "./lib/core/constants"
          }
        },
        {
          "kind": "js",
          "name": "RenderPhase",
          "declaration": {
            "name": "RenderPhase",
            "module": "./lib/core/internal/render-scheduler"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "test/helpers.spec.ts",
      "declarations": [
        {
          "kind": "class",
          "description": "",
          "name": "MockDataGridElement",
          "members": [
            {
              "kind": "field",
              "name": "_ready",
              "type": {
                "text": "boolean"
              },
              "privacy": "private",
              "default": "false"
            },
            {
              "kind": "field",
              "name": "_readyPromise",
              "type": {
                "text": "Promise<void>"
              },
              "privacy": "private",
              "default": "new Promise((resolve) => { this._resolveReady = resolve; })"
            },
            {
              "kind": "field",
              "name": "_resolveReady",
              "type": {
                "text": "() => void"
              },
              "privacy": "private"
            },
            {
              "kind": "method",
              "name": "ready",
              "return": {
                "type": {
                  "text": "Promise<void>"
                }
              }
            },
            {
              "kind": "method",
              "name": "simulateReady",
              "return": {
                "type": {
                  "text": "void"
                }
              }
            }
          ],
          "superclass": {
            "name": "HTMLElement"
          },
          "tagName": "data-grid",
          "customElement": true
        }
      ],
      "exports": [
        {
          "kind": "custom-element-definition",
          "name": "data-grid",
          "declaration": {
            "name": "MockDataGridElement",
            "module": "test/helpers.spec.ts"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "test/helpers.ts",
      "declarations": [
        {
          "kind": "function",
          "name": "waitUpgrade",
          "return": {
            "type": {
              "text": "Promise<void>"
            }
          },
          "parameters": [
            {
              "name": "grid",
              "type": {
                "text": "DataGridElement"
              }
            }
          ],
          "description": "Wait for element upgrade and ready state"
        },
        {
          "kind": "function",
          "name": "nextFrame",
          "return": {
            "type": {
              "text": "Promise<void>"
            }
          },
          "description": "Wait for next animation frame"
        },
        {
          "kind": "function",
          "name": "createGrid",
          "return": {
            "type": {
              "text": "DataGridElement"
            }
          },
          "description": "Create a grid element and append to body"
        },
        {
          "kind": "function",
          "name": "rafDebounce",
          "parameters": [
            {
              "name": "fn",
              "type": {
                "text": "T"
              }
            }
          ],
          "description": "Create a requestAnimationFrame-based debounce wrapper. Consecutive calls in the same frame\r\ncancel the previous scheduled callback ensuring it runs at most once per frame."
        }
      ],
      "exports": [
        {
          "kind": "js",
          "name": "waitUpgrade",
          "declaration": {
            "name": "waitUpgrade",
            "module": "test/helpers.ts"
          }
        },
        {
          "kind": "js",
          "name": "nextFrame",
          "declaration": {
            "name": "nextFrame",
            "module": "test/helpers.ts"
          }
        },
        {
          "kind": "js",
          "name": "createGrid",
          "declaration": {
            "name": "createGrid",
            "module": "test/helpers.ts"
          }
        },
        {
          "kind": "js",
          "name": "rafDebounce",
          "declaration": {
            "name": "rafDebounce",
            "module": "test/helpers.ts"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "test/setup.ts",
      "declarations": [],
      "exports": []
    },
    {
      "kind": "javascript-module",
      "path": "docs/stories/grid.stories.ts",
      "declarations": [
        {
          "kind": "variable",
          "name": "meta",
          "type": {
            "text": "Meta"
          },
          "default": "{ title: 'Grid/Core', tags: ['!dev'], parameters: { layout: 'fullscreen', docs: { description: { component: 'The core data grid component with virtualization, sorting, editing, and keyboard navigation.', }, }, }, argTypes: { // Data rowCount: { control: { type: 'range', min: 10, max: 10000, step: 100 }, description: 'Number of rows to generate (virtualization demo)', table: { category: 'Data' }, }, // Layout fixedHeight: { control: 'boolean', description: 'Use fixed height (enables virtualization)', table: { category: 'Layout' }, }, height: { control: { type: 'text' }, description: 'Grid height (CSS value)', table: { category: 'Layout' }, if: { arg: 'fixedHeight' }, }, fitMode: { control: { type: 'radio' }, options: ['stretch', 'fixed'], description: 'Column sizing strategy', table: { category: 'Layout', type: { summary: 'FitMode' } }, }, // Columns (multiselect) visibleColumns: { control: { type: 'check' }, options: ALL_COLUMNS, description: 'Columns to display', table: { category: 'Columns' }, }, // Features sortable: { control: 'boolean', description: 'Grid-wide toggle to enable/disable column sorting', table: { category: 'Features' }, }, resizable: { control: 'boolean', description: 'Grid-wide toggle to enable/disable column resizing', table: { category: 'Features' }, }, }, args: { rowCount: 100, fitMode: FitModeEnum.STRETCH, fixedHeight: true, height: '500px', visibleColumns: [...ALL_COLUMNS], sortable: true, resizable: true, }, }"
        },
        {
          "kind": "variable",
          "name": "Playground",
          "type": {
            "text": "Story"
          },
          "default": "{ parameters: { docs: { source: { code: ` <!-- HTML --> <tbw-grid></tbw-grid> <script type=\"module\"> import '@toolbox-web/grid'; const grid = document.querySelector('tbw-grid'); // Configure grid grid.fitMode = 'stretch'; grid.editOn = 'dblClick'; grid.columns = [ { field: 'id', header: 'ID', type: 'number', sortable: true, resizable: true }, { field: 'name', header: 'Name', sortable: true, resizable: true }, { field: 'active', header: 'Active', type: 'boolean', sortable: true }, { field: 'score', header: 'Score', type: 'number', sortable: true, resizable: true }, { field: 'created', header: 'Created', type: 'date', sortable: true, resizable: true }, { field: 'role', header: 'Role', type: 'select', sortable: true, options: [ { label: 'Admin', value: 'admin' }, { label: 'User', value: 'user' }, { label: 'Guest', value: 'guest' }, ], }, ]; grid.rows = generateRows(100); // Listen for cell edits grid.addEventListener('cell-commit', (e) => { console.log('cell-commit:', e.detail.field, '=', e.detail.newValue); }); </script> `, language: 'html', }, }, }, render: (args: GridArgs) => { const effectiveHeight = args.fixedHeight ? args.height : 'auto'; const grid = document.createElement('tbw-grid') as GridElement; grid.style.cssText = `height: ${effectiveHeight}; display: block;`; // Build columns from selected options const columns = buildColumnDefs(args.visibleColumns, { sortable: true, // Column-level always enabled; grid-level toggle controls actual behavior resizable: true, // Column-level always enabled; grid-level toggle controls actual behavior }); // Set props BEFORE grid is connected to DOM for single render pass grid.fitMode = args.fitMode; grid.gridConfig = { typeDefaults: { date: { format: (val: Date) => val.toLocaleDateString(undefined, { day: '2-digit', month: '2-digit', year: 'numeric' }), }, }, columns, sortable: args.sortable, // Grid-wide toggle resizable: args.resizable, // Grid-wide toggle plugins: [ new EditingPlugin({ editOn: args.editOn === 'click' ? 'click' : 'dblclick', }), ], }; grid.rows = generateRows(args.rowCount); grid.addEventListener('cell-commit', (e: Event) => { const detail = (e as CustomEvent).detail; console.log('cell-commit:', detail.field, '=', detail.newValue); }); return grid; }, }",
          "description": "## Interactive Grid Playground\r\n\r\nFull-featured demo with virtualization, sorting, editing, and keyboard navigation.\r\n\r\n**Controls:**\r\n- **Row Count**: Drag to test virtualization (try 10,000 rows!)\r\n- **Columns**: Select which columns to display\r\n- **Features**: Toggle sorting, resizing, and editing\r\n\r\n**Keyboard Navigation:**\r\n- Arrow keys: Move focus between cells\r\n- Enter: Start editing / confirm edit\r\n- Escape: Cancel editing\r\n- Tab/Shift+Tab: Move to next/previous cell\r\n- Home/End: Jump to first/last column\r\n- Ctrl+Home/End: Jump to first/last row\r\n- Page Up/Down: Scroll by page"
        },
        {
          "kind": "variable",
          "name": "ColumnInference",
          "type": {
            "text": "Story"
          },
          "default": "{ args: { rowCount: 5, }, argTypes: { // Hide controls for this simple demo fitMode: { table: { disable: true } }, height: { table: { disable: true } }, visibleColumns: { table: { disable: true } }, sortable: { table: { disable: true } }, resizable: { table: { disable: true } }, }, parameters: { docs: { source: { code: ` <!-- Option 1: Pure HTML with JSON attributes (simplest!) --> <tbw-grid style=\"height: 300px;\" rows='[ {\"id\":1,\"name\":\"Alice\",\"score\":95,\"active\":true}, {\"id\":2,\"name\":\"Bob\",\"score\":82,\"active\":false}, {\"id\":3,\"name\":\"Carol\",\"score\":91,\"active\":true} ]'> </tbw-grid> <!-- Option 2: JavaScript property assignment --> <tbw-grid id=\"my-grid\" style=\"height: 300px;\"></tbw-grid> <script type=\"module\"> import '@toolbox-web/grid'; const grid = document.querySelector('#my-grid'); // No columns defined - they're inferred from the data! grid.rows = [ { id: 1, name: 'Alice', score: 95, active: true, joined: new Date('2023-01-15') }, { id: 2, name: 'Bob', score: 82, active: false, joined: new Date('2023-06-20') }, { id: 3, name: 'Carol', score: 91, active: true, joined: new Date('2024-02-10') }, ]; </script> `, language: 'html', }, }, }, render: () => { const grid = document.createElement('tbw-grid') as GridElement; grid.style.height = '300px'; // No columns defined - they're inferred from the data! grid.rows = [ { id: 1, name: 'Alice', score: 95, active: true, joined: new Date('2023-01-15') }, { id: 2, name: 'Bob', score: 82, active: false, joined: new Date('2023-06-20') }, { id: 3, name: 'Carol', score: 91, active: true, joined: new Date('2024-02-10') }, ]; return grid; }, }",
          "description": "## Column Inference\r\n\r\nWhen no columns are provided, the grid infers column definitions from the data.\r\nTypes are detected automatically: strings, numbers, booleans, and dates."
        },
        {
          "kind": "variable",
          "name": "LightDOMColumns",
          "type": {
            "text": "Story"
          },
          "default": "{ argTypes: { rowCount: { table: { disable: true } }, fitMode: { table: { disable: true } }, height: { table: { disable: true } }, visibleColumns: { table: { disable: true } }, sortable: { table: { disable: true } }, resizable: { table: { disable: true } }, }, parameters: { docs: { source: { code: ` <!-- HTML --> <tbw-grid> <tbw-grid-column field=\"name\" header=\"Name\" sortable resizable></tbw-grid-column> <tbw-grid-column field=\"score\" header=\"Score\" type=\"number\" sortable></tbw-grid-column> <tbw-grid-column field=\"role\" header=\"Role\" type=\"select\" options=\"admin:Admin,user:User,guest:Guest\"></tbw-grid-column> </tbw-grid> <script type=\"module\"> import '@toolbox-web/grid'; const grid = document.querySelector('tbw-grid'); // Only rows needed - columns are defined in HTML grid.rows = [ { name: 'Alice', score: 95, role: 'admin' }, { name: 'Bob', score: 82, role: 'user' }, { name: 'Carol', score: 91, role: 'guest' }, ]; </script> `, language: 'html', }, }, }, render: () => { const host = document.createElement('div'); host.innerHTML = ` <tbw-grid style=\"height: 300px;\"> <tbw-grid-column field=\"name\" header=\"Name\" sortable resizable></tbw-grid-column> <tbw-grid-column field=\"score\" header=\"Score\" type=\"number\" sortable></tbw-grid-column> <tbw-grid-column field=\"role\" header=\"Role\" type=\"select\" options=\"admin:Admin,user:User,guest:Guest\"></tbw-grid-column> </tbw-grid>`; const grid = host.querySelector('tbw-grid') as GridElement; // Only rows needed - columns are defined in HTML grid.rows = [ { name: 'Alice', score: 95, role: 'admin' }, { name: 'Bob', score: 82, role: 'user' }, { name: 'Carol', score: 91, role: 'guest' }, ]; return grid; }, }",
          "description": "## Light DOM Configuration\r\n\r\nColumns can be defined declaratively in HTML using `<tbw-grid-column>` elements.\r\nThis is useful for HTML-first workflows or when columns are static."
        },
        {
          "kind": "variable",
          "name": "CustomRenderers",
          "type": {
            "text": "Story"
          },
          "default": "{ argTypes: { rowCount: { table: { disable: true } }, fitMode: { table: { disable: true } }, height: { table: { disable: true } }, visibleColumns: { table: { disable: true } }, sortable: { table: { disable: true } }, resizable: { table: { disable: true } }, }, parameters: { docs: { source: { code: ` <!-- HTML --> <tbw-grid></tbw-grid> <script type=\"module\"> import '@toolbox-web/grid'; const grid = document.querySelector('tbw-grid'); grid.columns = [ { field: 'name', header: 'Name' }, { field: 'score', header: 'Score', type: 'number', // Simple format function format: (value) => \\`\\${value} pts\\`, }, { field: 'status', header: 'Status', // viewRenderer for custom HTML viewRenderer: ({ value }) => { const color = value === 'active' ? 'green' : value === 'pending' ? 'orange' : 'gray'; return \\`<span style=\"color: \\${color}; font-weight: bold;\">● \\${value}</span>\\`; }, }, { field: 'progress', header: 'Progress', type: 'number', // viewRenderer can return HTMLElement viewRenderer: ({ value }) => { const bar = document.createElement('div'); bar.style.cssText = 'height:8px;background:#e0e0e0;border-radius:4px;overflow:hidden'; bar.innerHTML = \\`<div style=\"width:\\${value}%;height:100%;background:#4caf50\"></div>\\`; return bar; }, }, ]; grid.rows = [ { name: 'Project A', score: 85, status: 'active', progress: 75 }, { name: 'Project B', score: 62, status: 'pending', progress: 40 }, { name: 'Project C', score: 91, status: 'completed', progress: 100 }, ]; </script> `, language: 'html', }, }, }, render: () => { const grid = document.createElement('tbw-grid') as GridElement; grid.style.height = '300px'; grid.columns = [ { field: 'name', header: 'Name' }, { field: 'score', header: 'Score', type: 'number', // Simple format function format: (value: number) => `${value} pts`, }, { field: 'status', header: 'Status', // viewRenderer for custom HTML viewRenderer: ({ value }) => { const color = value === 'active' ? 'green' : value === 'pending' ? 'orange' : 'gray'; return `<span style=\"color: ${color}; font-weight: bold;\">● ${value}</span>`; }, }, { field: 'progress', header: 'Progress', type: 'number', // viewRenderer can return HTMLElement viewRenderer: ({ value }) => { const bar = document.createElement('div'); bar.style.cssText = 'height:8px;background:#e0e0e0;border-radius:4px;overflow:hidden'; bar.innerHTML = `<div style=\"width:${value}%;height:100%;background:#4caf50\"></div>`; return bar; }, }, ]; grid.rows = [ { name: 'Project A', score: 85, status: 'active', progress: 75 }, { name: 'Project B', score: 62, status: 'pending', progress: 40 }, { name: 'Project C', score: 91, status: 'completed', progress: 100 }, ]; return grid; }, }",
          "description": "## Custom Renderers\r\n\r\nUse `viewRenderer` for full control over cell rendering.\r\nRenderers can return HTML strings or DOM elements."
        },
        {
          "kind": "variable",
          "name": "ColumnStatePersistence",
          "type": {
            "text": "Story"
          },
          "default": "{ render: () => { const STORAGE_KEY = 'tbw-grid-column-state-demo'; // Wrapper with control buttons const wrapper = document.createElement('div'); wrapper.style.cssText = 'height: 100%; display: flex; flex-direction: column; gap: 16px;'; // Control buttons container const controls = document.createElement('div'); controls.style.cssText = 'display: flex; gap: 8px; flex-wrap: wrap; align-items: center;'; controls.innerHTML = ` <button id=\"save-state\" style=\"padding: 8px 16px; cursor: pointer;\">💾 Save State</button> <button id=\"load-state\" style=\"padding: 8px 16px; cursor: pointer;\">📂 Load State</button> <button id=\"clear-state\" style=\"padding: 8px 16px; cursor: pointer;\">🗑️ Clear Saved State</button> <button id=\"reset-state\" style=\"padding: 8px 16px; cursor: pointer;\">↩️ Reset to Default</button> <span id=\"status\" style=\"margin-left: 16px; color: #666;\"></span> `; wrapper.appendChild(controls); // Grid container const gridContainer = document.createElement('div'); gridContainer.style.cssText = 'flex: 1; min-height: 300px;'; gridContainer.innerHTML = `<tbw-grid style=\"height: 100%; display: block;\"></tbw-grid>`; wrapper.appendChild(gridContainer); const grid = gridContainer.querySelector('tbw-grid') as GridElement; const status = controls.querySelector('#status') as HTMLSpanElement; function showStatus(msg: string) { status.textContent = msg; setTimeout(() => (status.textContent = ''), 3000); } const codeSnippet = () => { // Check for saved state on load const savedState = localStorage.getItem(STORAGE_KEY); const initialState = savedState ? JSON.parse(savedState) : undefined; grid.gridConfig = { columns: [ { field: 'id', header: 'ID', type: 'number', sortable: true, resizable: true }, { field: 'name', header: 'Name', sortable: true, resizable: true }, { field: 'department', header: 'Department', sortable: true, resizable: true }, { field: 'salary', header: 'Salary', type: 'number', sortable: true, resizable: true }, { field: 'hired', header: 'Hired', type: 'date', sortable: true, resizable: true }, ], // Restore saved state if available columnState: initialState, }; grid.rows = [ { id: 1, name: 'Alice Smith', department: 'Engineering', salary: 95000, hired: new Date('2021-03-15') }, { id: 2, name: 'Bob Johnson', department: 'Marketing', salary: 75000, hired: new Date('2020-07-22') }, { id: 3, name: 'Carol Williams', department: 'Engineering', salary: 105000, hired: new Date('2019-11-01') }, { id: 4, name: 'David Brown', department: 'Sales', salary: 65000, hired: new Date('2022-01-10') }, { id: 5, name: 'Eve Davis', department: 'HR', salary: 70000, hired: new Date('2021-09-05') }, ]; // Listen for state changes (debounced at 100ms) grid.addEventListener('column-state-change', (e: Event) => { console.log('column-state-change', (e as CustomEvent).detail); showStatus('State changed! Click \"Save State\" to persist.'); }); }; codeSnippet(); // Button handlers controls.querySelector('#save-state')!.addEventListener('click', () => { const state = (grid as any).getColumnState(); localStorage.setItem(STORAGE_KEY, JSON.stringify(state)); showStatus('✅ State saved to localStorage!'); console.log('Saved state:', state); }); controls.querySelector('#load-state')!.addEventListener('click', () => { const saved = localStorage.getItem(STORAGE_KEY); if (saved) { (grid as any).columnState = JSON.parse(saved); showStatus('✅ State loaded from localStorage!'); } else { showStatus('⚠️ No saved state found'); } }); controls.querySelector('#clear-state')!.addEventListener('click', () => { localStorage.removeItem(STORAGE_KEY); showStatus('🗑️ Saved state cleared'); }); controls.querySelector('#reset-state')!.addEventListener('click', () => { (grid as any).resetColumnState(); showStatus('↩️ Reset to default column state'); }); // Show initial status if state was restored if (localStorage.getItem(STORAGE_KEY)) { showStatus('📂 Restored saved state from localStorage'); } return wrapper; }, parameters: { docs: { source: { code: ` <!-- HTML --> <tbw-grid></tbw-grid> <script type=\"module\"> import '@toolbox-web/grid'; const STORAGE_KEY = 'my-grid-state'; const grid = document.querySelector('tbw-grid'); // Check for saved state on load const savedState = localStorage.getItem(STORAGE_KEY); const initialState = savedState ? JSON.parse(savedState) : undefined; grid.gridConfig = { columns: [ { field: 'id', header: 'ID', type: 'number', sortable: true, resizable: true }, { field: 'name', header: 'Name', sortable: true, resizable: true }, { field: 'department', header: 'Department', sortable: true, resizable: true }, { field: 'salary', header: 'Salary', type: 'number', sortable: true, resizable: true }, { field: 'hired', header: 'Hired', type: 'date', sortable: true, resizable: true }, ], // Restore saved state if available columnState: initialState, }; grid.rows = [...]; // Listen for state changes grid.addEventListener('column-state-change', (e) => { console.log('column-state-change', e.detail); }); // Save state to localStorage const state = grid.getColumnState(); localStorage.setItem(STORAGE_KEY, JSON.stringify(state)); // Load state from localStorage grid.columnState = JSON.parse(localStorage.getItem(STORAGE_KEY)); // Reset to initial column config grid.resetColumnState(); </script> `, language: 'html', }, }, }, }",
          "description": "## Column State Persistence\r\n\r\nDemonstrates saving and restoring user column customizations:\r\n- **Column order** — drag columns to reorder (requires ReorderPlugin)\r\n- **Column widths** — resize columns\r\n- **Visibility** — hide/show columns\r\n- **Sort state** — click headers to sort\r\n\r\nThe grid emits `column-state-change` events when users modify columns.\r\nUse `grid.columnState` getter/setter to save and restore state.\r\n\r\nTry these actions, then click **Save State** and **Reload Page** to verify persistence!"
        },
        {
          "kind": "variable",
          "name": "ShellBasic",
          "type": {
            "text": "StoryObj<ShellArgs>"
          },
          "default": "{ argTypes: { // Override base argTypes for shell-specific controls rowCount: { table: { disable: true } }, fitMode: { table: { disable: true } }, height: { table: { disable: true } }, fixedHeight: { table: { disable: true } }, visibleColumns: { table: { disable: true } }, sortable: { table: { disable: true } }, resizable: { table: { disable: true } }, showTitle: { control: 'boolean', description: 'Show title in shell header', table: { category: 'Header' }, }, title: { control: 'text', description: 'Grid title', table: { category: 'Header' }, if: { arg: 'showTitle' }, }, showVisibilityPlugin: { control: 'boolean', description: 'Include VisibilityPlugin (column visibility panel)', table: { category: 'Plugins' }, }, showCustomPanel: { control: 'boolean', description: 'Show custom tool panel via API', table: { category: 'Panels' }, }, panelPosition: { control: { type: 'radio' }, options: ['left', 'right'], description: 'Tool panel position', table: { category: 'Panels' }, }, showHeaderContent: { control: 'boolean', description: 'Show custom header content (row count)', table: { category: 'Header' }, }, showToolbarButton: { control: 'boolean', description: 'Show custom toolbar button', table: { category: 'Header' }, }, }, args: { showTitle: true, title: 'Employee Data', showVisibilityPlugin: true, showCustomPanel: false, panelPosition: 'right', showHeaderContent: true, showToolbarButton: true, }, render: (args: ShellArgs) => { const htmlSnippet = `<tbw-grid style=\"height: 500px; display: block;\"></tbw-grid>`; const grid = document.createElement('tbw-grid') as GridElement; grid.style.cssText = 'height: 500px; display: block;'; // Build shell config const shellConfig: ShellConfig = { header: args.showTitle ? { title: args.title } : {}, toolPanel: { position: args.panelPosition }, }; // Build gridConfig with plugins const plugins: any[] = []; if (args.showVisibilityPlugin) { plugins.push(new VisibilityPlugin()); } grid.gridConfig = { shell: shellConfig, plugins, }; grid.columns = shellColumns; grid.rows = generateShellRows(20); // Add toolbar button via light DOM if enabled if (args.showToolbarButton) { let refreshCount = 0; const toolButtons = document.createElement('tbw-grid-tool-buttons'); const refreshBtn = document.createElement('button'); refreshBtn.className = 'tbw-toolbar-btn'; refreshBtn.title = 'Refresh Data'; refreshBtn.setAttribute('aria-label', 'Refresh Data'); refreshBtn.textContent = '↻'; refreshBtn.onclick = () => { refreshCount++; console.log(`Refreshed ${refreshCount} times`); grid.rows = generateShellRows(20); }; toolButtons.appendChild(refreshBtn); grid.appendChild(toolButtons); } // Register custom header content (row count display) if (args.showHeaderContent) { grid.registerHeaderContent({ id: 'row-count', order: 10, render: (container) => { const span = document.createElement('span'); span.className = 'row-count-display'; span.style.cssText = 'font-size: 13px; color: #666; padding: 4px 8px; background: #f0f0f0; border-radius: 4px;'; span.textContent = `${grid.rows.length} rows`; container.appendChild(span); return () => span.remove(); }, }); } // Register custom tool panel via API if (args.showCustomPanel) { grid.registerToolPanel({ id: 'settings', title: 'Settings', icon: '⚙', tooltip: 'Grid settings', order: 10, // Before columns panel (100) render: (container) => { const content = document.createElement('div'); content.style.cssText = ''; content.innerHTML = ` <h3 style=\"margin: 0 0 16px;\">Grid Settings</h3> <label style=\"display: flex; align-items: center; gap: 8px; margin-bottom: 12px;\"> <input type=\"checkbox\" checked /> <span>Enable row hover</span> </label> <label style=\"display: flex; align-items: center; gap: 8px; margin-bottom: 12px;\"> <input type=\"checkbox\" checked /> <span>Show grid lines</span> </label> <label style=\"display: flex; align-items: center; gap: 8px;\"> <input type=\"checkbox\" /> <span>Compact mode</span> </label> `; container.appendChild(content); return () => content.remove(); }, }); } return grid; }, parameters: { docs: { source: { code: ` <!-- HTML --> <tbw-grid></tbw-grid> <script type=\"module\"> import '@toolbox-web/grid'; import { VisibilityPlugin } from '@toolbox-web/grid/plugins/visibility'; const grid = document.querySelector('tbw-grid'); grid.gridConfig = { shell: { header: { title: 'Employee Data' }, toolPanel: { position: 'right' }, }, plugins: [new VisibilityPlugin()], }; grid.columns = [...]; grid.rows = [...]; // Register custom header content grid.registerHeaderContent({ id: 'row-count', render: (container) => { container.innerHTML = '<span>20 rows</span>'; }, }); </script> `, language: 'html', }, }, }, }",
          "description": "## Shell with Title and Visibility Plugin\r\n\r\nThe shell provides a header bar with:\r\n- **Title** (left section)\r\n- **Plugin Content** (center section) - where plugins can add UI\r\n- **Toolbar** (right section) - panel toggle buttons\r\n\r\nThe VisibilityPlugin automatically registers a tool panel via `getToolPanel()`."
        },
        {
          "kind": "variable",
          "name": "ShellLightDOMConfig",
          "type": {
            "text": "StoryObj"
          },
          "default": "{ argTypes: { rowCount: { table: { disable: true } }, fitMode: { table: { disable: true } }, height: { table: { disable: true } }, fixedHeight: { table: { disable: true } }, visibleColumns: { table: { disable: true } }, sortable: { table: { disable: true } }, resizable: { table: { disable: true } }, }, parameters: { docs: { source: { code: ` <!-- HTML --> <tbw-grid style=\"height: 500px; display: block;\"> <tbw-grid-header title=\"Employee Directory\"> <tbw-grid-header-content> <span style=\"color: #666;\">20 employees</span> </tbw-grid-header-content> </tbw-grid-header> </tbw-grid> <script type=\"module\"> import '@toolbox-web/grid'; const grid = document.querySelector('tbw-grid'); grid.columns = columns; grid.rows = rows; // Shell renders automatically from light DOM - no plugins needed! // Add plugins like VisibilityPlugin if you want a tool panel sidebar. </script> `, language: 'html', }, }, }, render: () => { const container = document.createElement('div'); container.innerHTML = ` <tbw-grid style=\"height: 500px; display: block;\"> <tbw-grid-header title=\"Employee Directory\"> <tbw-grid-header-content> <span style=\"color: #666; font-size: 13px; padding: 4px 8px; background: #f0f0f0; border-radius: 4px;\">20 employees</span> </tbw-grid-header-content> </tbw-grid-header> </tbw-grid> `; const grid = container.querySelector('tbw-grid') as GridElement; grid.columns = shellColumns; grid.rows = generateShellRows(20); // Shell renders automatically when <tbw-grid-header> is present in light DOM. // No plugins needed - the shell displays header, title, and content without tool panels. return grid; }, }",
          "description": "## Shell Light DOM Configuration\r\n\r\nShell elements can be configured via Light DOM for framework-friendly DX.\r\n\r\n```html\r\n<tbw-grid>\r\n  <tbw-grid-header title=\"My Grid\">\r\n    <tbw-grid-header-content slot=\"header-content\">\r\n      <span>Custom content</span>\r\n    </tbw-grid-header-content>\r\n    <tbw-grid-tool-button slot=\"toolbar\" icon=\"★\" label=\"Star\">\r\n    </tbw-grid-tool-button>\r\n  </tbw-grid-header>\r\n</tbw-grid>\r\n```"
        },
        {
          "kind": "variable",
          "name": "ShellMultiplePanels",
          "type": {
            "text": "StoryObj"
          },
          "default": "{ argTypes: { rowCount: { table: { disable: true } }, fitMode: { table: { disable: true } }, height: { table: { disable: true } }, fixedHeight: { table: { disable: true } }, visibleColumns: { table: { disable: true } }, sortable: { table: { disable: true } }, resizable: { table: { disable: true } }, editOn: { table: { disable: true } }, }, render: () => { const htmlSnippet = `<tbw-grid style=\"height: 500px; display: block;\"></tbw-grid>`; const grid = document.createElement('tbw-grid') as GridElement; grid.style.cssText = 'height: 500px; display: block;'; grid.gridConfig = { shell: { header: { title: 'Multi-Panel Demo' }, }, plugins: [new VisibilityPlugin()], }; grid.columns = shellColumns; grid.rows = generateShellRows(20); // Register a filter panel grid.registerToolPanel({ id: 'filter', title: 'Filter', icon: '🔍', tooltip: 'Filter data', order: 20, render: (container) => { const content = document.createElement('div'); content.style.cssText = ''; content.innerHTML = ` <div style=\"margin-bottom: 16px;\"> <label style=\"display: block; margin-bottom: 4px; font-size: 12px; color: #666;\">Name contains</label> <input type=\"text\" style=\"width: 100%; padding: 6px 8px; border: 1px solid #ddd; border-radius: 4px; box-sizing: border-box;\" placeholder=\"Search...\"> </div> <div style=\"margin-bottom: 16px;\"> <label style=\"display: block; margin-bottom: 4px; font-size: 12px; color: #666;\">Department</label> <select style=\"width: 100%; padding: 6px 8px; border: 1px solid #ddd; border-radius: 4px; box-sizing: border-box;\"> <option value=\"\">All</option> <option value=\"Engineering\">Engineering</option> <option value=\"Sales\">Sales</option> <option value=\"Marketing\">Marketing</option> <option value=\"Support\">Support</option> </select> </div> <button style=\"width: 100%; padding: 8px; background: #0066cc; color: white; border: none; border-radius: 4px; cursor: pointer;\">Apply Filter</button> `; container.appendChild(content); return () => content.remove(); }, }); // Register a settings panel grid.registerToolPanel({ id: 'settings', title: 'Settings', icon: '⚙', tooltip: 'Grid settings', order: 50, render: (container) => { const content = document.createElement('div'); content.style.cssText = ''; content.innerHTML = ` <label style=\"display: flex; align-items: center; gap: 8px; margin-bottom: 12px;\"> <input type=\"checkbox\" checked /> <span>Row hover effect</span> </label> <label style=\"display: flex; align-items: center; gap: 8px; margin-bottom: 12px;\"> <input type=\"checkbox\" checked /> <span>Alternating row colors</span> </label> <label style=\"display: flex; align-items: center; gap: 8px;\"> <input type=\"checkbox\" /> <span>Compact mode</span> </label> `; container.appendChild(content); return () => content.remove(); }, }); return grid; }, parameters: { docs: { source: { code: ` <!-- HTML --> <tbw-grid style=\"height: 500px;\"></tbw-grid> <script type=\"module\"> import '@toolbox-web/grid'; import { VisibilityPlugin } from '@toolbox-web/grid/plugins/visibility'; const grid = document.querySelector('tbw-grid'); grid.gridConfig = { shell: { header: { title: 'Multi-Panel Demo' } }, plugins: [new VisibilityPlugin()], // Adds \"Columns\" panel }; grid.columns = [...]; grid.rows = [...]; // Register custom \"Filter\" panel grid.registerToolPanel({ id: 'filter', title: 'Filter', icon: '🔍', tooltip: 'Filter data', order: 20, render: (container) => { container.innerHTML = '<div>Filter UI here</div>'; return () => container.innerHTML = ''; }, }); // Register custom \"Settings\" panel grid.registerToolPanel({ id: 'settings', title: 'Settings', icon: '⚙', tooltip: 'Grid settings', order: 50, render: (container) => { container.innerHTML = \\` <div> <label><input type=\"checkbox\" checked /> Row hover effect</label><br/> <label><input type=\"checkbox\" checked /> Alternating row colors</label> </div> \\`; return () => container.innerHTML = ''; }, }); </script> `, language: 'html', }, }, }, }",
          "description": "## Multiple Tool Panels\r\n\r\nMultiple plugins can register tool panels. The toolbar shows toggle buttons\r\nfor each panel, sorted by `order`. Clicking a panel button opens it; clicking\r\nagain (or clicking another) closes it."
        },
        {
          "kind": "variable",
          "name": "ShellToolbarButtons",
          "type": {
            "text": "StoryObj"
          },
          "default": "{ argTypes: { rowCount: { table: { disable: true } }, fitMode: { table: { disable: true } }, height: { table: { disable: true } }, fixedHeight: { table: { disable: true } }, visibleColumns: { table: { disable: true } }, sortable: { table: { disable: true } }, resizable: { table: { disable: true } }, }, parameters: { docs: { source: { code: ` <!-- HTML - Toolbar buttons via light-DOM container --> <tbw-grid> <tbw-grid-header title=\"Toolbar Demo\"></tbw-grid-header> <tbw-grid-tool-buttons> <button class=\"tbw-toolbar-btn\" title=\"Export\" aria-label=\"Export\">📥</button> <button class=\"tbw-toolbar-btn\" title=\"Print\" aria-label=\"Print\">🖨️</button> </tbw-grid-tool-buttons> </tbw-grid> <script type=\"module\"> import '@toolbox-web/grid'; const grid = document.querySelector('tbw-grid'); // Add click handlers const exportBtn = grid.querySelector('[title=\"Export\"]'); exportBtn.addEventListener('click', () => alert('Export!')); const printBtn = grid.querySelector('[title=\"Print\"]'); printBtn.addEventListener('click', () => window.print()); grid.columns = [...]; grid.rows = [...]; </script> `, language: 'html', }, }, }, render: () => { const grid = document.createElement('tbw-grid') as GridElement; grid.style.cssText = 'height: 500px; display: block;'; let exportCount = 0; // Create header for title const header = document.createElement('tbw-grid-header'); header.setAttribute('title', 'Toolbar Demo'); grid.appendChild(header); // Create toolbar buttons container const toolButtons = document.createElement('tbw-grid-tool-buttons'); const exportBtn = document.createElement('button'); exportBtn.className = 'tbw-toolbar-btn'; exportBtn.title = 'Export'; exportBtn.setAttribute('aria-label', 'Export'); exportBtn.textContent = '📥'; exportBtn.onclick = () => { exportCount++; alert(`Export clicked! (${exportCount})`); }; const printBtn = document.createElement('button'); printBtn.className = 'tbw-toolbar-btn'; printBtn.title = 'Print'; printBtn.setAttribute('aria-label', 'Print'); printBtn.textContent = '🖨️'; printBtn.onclick = () => window.print(); toolButtons.appendChild(exportBtn); toolButtons.appendChild(printBtn); grid.appendChild(toolButtons); grid.columns = shellColumns; grid.rows = generateShellRows(20); return grid; }, }",
          "description": "## Toolbar Buttons\r\n\r\nToolbar buttons are provided via light-DOM HTML using the `<tbw-grid-tool-buttons>` container.\r\nThe grid does NOT create buttons - developers have full control over button HTML.\r\n\r\nPut your buttons inside the container element:"
        },
        {
          "kind": "variable",
          "name": "ShellLeftPanelPosition",
          "type": {
            "text": "StoryObj"
          },
          "default": "{ argTypes: { rowCount: { table: { disable: true } }, fitMode: { table: { disable: true } }, height: { table: { disable: true } }, fixedHeight: { table: { disable: true } }, visibleColumns: { table: { disable: true } }, sortable: { table: { disable: true } }, resizable: { table: { disable: true } }, }, parameters: { docs: { source: { code: ` <!-- HTML --> <tbw-grid></tbw-grid> <script type=\"module\"> import '@toolbox-web/grid'; import { VisibilityPlugin } from '@toolbox-web/grid/plugins/visibility'; const grid = document.querySelector('tbw-grid'); grid.gridConfig = { shell: { header: { title: 'Left Panel Position' }, toolPanel: { position: 'left', defaultOpen: 'columns', // Open by default }, }, plugins: [new VisibilityPlugin()], }; grid.columns = [...]; grid.rows = [...]; </script> `, language: 'html', }, }, }, render: () => { const grid = document.createElement('tbw-grid') as GridElement; grid.style.cssText = 'height: 500px; display: block;'; grid.gridConfig = { shell: { header: { title: 'Left Panel Position' }, toolPanel: { position: 'left', defaultOpen: 'columns', // Open columns panel by default }, }, plugins: [new VisibilityPlugin()], }; grid.columns = shellColumns; grid.rows = generateShellRows(20); return grid; }, }",
          "description": "## Left Panel Position\r\n\r\nTool panels can be positioned on the left side of the grid."
        },
        {
          "kind": "variable",
          "name": "CoreEvents",
          "type": {
            "text": "Story"
          },
          "default": "{ parameters: { docs: { source: { code: ` const grid = document.querySelector('tbw-grid'); // Cell clicked grid.addEventListener('cell-click', (e) => { console.log('Cell:', e.detail.field, '=', e.detail.value); }); // Row clicked grid.addEventListener('row-click', (e) => { console.log('Row:', e.detail.rowIndex); }); // Keyboard navigation activated a cell grid.addEventListener('cell-activate', (e) => { console.log('Activated:', e.detail.rowIndex, e.detail.colIndex); }); // Sort changed grid.addEventListener('sort-change', (e) => { console.log('Sort:', e.detail.field, e.detail.direction); }); // Column resized grid.addEventListener('column-resize', (e) => { console.log('Resize:', e.detail.field, e.detail.width); }); // Column state changed (visibility, order, widths) grid.addEventListener('column-state-change', (e) => { console.log('State:', e.detail); }); `, language: 'typescript', }, }, }, render: () => { const sampleData = [ { id: 1, name: 'Alice Johnson', department: 'Engineering', salary: 85000 }, { id: 2, name: 'Bob Smith', department: 'Marketing', salary: 72000 }, { id: 3, name: 'Carol White', department: 'Sales', salary: 68000 }, { id: 4, name: 'David Brown', department: 'Engineering', salary: 92000 }, { id: 5, name: 'Eve Davis', department: 'HR', salary: 65000 }, ]; const container = document.createElement('div'); container.style.cssText = 'display: grid; grid-template-columns: 1fr 320px; gap: 16px;'; // Grid const grid = document.createElement('tbw-grid') as GridElement; grid.id = 'events-demo-grid'; grid.style.height = '350px'; grid.rows = sampleData; grid.gridConfig = { columns: [ { field: 'id', header: 'ID', width: 60, sortable: true }, { field: 'name', header: 'Name', sortable: true, resizable: true }, { field: 'department', header: 'Department', sortable: true, resizable: true }, { field: 'salary', header: 'Salary', type: 'number', sortable: true, resizable: true }, ], } as GridConfig; // Event log panel const logPanel = document.createElement('div'); logPanel.style.cssText = 'border: 1px solid var(--sb-border); padding: 12px; border-radius: 4px; background: var(--sbdocs-bg); overflow-y: auto; max-height: 350px;'; logPanel.innerHTML = ` <div style=\"display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px;\"> <strong>Event Log:</strong> <button id=\"clear-log\" style=\"padding: 4px 8px; cursor: pointer; font-size: 12px;\">Clear</button> </div> <div id=\"event-log\" style=\"font-family: monospace; font-size: 11px; color: var(--sbdocs-fg);\"></div> `; container.appendChild(grid); container.appendChild(logPanel); // Setup event listeners setTimeout(() => { const log = container.querySelector('#event-log'); const clearBtn = container.querySelector('#clear-log'); if (!log) return; const addLog = (type: string, detail: string) => { const msg = document.createElement('div'); msg.style.cssText = 'padding: 2px 0; border-bottom: 1px solid var(--sb-border);'; msg.innerHTML = `<span style=\"color: var(--sb-accent-color);\">[${type}]</span> ${detail}`; log.insertBefore(msg, log.firstChild); // Keep only last 20 entries while (log.children.length > 20) { log.lastChild?.remove(); } }; clearBtn?.addEventListener('click', () => { log.innerHTML = ''; }); grid.addEventListener('cell-click', (e: any) => { addLog('cell-click', `row ${e.detail.rowIndex}, field=\"${e.detail.field}\", value=\"${e.detail.value}\"`); }); grid.addEventListener('row-click', (e: any) => { addLog('row-click', `row ${e.detail.rowIndex}`); }); grid.addEventListener('cell-activate', (e: any) => { addLog('cell-activate', `row ${e.detail.rowIndex}, col ${e.detail.colIndex}`); }); grid.addEventListener('sort-change', (e: any) => { const dir = e.detail.direction === 1 ? 'asc' : e.detail.direction === -1 ? 'desc' : 'none'; addLog('sort-change', `field=\"${e.detail.field}\", direction=${dir}`); }); grid.addEventListener('column-resize', (e: any) => { addLog('column-resize', `field=\"${e.detail.field}\", width=${e.detail.width}px`); }); grid.addEventListener('column-state-change', (e: any) => { const state = e.detail; const widthCount = Object.keys(state.widths || {}).length; addLog('column-state-change', `${widthCount} widths, ${state.order?.length || 0} ordered`); }); }, 50); return container; }, }",
          "description": "## Core Grid Events\r\n\r\nThe grid emits events for core interactions. This demo shows:\r\n- `cell-click` / `row-click` - User interaction events\r\n- `cell-activate` - Keyboard navigation events\r\n- `sort-change` - Column sorting events\r\n- `column-resize` - Column width change events\r\n- `column-state-change` - Visibility/order/width state events\r\n\r\nFor editing events (`cell-commit`, `row-commit`), see the Editing Plugin."
        },
        {
          "kind": "variable",
          "name": "RowClass",
          "type": {
            "text": "Story"
          },
          "default": "{ parameters: { docs: { source: { code: ` <tbw-grid id=\"grid\"></tbw-grid> <script> const grid = document.getElementById('grid'); grid.gridConfig = { rowClass: (row) => { const classes = []; if (!row.active) classes.push('row-inactive'); if (row.role === 'admin') classes.push('row-admin'); return classes; }, }; grid.rows = data; </script> <style> .row-inactive { background-color: rgba(255, 100, 100, 0.15); } .row-admin { background-color: rgba(100, 150, 255, 0.15); } </style> `, language: 'html', }, }, }, render: () => { const grid = document.createElement('tbw-grid') as GridElement; grid.style.cssText = 'height: 400px; display: block;'; // Add custom styles with light-dark() for theme support const style = document.createElement('style'); style.textContent = ` .row-inactive { background-color: light-dark(rgba(255, 100, 100, 0.15), rgba(255, 120, 120, 0.25)); } .row-admin { background-color: light-dark(rgba(100, 150, 255, 0.15), rgba(120, 160, 255, 0.25)); } /* Combined: admin and inactive */ .row-inactive.row-admin { background-color: light-dark(rgba(200, 100, 200, 0.2), rgba(220, 120, 220, 0.3)); } `; grid.gridConfig = { rowClass: (row: any) => { const classes: string[] = []; if (!row.active) classes.push('row-inactive'); if (row.role === 'admin') classes.push('row-admin'); return classes; }, }; grid.columns = [ { field: 'id', header: 'ID', width: 60 }, { field: 'name', header: 'Name' }, { field: 'role', header: 'Role', width: 100 }, { field: 'active', header: 'Active', type: 'boolean', width: 80 }, ]; grid.rows = generateRows(20); const wrapper = document.createElement('div'); wrapper.appendChild(style); wrapper.appendChild(grid); return wrapper; }, }",
          "description": "## Row Class Callback\r\n\r\nUse the `rowClass` callback to apply dynamic CSS classes to rows based on row data.\r\nPerfect for conditional row styling like highlighting inactive users or priority items.\r\n\r\nIn this example:\r\n- Inactive rows have a red tint\r\n- Admin rows have a blue tint"
        },
        {
          "kind": "variable",
          "name": "CellClass",
          "type": {
            "text": "Story"
          },
          "default": "{ parameters: { docs: { source: { code: ` <tbw-grid id=\"grid\"></tbw-grid> <script> grid.columns = [ { field: 'id', header: 'ID' }, { field: 'name', header: 'Name' }, { field: 'score', header: 'Score', cellClass: (value) => { if (value < 30) return ['score-low']; if (value > 70) return ['score-high']; return ['score-medium']; }, }, ]; </script> <style> .score-low { background-color: rgba(255, 100, 100, 0.3); color: #a00; } .score-medium { background-color: rgba(255, 200, 100, 0.3); color: #850; } .score-high { background-color: rgba(100, 200, 100, 0.3); color: #060; } </style> `, language: 'html', }, }, }, render: () => { const grid = document.createElement('tbw-grid') as GridElement; grid.style.cssText = 'height: 400px; display: block;'; // Add custom styles with light-dark() for theme support const style = document.createElement('style'); style.textContent = ` .score-low { background-color: light-dark(rgba(255, 100, 100, 0.3), rgba(255, 120, 120, 0.35)); color: light-dark(#a00, #f88); font-weight: 500; } .score-medium { background-color: light-dark(rgba(255, 200, 100, 0.3), rgba(255, 210, 120, 0.35)); color: light-dark(#850, #fc6); } .score-high { background-color: light-dark(rgba(100, 200, 100, 0.3), rgba(120, 220, 120, 0.35)); color: light-dark(#060, #8f8); font-weight: 500; } `; grid.columns = [ { field: 'id', header: 'ID', width: 60 }, { field: 'name', header: 'Name' }, { field: 'score', header: 'Score', width: 100, cellClass: (value: number) => { if (value < 30) return ['score-low']; if (value > 70) return ['score-high']; return ['score-medium']; }, }, { field: 'role', header: 'Role', width: 100 }, ]; grid.rows = generateRows(20); const wrapper = document.createElement('div'); wrapper.appendChild(style); wrapper.appendChild(grid); return wrapper; }, }",
          "description": "## Cell Class Callback\r\n\r\nUse the `cellClass` column property to apply dynamic CSS classes to individual cells.\r\nPerfect for conditional cell styling like data validation or value-based formatting.\r\n\r\nIn this example:\r\n- Score cells below 30 are red (low)\r\n- Score cells 30-70 are yellow (medium)\r\n- Score cells above 70 are green (high)"
        },
        {
          "kind": "variable",
          "name": "CombinedDynamicClasses",
          "type": {
            "text": "Story"
          },
          "default": "{ parameters: { docs: { source: { code: ` grid.gridConfig = { rowClass: (row) => row.active ? [] : ['row-inactive'], }; grid.columns = [ { field: 'score', cellClass: (v) => v > 70 ? ['score-high'] : [] }, { field: 'role', cellClass: (_, row) => [\\`role-\\${row.role}\\`] }, ]; `, language: 'javascript', }, }, }, render: () => { const grid = document.createElement('tbw-grid') as GridElement; grid.style.cssText = 'height: 400px; display: block;'; const style = document.createElement('style'); style.textContent = ` .row-inactive { opacity: 0.6; } .score-high { background: light-dark( linear-gradient(90deg, rgba(100,200,100,0.3) 0%, transparent 100%), linear-gradient(90deg, rgba(120,220,120,0.35) 0%, transparent 100%) ); } .role-admin { background: light-dark(rgba(100,150,255,0.2), rgba(120,170,255,0.3)); font-weight: 600; } .role-user { background: light-dark(rgba(100,200,100,0.2), rgba(120,220,120,0.3)); } .role-guest { background: light-dark(rgba(200,200,200,0.2), rgba(180,180,180,0.25)); font-style: italic; } `; grid.gridConfig = { rowClass: (row: any) => (row.active ? [] : ['row-inactive']), }; grid.columns = [ { field: 'id', header: 'ID', width: 60 }, { field: 'name', header: 'Name' }, { field: 'score', header: 'Score', width: 100, cellClass: (value: number) => (value > 70 ? ['score-high'] : []), }, { field: 'role', header: 'Role', width: 100, cellClass: (_: any, row: any) => [`role-${row.role}`], }, { field: 'active', header: 'Active', type: 'boolean', width: 80 }, ]; grid.rows = generateRows(20); const wrapper = document.createElement('div'); wrapper.appendChild(style); wrapper.appendChild(grid); return wrapper; }, }",
          "description": "## Combined Row and Cell Classes\r\n\r\nYou can use both `rowClass` and `cellClass` together for comprehensive styling.\r\n\r\nIn this example:\r\n- Rows are styled based on active status\r\n- Score cells have gradient colors based on value\r\n- Role cells have badges styled by role type"
        },
        {
          "kind": "variable",
          "name": "RowAnimation",
          "type": {
            "text": "Story"
          },
          "default": "{ argTypes: { rowCount: { table: { disable: true } }, fitMode: { table: { disable: true } }, height: { table: { disable: true } }, fixedHeight: { table: { disable: true } }, visibleColumns: { table: { disable: true } }, sortable: { table: { disable: true } }, resizable: { table: { disable: true } }, }, parameters: { docs: { source: { code: ` <!-- HTML --> <tbw-grid></tbw-grid> <script type=\"module\"> import '@toolbox-web/grid'; const grid = document.querySelector('tbw-grid'); grid.columns = [ { field: 'id', header: 'ID', width: 60 }, { field: 'name', header: 'Name' }, { field: 'score', header: 'Score', type: 'number' }, { field: 'status', header: 'Status' }, ]; grid.rows = [...]; // Animate a single row (change highlight) grid.animateRow(2, 'change'); // Animate multiple rows grid.animateRows([0, 3, 5], 'change'); // Animate newly inserted row grid.rows = [...grid.rows, newRow]; grid.animateRow(grid.rows.length - 1, 'insert'); // Customize animation via CSS // tbw-grid { // --tbw-row-change-duration: 750ms; // --tbw-row-change-color: rgba(34, 197, 94, 0.25); // } </script> `, language: 'html', }, }, }, render: () => { const container = document.createElement('div'); container.style.display = 'flex'; container.style.flexDirection = 'column'; container.style.gap = '16px'; // Control panel const controls = document.createElement('div'); controls.style.cssText = 'display: flex; gap: 8px; flex-wrap: wrap; align-items: center;'; // Create styled button helper const createButton = (text: string, onClick: () => void) => { const btn = document.createElement('button'); btn.textContent = text; btn.style.cssText = ` padding: 8px 16px; border: 1px solid var(--tbw-color-border); border-radius: 4px; background: var(--tbw-color-bg); color: var(--tbw-color-fg); cursor: pointer; font-size: 14px; `; btn.addEventListener('click', onClick); return btn; }; const grid = document.createElement('tbw-grid') as AnimationGridElement; grid.style.height = '400px'; grid.style.display = 'block'; // Generate initial data const statuses = ['Active', 'Pending', 'Complete', 'Error']; let rowData = Array.from({ length: 15 }, (_, i) => ({ id: i + 1, name: `Row ${i + 1}`, score: Math.floor(Math.random() * 100), status: statuses[Math.floor(Math.random() * statuses.length)], })); // Helper to delete a row by id with animation const deleteRow = (id: number) => { const idx = rowData.findIndex((r) => r.id === id); if (idx < 0) return; grid.animateRow(idx, 'remove'); setTimeout(() => { rowData = rowData.filter((r) => r.id !== id); grid.rows = rowData; // Clean up stale remove animation attributes after re-render requestAnimationFrame(() => { grid.querySelectorAll('[data-animating=\"remove\"]').forEach((el) => { el.removeAttribute('data-animating'); }); }); }, 250); }; // Helper to insert a row after a given id with animation let insertCounter = rowData.length; const insertRowAfter = (afterId: number) => { const idx = rowData.findIndex((r) => r.id === afterId); if (idx < 0) return; insertCounter++; const newRow = { id: insertCounter, name: `New Row ${insertCounter}`, score: Math.floor(Math.random() * 100), status: 'Pending', }; rowData = [...rowData.slice(0, idx + 1), newRow, ...rowData.slice(idx + 1)]; grid.rows = rowData; requestAnimationFrame(() => { grid.animateRow(idx + 1, 'insert'); }); }; grid.columns = [ { field: 'id', header: 'ID', width: 60 }, { field: 'name', header: 'Name', width: 150 }, { field: 'score', header: 'Score', type: 'number', width: 100 }, { field: 'status', header: 'Status', width: 120 }, { field: '_actions', header: 'Actions', width: 100, sortable: false, viewRenderer: ({ row }) => { const wrapper = document.createElement('span'); wrapper.style.cssText = 'display: flex; gap: 4px;'; // Insert button const insertBtn = document.createElement('button'); insertBtn.textContent = '➕'; insertBtn.title = 'Insert row below'; insertBtn.style.cssText = 'cursor: pointer; padding: 2px 6px; border: none; background: none; font-size: 14px;'; insertBtn.addEventListener('click', (e) => { e.stopPropagation(); insertRowAfter(row.id); }); wrapper.appendChild(insertBtn); // Delete button const deleteBtn = document.createElement('button'); deleteBtn.textContent = '🗑️'; deleteBtn.title = 'Delete row'; deleteBtn.style.cssText = 'cursor: pointer; padding: 2px 6px; border: none; background: none; font-size: 14px;'; deleteBtn.addEventListener('click', (e) => { e.stopPropagation(); deleteRow(row.id); }); wrapper.appendChild(deleteBtn); return wrapper; }, }, ]; grid.rows = rowData; grid.fitMode = 'stretch'; // Button: Animate random row (change) controls.appendChild( createButton('🔄 Change Random Row', () => { const idx = Math.floor(Math.random() * rowData.length); rowData[idx].score = Math.floor(Math.random() * 100); grid.rows = [...rowData]; grid.animateRow(idx, 'change'); }), ); // Button: Animate multiple rows controls.appendChild( createButton('🔄 Change 3 Rows', () => { const indices: number[] = []; while (indices.length < 3 && indices.length < rowData.length) { const idx = Math.floor(Math.random() * rowData.length); if (!indices.includes(idx)) { indices.push(idx); rowData[idx].score = Math.floor(Math.random() * 100); } } grid.rows = [...rowData]; grid.animateRows(indices, 'change'); }), ); // Button: Insert new row at top controls.appendChild( createButton('➕ Insert at Top', () => { insertCounter++; const newRow = { id: insertCounter, name: `New Row ${insertCounter}`, score: Math.floor(Math.random() * 100), status: 'Pending', }; rowData = [newRow, ...rowData]; grid.rows = rowData; // Wait for render, then animate the first row (index 0) requestAnimationFrame(() => { grid.animateRow(0, 'insert'); }); }), ); // Separator const separator = document.createElement('span'); separator.style.cssText = 'width: 1px; height: 24px; background: var(--tbw-color-border); margin: 0 8px;'; controls.appendChild(separator); // Auto-simulation toggle let intervalId: ReturnType<typeof setInterval> | null = null; const autoBtn = createButton('▶️ Start Auto-Simulation', () => { if (intervalId) { clearInterval(intervalId); intervalId = null; autoBtn.textContent = '▶️ Start Auto-Simulation'; } else { intervalId = setInterval(() => { const action = Math.random(); if (action < 0.6) { // 60% chance: change random row const idx = Math.floor(Math.random() * rowData.length); rowData[idx].score = Math.floor(Math.random() * 100); rowData[idx].status = statuses[Math.floor(Math.random() * statuses.length)]; grid.rows = [...rowData]; grid.animateRow(idx, 'change'); } else if (action < 0.8 && rowData.length < 25) { // 20% chance: insert row insertCounter++; const newRow = { id: insertCounter, name: `Row ${insertCounter}`, score: Math.floor(Math.random() * 100), status: 'Pending', }; rowData = [...rowData, newRow]; grid.rows = rowData; requestAnimationFrame(() => { grid.animateRow(rowData.length - 1, 'insert'); }); } else if (rowData.length > 5) { // 20% chance: remove row const idx = Math.floor(Math.random() * rowData.length); grid.animateRow(idx, 'remove'); setTimeout(() => { rowData = rowData.filter((_, i) => i !== idx); grid.rows = rowData; // Clean up stale remove animation attributes after re-render requestAnimationFrame(() => { grid.querySelectorAll('[data-animating=\"remove\"]').forEach((el) => { el.removeAttribute('data-animating'); }); }); }, 250); } }, 1500); autoBtn.textContent = '⏹️ Stop Auto-Simulation'; } }); controls.appendChild(autoBtn); container.appendChild(controls); container.appendChild(grid); return container; }, }",
          "description": "## Row Animation Demo\r\n\r\nDemonstrates the Row Animation API with live examples of all animation types.\r\n\r\n**Features:**\r\n- **Change Animation**: Flash highlight when row data is modified\r\n- **Insert Animation**: Slide-in effect when new rows are added\r\n- **Remove Animation**: Fade-out effect before row removal\r\n\r\n**Controls:**\r\n- Use the buttons above the grid to trigger animations\r\n- Toggle auto-simulation to see random changes at intervals"
        }
      ],
      "exports": [
        {
          "kind": "js",
          "name": "default",
          "declaration": {
            "name": "meta",
            "module": "docs/stories/grid.stories.ts"
          }
        },
        {
          "kind": "js",
          "name": "Playground",
          "declaration": {
            "name": "Playground",
            "module": "docs/stories/grid.stories.ts"
          }
        },
        {
          "kind": "js",
          "name": "ColumnInference",
          "declaration": {
            "name": "ColumnInference",
            "module": "docs/stories/grid.stories.ts"
          }
        },
        {
          "kind": "js",
          "name": "LightDOMColumns",
          "declaration": {
            "name": "LightDOMColumns",
            "module": "docs/stories/grid.stories.ts"
          }
        },
        {
          "kind": "js",
          "name": "CustomRenderers",
          "declaration": {
            "name": "CustomRenderers",
            "module": "docs/stories/grid.stories.ts"
          }
        },
        {
          "kind": "js",
          "name": "ColumnStatePersistence",
          "declaration": {
            "name": "ColumnStatePersistence",
            "module": "docs/stories/grid.stories.ts"
          }
        },
        {
          "kind": "js",
          "name": "ShellBasic",
          "declaration": {
            "name": "ShellBasic",
            "module": "docs/stories/grid.stories.ts"
          }
        },
        {
          "kind": "js",
          "name": "ShellLightDOMConfig",
          "declaration": {
            "name": "ShellLightDOMConfig",
            "module": "docs/stories/grid.stories.ts"
          }
        },
        {
          "kind": "js",
          "name": "ShellMultiplePanels",
          "declaration": {
            "name": "ShellMultiplePanels",
            "module": "docs/stories/grid.stories.ts"
          }
        },
        {
          "kind": "js",
          "name": "ShellToolbarButtons",
          "declaration": {
            "name": "ShellToolbarButtons",
            "module": "docs/stories/grid.stories.ts"
          }
        },
        {
          "kind": "js",
          "name": "ShellLeftPanelPosition",
          "declaration": {
            "name": "ShellLeftPanelPosition",
            "module": "docs/stories/grid.stories.ts"
          }
        },
        {
          "kind": "js",
          "name": "CoreEvents",
          "declaration": {
            "name": "CoreEvents",
            "module": "docs/stories/grid.stories.ts"
          }
        },
        {
          "kind": "js",
          "name": "RowClass",
          "declaration": {
            "name": "RowClass",
            "module": "docs/stories/grid.stories.ts"
          }
        },
        {
          "kind": "js",
          "name": "CellClass",
          "declaration": {
            "name": "CellClass",
            "module": "docs/stories/grid.stories.ts"
          }
        },
        {
          "kind": "js",
          "name": "CombinedDynamicClasses",
          "declaration": {
            "name": "CombinedDynamicClasses",
            "module": "docs/stories/grid.stories.ts"
          }
        },
        {
          "kind": "js",
          "name": "RowAnimation",
          "declaration": {
            "name": "RowAnimation",
            "module": "docs/stories/grid.stories.ts"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "docs/stories/header-renderers.stories.ts",
      "declarations": [
        {
          "kind": "variable",
          "name": "meta",
          "type": {
            "text": "Meta"
          },
          "default": "{ title: 'Grid/Header Renderers', tags: ['!dev'], parameters: { layout: 'fullscreen', }, }"
        },
        {
          "kind": "variable",
          "name": "CustomHeaderRenderers",
          "type": {
            "text": "Story"
          },
          "default": "{ parameters: { docs: { source: { code: ` grid.columns = [ { field: 'id', header: 'ID', sortable: true }, { field: 'name', header: 'Name', sortable: true, resizable: true, // headerLabelRenderer: just customize the label, grid adds sort icons headerLabelRenderer: ({ value }) => { const span = document.createElement('span'); span.innerHTML = \\`\\${value} <span style=\"color: red;\">*</span>\\`; return span; }, }, { field: 'email', header: 'Email', sortable: true, resizable: true, // headerRenderer: full control over content, resize handles are automatic headerRenderer: (ctx) => { const wrapper = document.createElement('div'); wrapper.style.cssText = 'display:flex; align-items:center; gap:6px; width:100%;'; const icon = document.createElement('span'); icon.textContent = '📧'; wrapper.appendChild(icon); const label = document.createElement('span'); label.textContent = ctx.value; label.style.flex = '1'; wrapper.appendChild(label); // Use helper to add sort icon const sortIcon = ctx.renderSortIcon(); if (sortIcon) wrapper.appendChild(sortIcon); return wrapper; }, }, { field: 'score', header: 'Score', sortable: true }, ]; `, language: 'javascript', }, }, }, render: () => { const grid = document.createElement('tbw-grid') as GridElement; grid.style.height = '300px'; grid.columns = [ { field: 'id', header: 'ID', sortable: true }, { field: 'name', header: 'Name', sortable: true, resizable: true, // headerLabelRenderer: just customize the label, grid adds sort icons headerLabelRenderer: ({ value }) => { const span = document.createElement('span'); span.innerHTML = `${value} <span style=\"color: red; font-weight: bold;\">*</span>`; return span; }, }, { field: 'email', header: 'Email', sortable: true, resizable: true, // headerRenderer: full control over content, resize handles are automatic headerRenderer: (ctx) => { const wrapper = document.createElement('div'); wrapper.style.cssText = 'display:flex; align-items:center; gap:6px; width:100%;'; const icon = document.createElement('span'); icon.textContent = '📧'; wrapper.appendChild(icon); const label = document.createElement('span'); label.textContent = ctx.value; label.style.flex = '1'; wrapper.appendChild(label); // Use helper to add sort icon const sortIcon = ctx.renderSortIcon(); if (sortIcon) wrapper.appendChild(sortIcon); return wrapper; }, }, { field: 'score', header: 'Score', sortable: true }, ]; grid.rows = sampleRows; return grid; }, }",
          "description": "## Custom Header Renderers\r\n\r\nCustomize column headers with two levels of control:\r\n\r\n- **`headerLabelRenderer`**: Customize just the label. Grid handles sort icons and resize handles automatically.\r\n- **`headerRenderer`**: Full control over header content. Use `ctx.renderSortIcon()` to include sorting.\r\n  Resize handles are added automatically for resizable columns.\r\n\r\nThis example shows both approaches side-by-side:\r\n- **Name column**: Uses `headerLabelRenderer` to add a required indicator\r\n- **Email column**: Uses `headerRenderer` for complete control with a custom icon prefix"
        }
      ],
      "exports": [
        {
          "kind": "js",
          "name": "default",
          "declaration": {
            "name": "meta",
            "module": "docs/stories/header-renderers.stories.ts"
          }
        },
        {
          "kind": "js",
          "name": "CustomHeaderRenderers",
          "declaration": {
            "name": "CustomHeaderRenderers",
            "module": "docs/stories/header-renderers.stories.ts"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "docs/stories/loading-playground.stories.ts",
      "declarations": [
        {
          "kind": "variable",
          "name": "meta",
          "type": {
            "text": "Meta<LoadingArgs>"
          },
          "default": "{ title: 'Grid/Core/Loading', tags: ['!autodocs', '!dev'], parameters: { layout: 'fullscreen', }, argTypes: { mode: { control: { type: 'radio' }, options: ['grid', 'row', 'cell'], description: 'Loading indicator type', table: { category: 'Loading', type: { summary: \"'grid' | 'row' | 'cell'\" }, defaultValue: { summary: 'grid' }, }, }, autoReset: { control: 'boolean', description: 'Auto-clear loading after 1 second', table: { category: 'Loading', defaultValue: { summary: 'true' }, }, }, }, args: { mode: 'grid', autoReset: true, }, }"
        },
        {
          "kind": "variable",
          "name": "LoadingPlayground",
          "type": {
            "text": "Story"
          },
          "default": "{ name: 'Loading States', parameters: { docs: { source: { language: 'typescript', // Dynamic source code based on current args transform: () => getSourceCode(currentArgs.mode, currentArgs.autoReset), }, }, }, render: (args) => { // Update mutable args reference so event listeners read current values currentArgs.mode = args.mode; currentArgs.autoReset = args.autoReset; const id = `loading-demo-${++instanceId}`; const hint = modeHints[args.mode]; // Schedule setup after render requestAnimationFrame(() => { const container = document.getElementById(id); if (container) setupLoadingPlayground(container); }); return html` <style> .loading-demo { display: flex; flex-direction: column; height: 400px; } .loading-demo__bar { display: flex; align-items: center; gap: 12px; padding: 10px 12px; background: light-dark(#f5f5f5, #2a2a2a); border-bottom: 1px solid var(--sb-border); font-size: 13px; color: var(--sbdocs-fg); } .loading-demo__hint { flex: 1; } .loading-demo__hint strong { color: var(--sbdocs-heading); } .loading-demo__simulate { padding: 6px 14px; border: 1px solid var(--sb-border); border-radius: 4px; background: var(--tbw-accent); color: #fff; font-size: 13px; font-weight: 500; cursor: pointer; } .loading-demo__simulate:hover { opacity: 0.9; } </style> <div class=\"loading-demo\" id=\"${id}\"> <div class=\"loading-demo__bar\"> <div class=\"loading-demo__hint\">${unsafeHTML(hint)}</div> <button class=\"loading-demo__simulate\">▶ Simulate</button> </div> <tbw-grid style=\"flex: 1; min-height: 0;\"></tbw-grid> </div> `; }, }",
          "description": "## Loading States Playground\r\n\r\nInteractive demo for all loading indicator types.\r\n\r\n**Modes:**\r\n- **Grid**: Full overlay spinner covering entire grid\r\n- **Row**: Per-row loading indicator (click rows to trigger)\r\n- **Cell**: Per-cell loading indicator (click cells to trigger)\r\n\r\n**Auto Reset:**\r\n- **On**: Loading clears automatically after 1 second\r\n- **Off**: Loading persists until manually cleared (click again to toggle)\r\n\r\nUse **▶ Simulate** to demonstrate cascading loading animations."
        },
        {
          "kind": "variable",
          "name": "CustomLoadingRenderer",
          "type": {
            "text": "Story"
          },
          "default": "{ name: 'Custom Loading Renderer', argTypes: { mode: { table: { disable: true } }, autoReset: { table: { disable: true } }, }, parameters: { docs: { source: { language: 'typescript', code: `import '@toolbox-web/grid'; const grid = document.querySelector('tbw-grid'); grid.gridConfig = { getRowId: (row) => row.id, loadingRenderer: (ctx) => { // ctx.size: 'large' (grid) or 'small' (row/cell) const container = document.createElement('div'); container.className = 'progress-bar-container'; const bar = document.createElement('div'); bar.className = 'progress-bar'; container.appendChild(bar); return container; }, };`, }, }, }, render: () => { const id = `custom-loading-${++customRendererId}`; requestAnimationFrame(() => { const container = document.getElementById(id); if (!container) return; const grid = container.querySelector<DataGridElement<Employee>>('tbw-grid')!; const toggleBtn = container.querySelector<HTMLButtonElement>('.custom-loading__toggle')!; if (grid.hasAttribute('data-initialized')) return; grid.setAttribute('data-initialized', 'true'); grid.columns = [ { field: 'id', header: 'ID', width: 80 }, { field: 'name', header: 'Name' }, { field: 'email', header: 'Email' }, { field: 'department', header: 'Department' }, ]; grid.rows = employees; grid.gridConfig = { getRowId: (row) => row.id, loadingRenderer: () => { const container = document.createElement('div'); container.className = 'progress-bar-container'; const bar = document.createElement('div'); bar.className = 'progress-bar'; container.appendChild(bar); return container; }, }; toggleBtn.addEventListener('click', () => { grid.loading = !grid.loading; }); }); return html` <style> .custom-loading { display: flex; flex-direction: column; height: 400px; } .custom-loading__bar { display: flex; align-items: center; gap: 12px; padding: 10px 12px; background: light-dark(#f5f5f5, #2a2a2a); border-bottom: 1px solid var(--sb-border); font-size: 13px; color: var(--sbdocs-fg); } .custom-loading__hint { flex: 1; } .custom-loading__toggle { padding: 6px 14px; border: 1px solid var(--sb-border); border-radius: 4px; background: var(--tbw-accent); color: #fff; font-size: 13px; font-weight: 500; cursor: pointer; } .custom-loading__toggle:hover { opacity: 0.9; } .progress-bar-container { position: absolute; top: 0; left: 0; right: 0; height: 4px; background: light-dark(rgba(0, 0, 0, 0.08), rgba(255, 255, 255, 0.08)); overflow: hidden; z-index: 1000; } .progress-bar { height: 100%; background: light-dark(#1976d2, #64b5f6); width: 30%; animation: progress-indeterminate 2s cubic-bezier(0.4, 0, 0.2, 1) infinite; transform-origin: left; } @keyframes progress-indeterminate { 0% { transform: translateX(-100%); } 100% { transform: translateX(400%); } } </style> <div class=\"custom-loading\" id=\"${id}\"> <div class=\"custom-loading__bar\"> <div class=\"custom-loading__hint\"> Replace the default spinner with a <strong>linear progress bar</strong>. </div> <button class=\"custom-loading__toggle\">Toggle Loading</button> </div> <tbw-grid style=\"flex: 1; min-height: 0;\"></tbw-grid> </div> `; }, }",
          "description": "Replace the default spinner with a custom loading component.\r\nThis example shows a Material Design-style linear progress bar."
        }
      ],
      "exports": [
        {
          "kind": "js",
          "name": "default",
          "declaration": {
            "name": "meta",
            "module": "docs/stories/loading-playground.stories.ts"
          }
        },
        {
          "kind": "js",
          "name": "LoadingPlayground",
          "declaration": {
            "name": "LoadingPlayground",
            "module": "docs/stories/loading-playground.stories.ts"
          }
        },
        {
          "kind": "js",
          "name": "CustomLoadingRenderer",
          "declaration": {
            "name": "CustomLoadingRenderer",
            "module": "docs/stories/loading-playground.stories.ts"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "docs/stories/performance.stories.ts",
      "declarations": [
        {
          "kind": "variable",
          "name": "meta",
          "type": {
            "text": "Meta"
          },
          "default": "{ title: 'Grid/Benchmarks', tags: ['!dev'], parameters: { layout: 'fullscreen' }, }"
        },
        {
          "kind": "variable",
          "name": "PerformanceStressTest",
          "type": {
            "text": "Story"
          },
          "default": "{ args: { rowCount: 10000, columnCount: 10, }, argTypes: { rowCount: { control: { type: 'range', min: 1000, max: 100000, step: 1000 }, description: 'Number of data rows', }, columnCount: { control: { type: 'range', min: 5, max: 50, step: 5 }, description: 'Number of columns', }, }, render: (args: StressTestArgs) => { const wrapper = document.createElement('div'); wrapper.className = 'dg-view-wrapper'; // Control bar const bar = document.createElement('div'); bar.className = 'dg-view-bar'; bar.style.cssText = 'display:flex;align-items:center;gap:12px;flex-wrap:wrap;'; bar.innerHTML = ` <button id=\"run-bench\" class=\"dg-toggle-btn\">Run Full Benchmark</button> <span id=\"bench-status\" style=\"font-size:13px;\">Ready - ${args.rowCount.toLocaleString()} rows × ${ args.columnCount } columns</span> `; // Grid container const gridContainer = document.createElement('div'); gridContainer.className = 'dg-grid-container'; const grid = document.createElement('tbw-grid') as GridElement; gridContainer.appendChild(grid); // Results area const resultsEl = document.createElement('div'); resultsEl.className = 'dg-description'; resultsEl.id = 'bench-results'; resultsEl.innerHTML = ` <p>Click <strong>Run Full Benchmark</strong> to test all grid operations.</p> <p style=\"opacity:0.7;font-size:12px;\">Tests: Initial render, scroll performance, sort, filter, data update, selection, memory usage</p> `; gridContainer.appendChild(resultsEl); wrapper.appendChild(bar); wrapper.appendChild(gridContainer); // Setup benchmark runner setTimeout(() => { const runBtn = bar.querySelector('#run-bench') as HTMLButtonElement; const status = bar.querySelector('#bench-status') as HTMLSpanElement; const results = wrapper.querySelector('#bench-results') as HTMLDivElement; if (!runBtn) return; runBtn.addEventListener('click', async () => { runBtn.disabled = true; const allResults: BenchmarkResult[] = []; const updateResults = () => { results.innerHTML = renderResultsTable(allResults); }; // Helper: wait for RAF const nextFrame = () => new Promise<void>((r) => requestAnimationFrame(() => r())); // Helper: measure operation const measure = async (fn: () => void | Promise<void>): Promise<number> => { await nextFrame(); const start = performance.now(); await fn(); await nextFrame(); return performance.now() - start; }; // Modern memory measurement API (requires COOP/COEP headers) type MemoryMeasurement = { bytes: number; breakdown: { bytes: number; types: string[] }[] }; let memoryApiReason = ''; const measureMemory = async (): Promise<number | null> => { try { // Check if API exists const perf = performance as unknown as { measureUserAgentSpecificMemory?: () => Promise<MemoryMeasurement>; }; if (!perf.measureUserAgentSpecificMemory) { memoryApiReason = 'API unavailable (Chrome 89+ only)'; return null; } // Check cross-origin isolation if (!crossOriginIsolated) { memoryApiReason = 'Missing COOP/COEP headers (restart Storybook)'; return null; } const result = await perf.measureUserAgentSpecificMemory(); return result.bytes; } catch (e) { memoryApiReason = `API error: ${e instanceof Error ? e.message : String(e)}`; return null; } }; status.textContent = 'Generating test data...'; await nextFrame(); // Capture heap before grid data is loaded (baseline for delta calculation) // Clear grid first and wait for GC opportunity grid.gridConfig = { columns: [], plugins: [] }; grid.rows = []; await new Promise((r) => setTimeout(r, 100)); const heapBefore = await measureMemory(); const baseColumns = generateColumns(args.columnCount, { sortable: true, filterable: true }); const baseRows = generateRows(args.rowCount, args.columnCount); // Calculate scaling factors for targets based on data size // Baseline: 10k rows × 10 columns = 100k cells // Use sqrt scaling - performance doesn't degrade linearly due to virtualization const baselineRows = 10_000; const baselineCols = 10; const rowScale = Math.max(1, Math.sqrt(args.rowCount / baselineRows)); const colScale = Math.max(1, Math.sqrt(args.columnCount / baselineCols)); const cellScale = rowScale * colScale; // Target calculators with different scaling curves const scaledByRows = (base: number) => Math.round(base * rowScale); const scaledByCells = (base: number) => Math.round(base * cellScale); // #region 🎨 INITIAL RENDER BENCHMARKS status.textContent = 'Testing: Initial render (baseline)...'; // Clear grid grid.gridConfig = { columns: [], plugins: [] }; grid.rows = []; await new Promise((r) => setTimeout(r, 50)); // Benchmark: Initial render baseline const renderTime = await measure(() => { grid.columns = baseColumns; grid.rows = [...baseRows]; }); allResults.push({ name: 'Baseline render', category: 'render', time: renderTime, unit: 'ms', target: scaledByCells(100), passed: renderTime < scaledByCells(100), }); updateResults(); // Benchmark: Render with plugins status.textContent = 'Testing: Initial render (with plugins)...'; grid.gridConfig = { columns: [], plugins: [] }; grid.rows = []; await new Promise((r) => setTimeout(r, 50)); const pluginColumns = baseColumns.map((col, i) => ({ ...col, sticky: i === 0 ? ('left' as const) : undefined, })); const pluginRenderTime = await measure(() => { grid.gridConfig = { columns: pluginColumns as ColumnConfig[], plugins: [ new SelectionPlugin({ mode: 'row' }), new PinnedColumnsPlugin(), new MultiSortPlugin({ maxSortColumns: 3 }), new FilteringPlugin({ debounceMs: 0 }), new ColumnVirtualizationPlugin({ threshold: 20, overscan: 3 }), ], }; grid.rows = [...baseRows]; }); allResults.push({ name: 'Render with 5 plugins', category: 'render', time: pluginRenderTime, unit: 'ms', target: scaledByCells(150), passed: pluginRenderTime < scaledByCells(150), }); updateResults(); // #endregion // #region 📜 SCROLL BENCHMARKS status.textContent = 'Testing: Scroll performance...'; await new Promise((r) => setTimeout(r, 100)); const scrollContainer = grid.shadowRoot?.querySelector('.faux-vscroll') as HTMLElement | null; if (scrollContainer) { const totalHeight = scrollContainer.scrollHeight; const viewportHeight = scrollContainer.clientHeight; const steps = 30; const stepSize = (totalHeight - viewportHeight) / steps; if (stepSize > 0) { // Warm-up pass for (let i = 0; i <= steps; i++) { scrollContainer.scrollTop = i * stepSize; await nextFrame(); } scrollContainer.scrollTop = 0; await new Promise((r) => setTimeout(r, 50)); // Actual measurement const frameTimes: number[] = []; for (let i = 0; i <= steps; i++) { const start = performance.now(); scrollContainer.scrollTop = i * stepSize; await nextFrame(); frameTimes.push(performance.now() - start); } const avgScroll = frameTimes.reduce((a, b) => a + b, 0) / frameTimes.length; const p95Scroll = [...frameTimes].sort((a, b) => a - b)[Math.floor(frameTimes.length * 0.95)]; // Scroll target scales with columns (more cells per row = heavier render) const scrollTarget = Math.min(33.33, 17 * (1 + (args.columnCount - 10) / 40)); allResults.push({ name: 'Scroll avg frame', category: 'scroll', time: avgScroll, unit: 'ms', target: scrollTarget, passed: avgScroll < scrollTarget, }); allResults.push({ name: 'Scroll P95 frame', category: 'scroll', time: p95Scroll, unit: 'ms', target: 33.33, // 30fps acceptable for P95 passed: p95Scroll < 33.33, }); updateResults(); // Stress scroll: rapid jumping (worst case scenario) status.textContent = 'Testing: Stress scroll (random jumps)...'; scrollContainer.scrollTop = 0; await new Promise((r) => setTimeout(r, 50)); const stressJumps = 20; const stressFrameTimes: number[] = []; for (let i = 0; i < stressJumps; i++) { // Jump to random positions (forces full re-render of row pool) const randomPos = Math.random() * (totalHeight - viewportHeight); const start = performance.now(); scrollContainer.scrollTop = randomPos; await nextFrame(); stressFrameTimes.push(performance.now() - start); } const avgStressScroll = stressFrameTimes.reduce((a, b) => a + b, 0) / stressFrameTimes.length; const maxStressScroll = Math.max(...stressFrameTimes); allResults.push({ name: 'Stress scroll avg', category: 'scroll', time: avgStressScroll, unit: 'ms', target: 50, // More lenient - random jumps are expensive passed: avgStressScroll < 50, }); allResults.push({ name: 'Stress scroll max', category: 'scroll', time: maxStressScroll, unit: 'ms', target: 100, // Worst case should still be < 100ms passed: maxStressScroll < 100, }); updateResults(); scrollContainer.scrollTop = 0; await new Promise((r) => setTimeout(r, 50)); } } // Horizontal scroll (column virtualization) status.textContent = 'Testing: Horizontal scroll performance...'; await new Promise((r) => setTimeout(r, 100)); // Get horizontal scroll container const hScrollContainer = grid.shadowRoot?.querySelector('.tbw-scroll-area') as HTMLElement | null; const colVirtPlugin = grid.getPlugin?.(ColumnVirtualizationPlugin); if (hScrollContainer && args.columnCount >= 20) { // Calculate total content width (all columns) const totalWidth = hScrollContainer.scrollWidth; const viewportWidth = hScrollContainer.clientWidth; const hSteps = 30; const hStepSize = (totalWidth - viewportWidth) / hSteps; if (hStepSize > 0) { // Warm-up pass for (let i = 0; i <= hSteps; i++) { hScrollContainer.scrollLeft = i * hStepSize; await nextFrame(); } hScrollContainer.scrollLeft = 0; await new Promise((r) => setTimeout(r, 50)); // Actual measurement const hFrameTimes: number[] = []; for (let i = 0; i <= hSteps; i++) { const start = performance.now(); hScrollContainer.scrollLeft = i * hStepSize; await nextFrame(); hFrameTimes.push(performance.now() - start); } const avgHScroll = hFrameTimes.reduce((a, b) => a + b, 0) / hFrameTimes.length; const p95HScroll = [...hFrameTimes].sort((a, b) => a - b)[Math.floor(hFrameTimes.length * 0.95)]; // Horizontal scroll target - columns virtualize so should be fast const hScrollTarget = 17; // Target 60fps allResults.push({ name: 'H-Scroll avg frame', category: 'scroll', time: avgHScroll, unit: 'ms', target: hScrollTarget, passed: avgHScroll < hScrollTarget, }); allResults.push({ name: 'H-Scroll P95 frame', category: 'scroll', time: p95HScroll, unit: 'ms', target: 33.33, passed: p95HScroll < 33.33, }); // Report if column virtualization is active if (colVirtPlugin) { const isVirt = colVirtPlugin.getIsVirtualized(); const range = colVirtPlugin.getVisibleColumnRange(); allResults.push({ name: `Col virtualization (${range.end - range.start + 1}/${args.columnCount} visible)`, category: 'scroll', time: isVirt ? 1 : 0, unit: 'bool', target: 1, // Should be virtualized with 20+ columns passed: isVirt, }); } updateResults(); } } // #endregion // #region ⚡ OPERATION BENCHMARKS // Sort operation status.textContent = 'Testing: Sort operation...'; if (scrollContainer) { scrollContainer.scrollTop = 0; } await new Promise((r) => setTimeout(r, 50)); const sortPlugin = grid.getPlugin?.(MultiSortPlugin); if (sortPlugin) { // Sort scales with row count (O(n log n)), base 150ms for 10k rows const sortTarget = Math.round(150 * (Math.log2(args.rowCount) / Math.log2(10000))); // Sort ascending by numeric id column const sortTime = await measure(() => { sortPlugin.setSortModel([{ field: 'id', direction: 'asc' }]); }); allResults.push({ name: 'Sort (ascending)', category: 'operation', time: sortTime, unit: 'ms', target: sortTarget, passed: sortTime < sortTarget, }); updateResults(); // Replace with fresh unsorted data before descending test grid.rows = generateRows(args.rowCount, args.columnCount); await nextFrame(); await new Promise((r) => setTimeout(r, 50)); // Sort descending on fresh unsorted data const reverseSortTime = await measure(() => { sortPlugin.setSortModel([{ field: 'id', direction: 'desc' }]); }); allResults.push({ name: 'Sort (descending)', category: 'operation', time: reverseSortTime, unit: 'ms', target: sortTarget, passed: reverseSortTime < sortTarget, }); updateResults(); // Clear sort sortPlugin.clearSort(); await nextFrame(); } // Filter operation status.textContent = 'Testing: Filter operation...'; const filterPlugin = grid.getPlugin?.(FilteringPlugin); if (filterPlugin) { const filterTime = await measure(() => { filterPlugin.setFilter('col1', { type: 'text', operator: 'contains', value: 'R1' }); // Should match ~10% of rows }); allResults.push({ name: 'Filter (to ~10%)', category: 'operation', time: filterTime, unit: 'ms', target: scaledByRows(50), passed: filterTime < scaledByRows(50), }); updateResults(); // Clear filter const clearFilterTime = await measure(() => { filterPlugin.setFilter('col1', null); }); allResults.push({ name: 'Clear filter', category: 'operation', time: clearFilterTime, unit: 'ms', target: scaledByRows(50), passed: clearFilterTime < scaledByRows(50), }); updateResults(); } // Data replacement status.textContent = 'Testing: Data replacement...'; const newRows = generateRows(args.rowCount, args.columnCount); const replaceTime = await measure(() => { grid.rows = newRows; }); allResults.push({ name: 'Full data replace', category: 'operation', time: replaceTime, unit: 'ms', target: scaledByRows(50), passed: replaceTime < scaledByRows(50), }); updateResults(); // Selection (select range to simulate select all) status.textContent = 'Testing: Selection...'; const selectionPlugin = grid.getPlugin?.(SelectionPlugin); if (selectionPlugin) { // Select all rows by setting a large range const selectAllTime = await measure(() => { selectionPlugin.setRanges([ { from: { row: 0, col: 0 }, to: { row: args.rowCount - 1, col: args.columnCount - 1 } }, ]); }); allResults.push({ name: 'Select all cells', category: 'operation', time: selectAllTime, unit: 'ms', target: 50, passed: selectAllTime < 50, }); updateResults(); // Clear selection const clearSelectionTime = await measure(() => { selectionPlugin.clearSelection(); }); allResults.push({ name: 'Clear selection', category: 'operation', time: clearSelectionTime, unit: 'ms', target: 50, passed: clearSelectionTime < 50, }); updateResults(); } // Rapid data updates (streaming simulation) status.textContent = 'Testing: Rapid data updates...'; const updateCount = 10; const updateTimes: number[] = []; for (let i = 0; i < updateCount; i++) { // Modify ~1% of rows each update const modifiedRows = [...grid.rows] as Record<string, unknown>[]; const updateSize = Math.max(1, Math.floor(args.rowCount * 0.01)); for (let j = 0; j < updateSize; j++) { const idx = (i * updateSize + j) % args.rowCount; modifiedRows[idx] = { ...modifiedRows[idx], col1: `Updated-${i}-${j}` }; } const t = await measure(() => { grid.rows = modifiedRows; }); updateTimes.push(t); } const avgUpdateTime = updateTimes.reduce((a, b) => a + b, 0) / updateTimes.length; allResults.push({ name: `Rapid update (${updateCount}× 1%)`, category: 'operation', time: avgUpdateTime, unit: 'ms', target: scaledByRows(30), passed: avgUpdateTime < scaledByRows(30), }); updateResults(); // Column config change status.textContent = 'Testing: Column config change...'; const configChangeTime = await measure(() => { // Toggle a column width const newColumns = baseColumns.map((col, i) => ({ ...col, width: i === 1 ? 200 : col.width, })); grid.columns = newColumns; }); allResults.push({ name: 'Column config change', category: 'operation', time: configChangeTime, unit: 'ms', target: scaledByCells(50), passed: configChangeTime < scaledByCells(50), }); updateResults(); // #endregion // #region 💾 MEMORY BENCHMARKS status.textContent = 'Calculating: Memory & DOM metrics...'; // Calculate estimated data size directly (more reliable than performance.memory API) // Each row object: key overhead (~40 bytes) + values // Each string value: ~50 bytes avg (header + 2 bytes per char) // Each number: 8 bytes const estimatedBytesPerRow = 40 + args.columnCount * 52; // object overhead + (field key + string value) per column const estimatedDataSize = args.rowCount * estimatedBytesPerRow; allResults.push({ name: 'Est. data size', category: 'memory', time: estimatedDataSize, unit: 'bytes', target: 500 * 1024 * 1024, // < 500MB passed: estimatedDataSize < 500 * 1024 * 1024, }); allResults.push({ name: 'Est. bytes/row', category: 'memory', time: estimatedBytesPerRow, unit: 'bytes', target: 5000, // < 5KB per row passed: estimatedBytesPerRow < 5000, }); // DOM node count - verify virtualization is working const rowElements = grid.shadowRoot?.querySelectorAll('.data-grid-row'); const renderedRowCount = rowElements?.length ?? 0; // With virtualization, we should have far fewer DOM rows than data rows // Expect: viewport rows (~15-30) + overscan (2×8) + buffer = typically < 60 rows const maxExpectedRows = Math.min(args.rowCount, 100); // At most 100 DOM rows for any dataset const virtualizationWorking = renderedRowCount <= maxExpectedRows; allResults.push({ name: `DOM rows (${renderedRowCount}/${args.rowCount.toLocaleString()})`, category: 'memory', time: renderedRowCount, unit: 'count', target: maxExpectedRows, passed: virtualizationWorking, note: virtualizationWorking ? 'Virtualization active' : 'Too many DOM nodes!', }); // Cell count const cellElements = grid.shadowRoot?.querySelectorAll('.cell'); const renderedCellCount = cellElements?.length ?? 0; const expectedCellsPerRow = args.columnCount <= 20 ? args.columnCount : Math.min(args.columnCount, 30); const maxExpectedCells = maxExpectedRows * expectedCellsPerRow; allResults.push({ name: `DOM cells rendered`, category: 'memory', time: renderedCellCount, unit: 'count', target: maxExpectedCells, passed: renderedCellCount <= maxExpectedCells, note: `${renderedCellCount.toLocaleString()} cells in DOM`, }); updateResults(); // Note: performance.memory API is deprecated and unreliable for real-time measurements. // Memory efficiency is tracked via Est. data size and Est. bytes/row above. // Use modern measureUserAgentSpecificMemory if available (requires COOP/COEP headers) if (heapBefore !== null) { const heapAfter = await measureMemory(); if (heapAfter !== null) { const heapDelta = Math.max(0, heapAfter - heapBefore); // Target: grid overhead should be < 50MB + data size const heapTarget = 50 * 1024 * 1024 + estimatedDataSize; allResults.push({ name: 'Heap delta (measured)', category: 'memory', time: heapDelta, unit: 'bytes', target: heapTarget, passed: heapDelta < heapTarget, }); } } else if (memoryApiReason) { // Only show heap delta row if there's a reason to explain // Skip entirely if API is simply unavailable - the estimated metrics are sufficient if (memoryApiReason.includes('COOP/COEP')) { allResults.push({ name: 'Heap delta', category: 'memory', time: 0, unit: 'info', target: 0, passed: true, note: memoryApiReason, }); } // If API is unavailable (Chrome 89+ only), silently skip - calculated metrics are primary } updateResults(); // #endregion // #region COMPLETE status.textContent = 'Benchmark complete!'; runBtn.disabled = false; // Final update with summary results.innerHTML = renderResultsTable(allResults, true); // Console summary console.table( allResults.map((r) => ({ Benchmark: r.name, Result: r.unit === 'bytes' ? formatBytes(r.time) : r.unit === 'count' ? r.time.toLocaleString() : r.unit === 'bool' ? r.time ? 'Yes' : 'No' : r.unit === 'info' ? r.note || '—' : formatTime(r.time), Target: r.unit === 'bytes' ? '< ' + formatBytes(r.target) : r.unit === 'count' || r.unit === 'bool' || r.unit === 'info' ? r.note || '—' : '< ' + formatTime(r.target), Status: r.passed ? '✅ PASS' : '❌ FAIL', })), ); // #endregion }); }); return wrapper; }, }",
          "description": "## Comprehensive Grid Benchmark\r\n\r\nTests all aspects of grid performance:\r\n\r\n**🎨 Initial Render**\r\n- Time to first paint with large dataset\r\n- Time to render with plugins enabled\r\n\r\n**📜 Scroll Performance**\r\n- Baseline scroll (no plugins)\r\n- Scroll with multiple plugins\r\n- Stress scroll (random position jumps)\r\n- Horizontal scroll (column virtualization)\r\n\r\n**⚡ Operations**\r\n- Sort ascending/descending\r\n- Filter to 10% of data\r\n- Full data replacement\r\n- Rapid data updates (streaming simulation)\r\n- Select all rows\r\n- Column config changes\r\n\r\n**💾 Memory & DOM**\r\n- Estimated data size\r\n- Bytes per row\r\n- DOM row/cell count (virtualization verification)\r\n- Heap delta (if browser API available)"
        }
      ],
      "exports": [
        {
          "kind": "js",
          "name": "default",
          "declaration": {
            "name": "meta",
            "module": "docs/stories/performance.stories.ts"
          }
        },
        {
          "kind": "js",
          "name": "PerformanceStressTest",
          "declaration": {
            "name": "PerformanceStressTest",
            "module": "docs/stories/performance.stories.ts"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "docs/stories/rtl.stories.ts",
      "declarations": [
        {
          "kind": "variable",
          "name": "meta",
          "type": {
            "text": "Meta<RTLDemoArgs>"
          },
          "default": "{ title: 'Grid/RTL Support', tags: ['!dev'], argTypes: { rtl: { control: 'boolean', description: 'Enable RTL (Right-to-Left) layout', table: { defaultValue: { summary: 'false' }, }, }, }, args: { rtl: false, }, parameters: { layout: 'padded', }, }"
        },
        {
          "kind": "variable",
          "name": "Demo",
          "type": {
            "text": "StoryObj<RTLDemoArgs>"
          },
          "default": "{ render: (args) => { const gridEl = document.createElement('tbw-grid') as GridElement; gridEl.setAttribute('dir', args.rtl ? 'rtl' : 'ltr'); gridEl.style.height = '300px'; gridEl.rows = sampleData; gridEl.gridConfig = { columns, plugins: [new PinnedColumnsPlugin()], sortable: true, resizable: true, }; return gridEl; }, parameters: { docs: { description: { story: `Toggle the **RTL** control to switch between Left-to-Right and Right-to-Left layouts. The columns use logical pinning (\\`sticky: 'start'\\` and \\`sticky: 'end'\\`) which automatically adapts to the text direction.`, }, }, }, }",
          "description": "Interactive demo showing the grid in LTR or RTL mode.\r\nToggle the RTL control to see how the grid adapts its layout.\r\n\r\nNotice how:\r\n- The ID column (`sticky: 'start'`) pins to the left in LTR, right in RTL\r\n- The Active column (`sticky: 'end'`) pins to the right in LTR, left in RTL\r\n- Keyboard navigation (arrow keys) flips direction in RTL mode"
        }
      ],
      "exports": [
        {
          "kind": "js",
          "name": "default",
          "declaration": {
            "name": "meta",
            "module": "docs/stories/rtl.stories.ts"
          }
        },
        {
          "kind": "js",
          "name": "Demo",
          "declaration": {
            "name": "Demo",
            "module": "docs/stories/rtl.stories.ts"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "docs/stories/ThemeBuilder.stories.ts",
      "declarations": [
        {
          "kind": "variable",
          "name": "columns",
          "type": {
            "text": "ColumnConfig<Employee>[]"
          },
          "default": "[ { field: 'id', header: 'ID', width: 60, sticky: 'left' }, { field: 'name', header: 'Name', width: 150 }, { field: 'department', header: 'Department', width: 120 }, { field: 'role', header: 'Role', width: 100 }, { field: 'salary', header: 'Salary', width: 100, align: 'right', renderer: ({ value }) => `$${(value as number).toLocaleString()}`, }, { field: 'startDate', header: 'Start Date', width: 110 }, { field: 'status', header: 'Status', width: 90, renderer: ({ value, cellEl }) => { const colors: Record<string, string> = { active: 'var(--tbw-color-success)', inactive: 'var(--tbw-color-fg-muted)', 'on-leave': 'var(--tbw-color-accent)', }; cellEl.style.color = colors[value as string] || ''; return (value as string).charAt(0).toUpperCase() + (value as string).slice(1); }, }, { field: 'rating', header: 'Rating', width: 80, align: 'center', renderer: ({ value }) => '★'.repeat(value as number) + '☆'.repeat(5 - (value as number)), }, { field: 'email', header: 'Email', width: 180 }, ]"
        },
        {
          "kind": "variable",
          "name": "meta",
          "type": {
            "text": "Meta<ThemeBuilderArgs>"
          },
          "default": "{ title: 'Grid/Theming/Theme Builder', tags: ['!autodocs', '!dev'], parameters: { layout: 'fullscreen', controls: { disable: true }, // We use our own panel actions: { disable: true }, interactions: { disable: true }, a11y: { disable: true }, options: { showPanel: false }, // Hide the addons panel entirely docs: { description: { component: ` # Interactive Theme Builder Customize **every CSS variable** of the grid and export your theme as a reusable CSS file. ## How to Use 1. **Open the Theme Panel** on the right side 2. **Toggle Dark Mode Support** to enable light/dark color pairs 3. **Adjust variables** - colors show side-by-side Light/Dark pickers 4. **Export** your theme using the buttons in the toolbar ## Tips - Enable \"Dark Mode Support\" to generate \\`light-dark()\\` CSS for automatic theme switching - Categories are collapsible - click to expand - Only changed values are included in the export `, }, }, }, argTypes: buildArgTypes(), args: buildDefaultArgs(), }"
        },
        {
          "kind": "variable",
          "name": "Builder",
          "type": {
            "text": "Story"
          },
          "default": "{ parameters: { // Override at story level to ensure panel is hidden options: { showPanel: false }, }, render: () => { const container = document.createElement('div'); container.className = 'theme-builder-container'; // Main area with grid and panel const main = document.createElement('div'); main.className = 'theme-builder-main'; // Grid wrapper const gridWrapper = document.createElement('div'); gridWrapper.className = 'theme-builder-grid-wrapper'; const gridConfig: GridConfig<Employee> = { columns, defaultColDef: { sortable: true, resizable: true, filterable: true, }, shell: { header: { title: 'Theme Builder Preview' }, toolPanel: { position: 'right' }, } satisfies ShellConfig, plugins: [ new SelectionPlugin({ mode: 'row' }), new FilteringPlugin(), new MultiSortPlugin(), new PinnedColumnsPlugin(), new VisibilityPlugin(), new ExportPlugin(), new ContextMenuPlugin(), new MasterDetailPlugin({ detailRenderer: (row: Employee) => { const div = document.createElement('div'); div.style.padding = '16px'; div.innerHTML = ` <h4 style=\"margin: 0 0 8px 0;\">Employee Details</h4> <p><strong>Name:</strong> ${row.name}</p> <p><strong>Department:</strong> ${row.department}</p> <p><strong>Email:</strong> ${row.email}</p> `; return div; }, }), ], }; const grid = document.createElement('tbw-grid') as HTMLElement & { rows: Employee[]; gridConfig: GridConfig<Employee>; ready: () => Promise<void>; }; grid.rows = employees; grid.gridConfig = gridConfig; grid.style.cssText = 'height: 100%;'; gridWrapper.appendChild(grid); main.appendChild(gridWrapper); container.appendChild(main); // Initialize state - will be populated after grid is ready const state: ThemeState = { themeName: 'my-custom-theme', darkModeSupport: true, values: {}, darkValues: {}, baselineValues: {}, baselineDarkValues: {}, }; // Panel placeholder - will be created after reading computed values let panelEl: (HTMLElement & { rebuildA11y?: () => void }) | null = null; // Callback to apply state changes to grid and refresh accessibility panel const handleUpdate = () => { applyStateToGrid(grid, state); panelEl?.rebuildA11y?.(); }; // Reset function to restore baseline values const resetToBaseline = () => { state.values = { ...state.baselineValues }; state.darkValues = { ...state.baselineDarkValues }; applyStateToGrid(grid, state); // Recreate panel with updated values if (panelEl) { const newPanel = createThemePanel(state, handleUpdate); panelEl.replaceWith(newPanel); panelEl = newPanel; } }; // After grid is ready, read computed values and create panel requestAnimationFrame(() => { // Read the current computed CSS values from the grid const computed = readComputedVariables(grid); // Set both current values and baseline from computed state.values = { ...computed.light }; state.darkValues = { ...computed.dark }; state.baselineValues = { ...computed.light }; state.baselineDarkValues = { ...computed.dark }; // Create export toolbar const toolbar = document.createElement('div'); toolbar.className = 'theme-builder-toolbar'; const label = document.createElement('span'); label.textContent = 'Export Theme:'; label.className = 'theme-builder-toolbar__label'; toolbar.appendChild(label); const copyBtn = document.createElement('button'); copyBtn.textContent = '📋 Copy CSS'; copyBtn.className = 'theme-builder-btn'; copyBtn.addEventListener('click', () => { const css = generateCSSFromState(state); copyToClipboard(css, copyBtn); }); toolbar.appendChild(copyBtn); const downloadBtn = document.createElement('button'); downloadBtn.textContent = '💾 Download CSS'; downloadBtn.className = 'theme-builder-btn'; downloadBtn.addEventListener('click', () => { const css = generateCSSFromState(state); downloadCSS(css, `${state.themeName}.css`); }); toolbar.appendChild(downloadBtn); const previewBtn = document.createElement('button'); previewBtn.textContent = '👁 Preview CSS'; previewBtn.className = 'theme-builder-btn'; previewBtn.addEventListener('click', () => { const css = generateCSSFromState(state); const modal = document.createElement('div'); modal.className = 'theme-builder-modal'; modal.addEventListener('click', (e) => { if (e.target === modal) modal.remove(); }); const content = document.createElement('div'); content.className = 'theme-builder-modal__content'; const modalTitle = document.createElement('h3'); modalTitle.textContent = 'Generated CSS'; modalTitle.className = 'theme-builder-modal__title'; content.appendChild(modalTitle); const pre = document.createElement('pre'); pre.className = 'theme-builder-modal__code'; pre.textContent = css; content.appendChild(pre); const closeBtn = document.createElement('button'); closeBtn.textContent = 'Close'; closeBtn.className = 'theme-builder-btn theme-builder-btn--primary'; closeBtn.style.marginTop = '12px'; closeBtn.addEventListener('click', () => modal.remove()); content.appendChild(closeBtn); modal.appendChild(content); document.body.appendChild(modal); }); toolbar.appendChild(previewBtn); // Reset button const resetBtn = document.createElement('button'); resetBtn.textContent = '↺ Reset'; resetBtn.className = 'theme-builder-btn'; resetBtn.style.marginLeft = 'auto'; resetBtn.addEventListener('click', resetToBaseline); toolbar.appendChild(resetBtn); container.insertBefore(toolbar, main); // Create theme panel with current values panelEl = createThemePanel(state, handleUpdate); main.appendChild(panelEl); }); return container; }, }",
          "description": "Interactive theme builder with live preview and export functionality.\r\n\r\nUse the Theme Panel on the right to customize CSS variables.\r\nToggle \"Dark\" to enable side-by-side light/dark color pickers."
        }
      ],
      "exports": [
        {
          "kind": "js",
          "name": "default",
          "declaration": {
            "name": "meta",
            "module": "docs/stories/ThemeBuilder.stories.ts"
          }
        },
        {
          "kind": "js",
          "name": "Builder",
          "declaration": {
            "name": "Builder",
            "module": "docs/stories/ThemeBuilder.stories.ts"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "docs/stories/VariableReference.stories.ts",
      "declarations": [
        {
          "kind": "variable",
          "name": "meta",
          "type": {
            "text": "Meta"
          },
          "default": "{ title: 'Grid/Theming/Variable Reference', tags: ['!autodocs', '!dev'], parameters: { layout: 'padded', controls: { disable: true }, actions: { disable: true }, }, }"
        },
        {
          "kind": "variable",
          "name": "Reference",
          "type": {
            "text": "Story"
          },
          "default": "{ render: () => { const container = document.createElement('div'); container.className = 'theme-builder-reference'; // Create a hidden grid element to read computed styles from const probeGrid = document.createElement('tbw-grid'); probeGrid.style.cssText = 'position: absolute; visibility: hidden; pointer-events: none;'; container.appendChild(probeGrid); const title = document.createElement('h2'); title.textContent = 'CSS Variable Reference'; title.className = 'theme-builder-reference__title'; container.appendChild(title); const intro = document.createElement('p'); intro.textContent = 'Complete list of all CSS custom properties available for theming.'; intro.className = 'theme-builder-reference__intro'; container.appendChild(intro); // Build structure first with placeholders, then populate after DOM attachment const valueElements: Array<{ cell: HTMLTableCellElement; swatchEl: HTMLSpanElement | null; variable: CSSVariableDefinition; }> = []; for (const [category, variables] of Object.entries(CSS_VARIABLES)) { const section = document.createElement('section'); section.className = 'theme-builder-reference__section'; const heading = document.createElement('h3'); heading.textContent = category; heading.className = 'theme-builder-reference__heading'; section.appendChild(heading); const table = document.createElement('table'); table.className = 'theme-builder-reference__table'; const thead = document.createElement('thead'); thead.innerHTML = ` <tr> <th>Variable</th> <th>Current Value</th> <th>Description</th> </tr> `; table.appendChild(thead); const tbody = document.createElement('tbody'); for (const variable of variables) { const row = document.createElement('tr'); // Name cell const nameCell = document.createElement('td'); nameCell.innerHTML = `<code class=\"theme-builder-reference__var-name\">${variable.name}</code>`; row.appendChild(nameCell); // Value cell (will be populated after DOM attachment) const valueCell = document.createElement('td'); valueCell.className = 'theme-builder-reference__default'; let swatchEl: HTMLSpanElement | null = null; if (variable.type === 'color') { swatchEl = document.createElement('span'); swatchEl.className = 'theme-builder-reference__color-swatch'; valueCell.appendChild(swatchEl); } const valueText = document.createTextNode(variable.defaultValue); valueCell.appendChild(valueText); row.appendChild(valueCell); // Track for later update valueElements.push({ cell: valueCell, swatchEl, variable }); // Description cell const descCell = document.createElement('td'); descCell.textContent = variable.description; row.appendChild(descCell); tbody.appendChild(row); } table.appendChild(tbody); section.appendChild(table); container.appendChild(section); } // Helper to convert rgb/rgba to hex const rgbToHex = (rgb: string): string => { const match = rgb.match(/rgba?\\((\\d+),\\s*(\\d+),\\s*(\\d+)(?:,\\s*([\\d.]+))?\\)/); if (!match) return rgb; const [, r, g, b, a] = match; const hex = `#${[r, g, b].map((x) => parseInt(x).toString(16).padStart(2, '0')).join('')}`; if (a !== undefined && parseFloat(a) < 1) { const alpha = Math.round(parseFloat(a) * 255) .toString(16) .padStart(2, '0'); return `${hex}${alpha}`; } return hex; }; // Function to update all values from computed styles const updateValues = () => { const computedStyle = getComputedStyle(probeGrid); for (const { cell, swatchEl, variable } of valueElements) { // Get the CSS value (may be a function like light-dark(...)) const computedValue = computedStyle.getPropertyValue(variable.name).trim() || variable.defaultValue; let displayValue: string; if (variable.type === 'color' && swatchEl) { // Apply the CSS function to the swatch - browser will render it correctly swatchEl.style.background = computedValue; // Read the resolved color from the swatch for the text display const resolvedColor = getComputedStyle(swatchEl).backgroundColor; displayValue = rgbToHex(resolvedColor) || variable.defaultValue; } else { displayValue = computedValue; } // Update text (last child is the text node) const textNode = cell.lastChild; if (textNode && textNode.nodeType === Node.TEXT_NODE) { textNode.textContent = displayValue; } } }; // Update values after DOM attachment requestAnimationFrame(updateValues); // Watch for color scheme changes to update values dynamically const mediaQuery = window.matchMedia('(prefers-color-scheme: dark)'); const handleChange = () => requestAnimationFrame(updateValues); mediaQuery.addEventListener('change', handleChange); // Also observe class changes on document (for Storybook theme switching) const observer = new MutationObserver(() => requestAnimationFrame(updateValues)); observer.observe(document.documentElement, { attributes: true, attributeFilter: ['class', 'data-theme'] }); observer.observe(document.body, { attributes: true, attributeFilter: ['class', 'data-theme'] }); // Cleanup on disconnect const cleanup = () => { mediaQuery.removeEventListener('change', handleChange); observer.disconnect(); }; // Use a hidden element to detect when container is removed const sentinel = document.createElement('span'); sentinel.style.display = 'none'; container.appendChild(sentinel); const disconnectObserver = new MutationObserver((mutations) => { for (const mutation of mutations) { for (const node of mutation.removedNodes) { if (node === container || (node as Element).contains?.(sentinel)) { cleanup(); disconnectObserver.disconnect(); return; } } } }); requestAnimationFrame(() => { if (container.parentElement) { disconnectObserver.observe(container.parentElement, { childList: true, subtree: true }); } }); return container; }, }",
          "description": "Complete list of all CSS custom properties available for theming the grid."
        }
      ],
      "exports": [
        {
          "kind": "js",
          "name": "default",
          "declaration": {
            "name": "meta",
            "module": "docs/stories/VariableReference.stories.ts"
          }
        },
        {
          "kind": "js",
          "name": "Reference",
          "declaration": {
            "name": "Reference",
            "module": "docs/stories/VariableReference.stories.ts"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/core/constants.ts",
      "declarations": [
        {
          "kind": "variable",
          "name": "GridClasses",
          "type": {
            "text": "{\r\n  // ─── Core Structure ───────────────────────────────────────────────\r\n  ROOT: 'tbw-grid-root',\r\n  HEADER: 'header',\r\n  HEADER_ROW: 'header-row',\r\n  HEADER_CELL: 'header-cell',\r\n\r\n  // Body structure\r\n  ROWS_VIEWPORT: 'rows-viewport',\r\n  ROWS_SPACER: 'rows-spacer',\r\n  ROWS_CONTAINER: 'rows',\r\n\r\n  // Row elements\r\n  DATA_ROW: 'data-row',\r\n  GROUP_ROW: 'group-row',\r\n\r\n  // Cell elements\r\n  DATA_CELL: 'data-cell',\r\n\r\n  // ─── Core States ──────────────────────────────────────────────────\r\n  SELECTED: 'selected',\r\n  FOCUSED: 'focused',\r\n  EDITING: 'editing',\r\n  EXPANDED: 'expanded',\r\n  COLLAPSED: 'collapsed',\r\n  DRAGGING: 'dragging',\r\n  RESIZING: 'resizing',\r\n\r\n  // Sorting (core feature)\r\n  SORTABLE: 'sortable',\r\n  SORTED_ASC: 'sorted-asc',\r\n  SORTED_DESC: 'sorted-desc',\r\n\r\n  // Visibility\r\n  HIDDEN: 'hidden',\r\n\r\n  // ─── Shared Classes (used by plugins, styled by core CSS) ────────\r\n  // These are defined here because core CSS provides the base styling.\r\n  // Plugins apply these classes; core CSS defines how they look.\r\n\r\n  // Sticky positioning (PinnedColumnsPlugin applies, core CSS styles)\r\n  STICKY_LEFT: 'sticky-left',\r\n  STICKY_RIGHT: 'sticky-right',\r\n\r\n  // Pinned rows (PinnedRowsPlugin applies, core CSS styles)\r\n  PINNED_TOP: 'pinned-top',\r\n  PINNED_BOTTOM: 'pinned-bottom',\r\n\r\n  // Tree structure (TreePlugin applies, core CSS styles)\r\n  TREE_TOGGLE: 'tree-toggle',\r\n  TREE_INDENT: 'tree-indent',\r\n\r\n  // Grouping (GroupingRowsPlugin applies, core CSS styles)\r\n  GROUP_TOGGLE: 'group-toggle',\r\n  GROUP_LABEL: 'group-label',\r\n  GROUP_COUNT: 'group-count',\r\n\r\n  // Selection (SelectionPlugin applies, core CSS styles)\r\n  RANGE_SELECTION: 'range-selection',\r\n  SELECTION_OVERLAY: 'selection-overlay',\r\n}"
          },
          "default": "{ // ─── Core Structure ─────────────────────────────────────────────── ROOT: 'tbw-grid-root', HEADER: 'header', HEADER_ROW: 'header-row', HEADER_CELL: 'header-cell', // Body structure ROWS_VIEWPORT: 'rows-viewport', ROWS_SPACER: 'rows-spacer', ROWS_CONTAINER: 'rows', // Row elements DATA_ROW: 'data-row', GROUP_ROW: 'group-row', // Cell elements DATA_CELL: 'data-cell', // ─── Core States ────────────────────────────────────────────────── SELECTED: 'selected', FOCUSED: 'focused', EDITING: 'editing', EXPANDED: 'expanded', COLLAPSED: 'collapsed', DRAGGING: 'dragging', RESIZING: 'resizing', // Sorting (core feature) SORTABLE: 'sortable', SORTED_ASC: 'sorted-asc', SORTED_DESC: 'sorted-desc', // Visibility HIDDEN: 'hidden', // ─── Shared Classes (used by plugins, styled by core CSS) ──────── // These are defined here because core CSS provides the base styling. // Plugins apply these classes; core CSS defines how they look. // Sticky positioning (PinnedColumnsPlugin applies, core CSS styles) STICKY_LEFT: 'sticky-left', STICKY_RIGHT: 'sticky-right', // Pinned rows (PinnedRowsPlugin applies, core CSS styles) PINNED_TOP: 'pinned-top', PINNED_BOTTOM: 'pinned-bottom', // Tree structure (TreePlugin applies, core CSS styles) TREE_TOGGLE: 'tree-toggle', TREE_INDENT: 'tree-indent', // Grouping (GroupingRowsPlugin applies, core CSS styles) GROUP_TOGGLE: 'group-toggle', GROUP_LABEL: 'group-label', GROUP_COUNT: 'group-count', // Selection (SelectionPlugin applies, core CSS styles) RANGE_SELECTION: 'range-selection', SELECTION_OVERLAY: 'selection-overlay', }",
          "description": "CSS class names used in the grid's shadow DOM.\r\nUse these when adding/removing classes or querying elements.\r\n\r\nClasses are organized by:\r\n- Core: Used by the grid core for structure and basic functionality\r\n- Shared: Used by multiple features/plugins, styled by core CSS"
        },
        {
          "kind": "variable",
          "name": "GridDataAttrs",
          "type": {
            "text": "{\r\n  // ─── Core Attributes ──────────────────────────────────────────────\r\n  ROW_INDEX: 'data-row-index',\r\n  COL_INDEX: 'data-col-index',\r\n  FIELD: 'data-field',\r\n\r\n  // ─── Shared Attributes (used by plugins) ──────────────────────────\r\n  GROUP_KEY: 'data-group-key', // GroupingRowsPlugin\r\n  TREE_LEVEL: 'data-tree-level', // TreePlugin\r\n  STICKY: 'data-sticky', // PinnedColumnsPlugin\r\n}"
          },
          "default": "{ // ─── Core Attributes ────────────────────────────────────────────── ROW_INDEX: 'data-row-index', COL_INDEX: 'data-col-index', FIELD: 'data-field', // ─── Shared Attributes (used by plugins) ────────────────────────── GROUP_KEY: 'data-group-key', // GroupingRowsPlugin TREE_LEVEL: 'data-tree-level', // TreePlugin STICKY: 'data-sticky', // PinnedColumnsPlugin }",
          "description": "Data attribute names used on grid elements.\r\nUse these when getting/setting data attributes."
        },
        {
          "kind": "variable",
          "name": "GridSelectors",
          "type": {
            "text": "{\r\n  ROOT: `.${GridClasses.ROOT}`,\r\n  HEADER: `.${GridClasses.HEADER}`,\r\n  HEADER_ROW: `.${GridClasses.HEADER_ROW}`,\r\n  HEADER_CELL: `.${GridClasses.HEADER_CELL}`,\r\n  ROWS_VIEWPORT: `.${GridClasses.ROWS_VIEWPORT}`,\r\n  ROWS_CONTAINER: `.${GridClasses.ROWS_CONTAINER}`,\r\n  DATA_ROW: `.${GridClasses.DATA_ROW}`,\r\n  DATA_CELL: `.${GridClasses.DATA_CELL}`,\r\n  GROUP_ROW: `.${GridClasses.GROUP_ROW}`,\r\n\r\n  // By data attribute\r\n  ROW_BY_INDEX: (index: number) => `.${GridClasses.DATA_ROW}[${GridDataAttrs.ROW_INDEX}=\"${index}\"]`,\r\n  CELL_BY_FIELD: (field: string) => `.${GridClasses.DATA_CELL}[${GridDataAttrs.FIELD}=\"${field}\"]`,\r\n  CELL_AT: (row: number, col: number) =>\r\n    `.${GridClasses.DATA_ROW}[${GridDataAttrs.ROW_INDEX}=\"${row}\"] .${GridClasses.DATA_CELL}[${GridDataAttrs.COL_INDEX}=\"${col}\"]`,\r\n\r\n  // State selectors\r\n  SELECTED_ROWS: `.${GridClasses.DATA_ROW}.${GridClasses.SELECTED}`,\r\n  EDITING_CELL: `.${GridClasses.DATA_CELL}.${GridClasses.EDITING}`,\r\n}"
          },
          "default": "{ ROOT: `.${GridClasses.ROOT}`, HEADER: `.${GridClasses.HEADER}`, HEADER_ROW: `.${GridClasses.HEADER_ROW}`, HEADER_CELL: `.${GridClasses.HEADER_CELL}`, ROWS_VIEWPORT: `.${GridClasses.ROWS_VIEWPORT}`, ROWS_CONTAINER: `.${GridClasses.ROWS_CONTAINER}`, DATA_ROW: `.${GridClasses.DATA_ROW}`, DATA_CELL: `.${GridClasses.DATA_CELL}`, GROUP_ROW: `.${GridClasses.GROUP_ROW}`, // By data attribute ROW_BY_INDEX: (index: number) => `.${GridClasses.DATA_ROW}[${GridDataAttrs.ROW_INDEX}=\"${index}\"]`, CELL_BY_FIELD: (field: string) => `.${GridClasses.DATA_CELL}[${GridDataAttrs.FIELD}=\"${field}\"]`, CELL_AT: (row: number, col: number) => `.${GridClasses.DATA_ROW}[${GridDataAttrs.ROW_INDEX}=\"${row}\"] .${GridClasses.DATA_CELL}[${GridDataAttrs.COL_INDEX}=\"${col}\"]`, // State selectors SELECTED_ROWS: `.${GridClasses.DATA_ROW}.${GridClasses.SELECTED}`, EDITING_CELL: `.${GridClasses.DATA_CELL}.${GridClasses.EDITING}`, }",
          "description": "Common CSS selectors for querying grid elements.\r\nBuilt from the class constants for consistency."
        },
        {
          "kind": "variable",
          "name": "GridCSSVars",
          "type": {
            "text": "{\r\n  // Colors\r\n  COLOR_BG: '--tbw-color-bg',\r\n  COLOR_FG: '--tbw-color-fg',\r\n  COLOR_FG_MUTED: '--tbw-color-fg-muted',\r\n  COLOR_BORDER: '--tbw-color-border',\r\n  COLOR_ACCENT: '--tbw-color-accent',\r\n  COLOR_HEADER_BG: '--tbw-color-header-bg',\r\n  COLOR_HEADER_FG: '--tbw-color-header-fg',\r\n  COLOR_SELECTION: '--tbw-color-selection',\r\n  COLOR_ROW_HOVER: '--tbw-color-row-hover',\r\n  COLOR_ROW_ALT: '--tbw-color-row-alt',\r\n\r\n  // Sizing\r\n  ROW_HEIGHT: '--tbw-row-height',\r\n  HEADER_HEIGHT: '--tbw-header-height',\r\n  CELL_PADDING: '--tbw-cell-padding',\r\n\r\n  // Typography\r\n  FONT_FAMILY: '--tbw-font-family',\r\n  FONT_SIZE: '--tbw-font-size',\r\n\r\n  // Borders\r\n  BORDER_RADIUS: '--tbw-border-radius',\r\n  FOCUS_OUTLINE: '--tbw-focus-outline',\r\n}"
          },
          "default": "{ // Colors COLOR_BG: '--tbw-color-bg', COLOR_FG: '--tbw-color-fg', COLOR_FG_MUTED: '--tbw-color-fg-muted', COLOR_BORDER: '--tbw-color-border', COLOR_ACCENT: '--tbw-color-accent', COLOR_HEADER_BG: '--tbw-color-header-bg', COLOR_HEADER_FG: '--tbw-color-header-fg', COLOR_SELECTION: '--tbw-color-selection', COLOR_ROW_HOVER: '--tbw-color-row-hover', COLOR_ROW_ALT: '--tbw-color-row-alt', // Sizing ROW_HEIGHT: '--tbw-row-height', HEADER_HEIGHT: '--tbw-header-height', CELL_PADDING: '--tbw-cell-padding', // Typography FONT_FAMILY: '--tbw-font-family', FONT_SIZE: '--tbw-font-size', // Borders BORDER_RADIUS: '--tbw-border-radius', FOCUS_OUTLINE: '--tbw-focus-outline', }",
          "description": "CSS custom property names for theming.\r\nUse these when programmatically setting styles."
        }
      ],
      "exports": [
        {
          "kind": "js",
          "name": "GridClasses",
          "declaration": {
            "name": "GridClasses",
            "module": "src/lib/core/constants.ts"
          }
        },
        {
          "kind": "js",
          "name": "GridDataAttrs",
          "declaration": {
            "name": "GridDataAttrs",
            "module": "src/lib/core/constants.ts"
          }
        },
        {
          "kind": "js",
          "name": "GridSelectors",
          "declaration": {
            "name": "GridSelectors",
            "module": "src/lib/core/constants.ts"
          }
        },
        {
          "kind": "js",
          "name": "GridCSSVars",
          "declaration": {
            "name": "GridCSSVars",
            "module": "src/lib/core/constants.ts"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/core/grid.spec.ts",
      "declarations": [],
      "exports": [
        {
          "kind": "custom-element-definition",
          "name": "tbw-grid",
          "declaration": {
            "name": "DataGridElement",
            "module": "/src/lib/core/grid"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/core/grid.ts",
      "declarations": [
        {
          "kind": "class",
          "description": "",
          "name": "DataGridElement",
          "members": [
            {
              "kind": "field",
              "name": "tagName",
              "type": {
                "text": "string"
              },
              "static": true,
              "readonly": true,
              "default": "'tbw-grid'"
            },
            {
              "kind": "field",
              "name": "version",
              "static": true,
              "readonly": true,
              "description": "Version of the grid component, injected at build time from package.json"
            },
            {
              "kind": "field",
              "name": "#instanceCounter",
              "privacy": "private",
              "type": {
                "text": "number"
              },
              "static": true,
              "default": "0",
              "description": "Static counter for generating unique grid IDs"
            },
            {
              "kind": "field",
              "name": "adapters",
              "type": {
                "text": "FrameworkAdapter[]"
              },
              "privacy": "private",
              "static": true,
              "default": "[]",
              "description": "Registry of framework adapters that handle converting light DOM elements\r\nto functional renderers/editors. Framework libraries (Angular, React, Vue)\r\nregister adapters to enable zero-boilerplate component integration."
            },
            {
              "kind": "method",
              "name": "registerAdapter",
              "static": true,
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "adapter",
                  "type": {
                    "text": "FrameworkAdapter"
                  }
                }
              ],
              "description": "Register a framework adapter for handling framework-specific components.\r\nAdapters are checked in registration order when processing light DOM templates."
            },
            {
              "kind": "method",
              "name": "getAdapters",
              "static": true,
              "return": {
                "type": {
                  "text": "readonly FrameworkAdapter[]"
                }
              },
              "description": "Get all registered framework adapters.\r\nUsed internally by light DOM parsing to find adapters that can handle templates."
            },
            {
              "kind": "method",
              "name": "clearAdapters",
              "static": true,
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "description": "Clear all registered adapters (primarily for testing)."
            },
            {
              "kind": "field",
              "name": "#renderRoot",
              "privacy": "private",
              "type": {
                "text": "HTMLElement"
              },
              "description": "The render root for the grid. Without Shadow DOM, this is the element itself.\r\nThis abstraction allows internal code to work the same way regardless of DOM mode.",
              "readonly": true
            },
            {
              "kind": "field",
              "name": "#initialized",
              "privacy": "private",
              "type": {
                "text": "boolean"
              },
              "default": "false"
            },
            {
              "kind": "field",
              "name": "#readyPromise",
              "privacy": "private",
              "type": {
                "text": "Promise<void>"
              },
              "default": "new Promise((res) => (this.#readyResolve = res))"
            },
            {
              "kind": "field",
              "name": "#readyResolve",
              "privacy": "private",
              "type": {
                "text": "() => void | undefined"
              }
            },
            {
              "kind": "field",
              "name": "#rows",
              "privacy": "private",
              "type": {
                "text": "T[]"
              },
              "default": "[]"
            },
            {
              "kind": "field",
              "name": "#effectiveConfig",
              "privacy": "private",
              "type": {
                "text": "GridConfig<T>"
              },
              "readonly": true
            },
            {
              "kind": "field",
              "name": "#connected",
              "privacy": "private",
              "type": {
                "text": "boolean"
              },
              "default": "false"
            },
            {
              "kind": "field",
              "name": "#pendingUpdate",
              "privacy": "private",
              "type": {
                "text": "boolean"
              },
              "default": "false"
            },
            {
              "kind": "field",
              "name": "#pendingUpdateFlags",
              "privacy": "private",
              "type": {
                "text": "object"
              },
              "default": "{ rows: false, columns: false, gridConfig: false, fitMode: false, }"
            },
            {
              "kind": "field",
              "name": "#scheduler",
              "privacy": "private",
              "type": {
                "text": "RenderScheduler"
              },
              "default": "new RenderScheduler({ mergeConfig: () => { // Re-parse light DOM columns to pick up framework adapter renderers // This is essential for React/Angular where renderers register asynchronously this.#configManager.parseLightDomColumns(this as unknown as HTMLElement); this.#configManager.merge(); this.#updatePluginConfigs(); // Sync plugin configs (including auto-detection) before processing // Validate that plugin-specific column properties have their required plugins loaded // This runs after plugins are loaded and config is merged validatePluginProperties(this.#effectiveConfig, this.#pluginManager?.getPlugins() ?? []); // Validate plugin configRules (errors/warnings for invalid config combinations) validatePluginConfigRules(this.#pluginManager?.getPlugins() ?? []); // Validate plugin incompatibilities (warnings for conflicting plugin combinations) validatePluginIncompatibilities(this.#pluginManager?.getPlugins() ?? []); // Update ARIA labels (explicit config or derived from shell title) this.#updateAriaLabels(); // Store base columns before plugin transformation this.#baseColumns = [...this._columns]; }, processColumns: () => this.#processColumns(), processRows: () => this.#rebuildRowModel(), renderHeader: () => renderHeader(this), updateTemplate: () => updateTemplate(this), renderVirtualWindow: () => this.refreshVirtualWindow(true, true), afterRender: () => { this.#pluginManager?.afterRender(); // Auto-size columns on first render if fitMode is 'fixed' const mode = this.#effectiveConfig.fitMode; if (mode === 'fixed' && !this.__didInitialAutoSize) { this.__didInitialAutoSize = true; autoSizeColumns(this); } // Restore focus styling if requested by a plugin if (this._restoreFocusAfterRender) { this._restoreFocusAfterRender = false; ensureCellVisible(this); } // Set up row height observer after first render (rows are now in DOM) if (this._virtualization.enabled && !this.#rowHeightObserverSetup) { this.#setupRowHeightObserver(); } }, isConnected: () => this.isConnected && this.#connected, })"
            },
            {
              "kind": "field",
              "name": "#scrollRaf",
              "privacy": "private",
              "type": {
                "text": "number"
              },
              "default": "0"
            },
            {
              "kind": "field",
              "name": "#pendingScrollTop",
              "privacy": "private",
              "type": {
                "text": "number | null"
              },
              "default": "null"
            },
            {
              "kind": "field",
              "name": "#hasScrollPlugins",
              "privacy": "private",
              "type": {
                "text": "boolean"
              },
              "default": "false"
            },
            {
              "kind": "field",
              "name": "#renderRowHook",
              "privacy": "private",
              "type": {
                "text": "(row: any, rowEl: HTMLElement, rowIndex: number) => boolean | undefined"
              }
            },
            {
              "kind": "field",
              "name": "#touchState",
              "privacy": "private",
              "type": {
                "text": "TouchScrollState"
              }
            },
            {
              "kind": "field",
              "name": "#eventAbortController",
              "privacy": "private",
              "type": {
                "text": "AbortController | undefined"
              }
            },
            {
              "kind": "field",
              "name": "#resizeObserver",
              "privacy": "private",
              "type": {
                "text": "ResizeObserver | undefined"
              }
            },
            {
              "kind": "field",
              "name": "#rowHeightObserver",
              "privacy": "private",
              "type": {
                "text": "ResizeObserver | undefined"
              }
            },
            {
              "kind": "field",
              "name": "#idleCallbackHandle",
              "privacy": "private",
              "type": {
                "text": "number | undefined"
              }
            },
            {
              "kind": "field",
              "name": "#pooledScrollEvent",
              "privacy": "private",
              "type": {
                "text": "ScrollEvent"
              },
              "default": "{ scrollTop: 0, scrollLeft: 0, scrollHeight: 0, scrollWidth: 0, clientHeight: 0, clientWidth: 0, }"
            },
            {
              "kind": "field",
              "name": "#pluginManager",
              "privacy": "private",
              "type": {
                "text": "PluginManager"
              }
            },
            {
              "kind": "field",
              "name": "#lastPluginsArray",
              "privacy": "private",
              "type": {
                "text": "BaseGridPlugin[] | undefined"
              }
            },
            {
              "kind": "field",
              "name": "#eventListenersAdded",
              "privacy": "private",
              "type": {
                "text": "boolean"
              },
              "default": "false"
            },
            {
              "kind": "field",
              "name": "#scrollAbortController",
              "privacy": "private",
              "type": {
                "text": "AbortController | undefined"
              }
            },
            {
              "kind": "field",
              "name": "#scrollAreaEl",
              "privacy": "private",
              "type": {
                "text": "HTMLElement | undefined"
              }
            },
            {
              "kind": "field",
              "name": "#initialColumnState",
              "privacy": "private",
              "type": {
                "text": "GridColumnState | undefined"
              }
            },
            {
              "kind": "field",
              "name": "#configManager",
              "privacy": "private",
              "type": {
                "text": "ConfigManager<T>"
              },
              "default": "new ConfigManager<T>({ getRows: () => this.#rows, getSortState: () => this._sortState, setSortState: (state) => { this._sortState = state; }, onConfigChange: () => { this.#scheduler.requestPhase(RenderPhase.FULL, 'configChange'); }, emit: (eventName, detail) => this.#emit(eventName, detail), clearRowPool: () => { this._rowPool.length = 0; if (this._bodyEl) this._bodyEl.innerHTML = ''; this.__rowRenderEpoch++; }, setup: () => this.#setup(), renderHeader: () => renderHeader(this), updateTemplate: () => updateTemplate(this), refreshVirtualWindow: () => this.#scheduler.requestPhase(RenderPhase.VIRTUALIZATION, 'configManager'), getVirtualization: () => this._virtualization, setRowHeight: (height) => { this._virtualization.rowHeight = height; }, applyAnimationConfig: (config) => this.#applyAnimationConfig(config), getShellLightDomTitle: () => this.#shellState.lightDomTitle, getShellToolPanels: () => this.#shellState.toolPanels, getShellHeaderContents: () => this.#shellState.headerContents, getShellToolbarContents: () => this.#shellState.toolbarContents, getShellLightDomHeaderContent: () => this.#shellState.lightDomHeaderContent, getShellHasToolButtonsContainer: () => this.#shellState.hasToolButtonsContainer, })"
            },
            {
              "kind": "field",
              "name": "#shellState",
              "privacy": "private",
              "type": {
                "text": "ShellState"
              }
            },
            {
              "kind": "field",
              "name": "#shellController",
              "privacy": "private",
              "type": {
                "text": "ShellController"
              }
            },
            {
              "kind": "field",
              "name": "#resizeCleanup",
              "privacy": "private",
              "type": {
                "text": "() => void | undefined"
              }
            },
            {
              "kind": "field",
              "name": "#loading",
              "privacy": "private",
              "type": {
                "text": "boolean"
              },
              "default": "false"
            },
            {
              "kind": "field",
              "name": "#loadingRows",
              "privacy": "private",
              "default": "new Set<string>()"
            },
            {
              "kind": "field",
              "name": "#loadingCells",
              "privacy": "private",
              "default": "new Map<string, Set<string>>()"
            },
            {
              "kind": "field",
              "name": "#loadingOverlayEl",
              "privacy": "private",
              "type": {
                "text": "HTMLElement | undefined"
              }
            },
            {
              "kind": "field",
              "name": "#rowIdMap",
              "privacy": "private",
              "default": "new Map<string, { row: T; index: number }>()"
            },
            {
              "kind": "field",
              "name": "_rows",
              "type": {
                "text": "T[]"
              },
              "default": "[]"
            },
            {
              "kind": "field",
              "name": "#baseColumns",
              "privacy": "private",
              "type": {
                "text": "ColumnInternal<T>[]"
              },
              "default": "[]"
            },
            {
              "kind": "field",
              "name": "_columns",
              "type": {
                "text": "ColumnInternal<T>[]"
              }
            },
            {
              "kind": "field",
              "name": "_visibleColumns",
              "type": {
                "text": "ColumnInternal<T>[]"
              },
              "readonly": true
            },
            {
              "kind": "field",
              "name": "_headerRowEl",
              "type": {
                "text": "HTMLElement"
              }
            },
            {
              "kind": "field",
              "name": "_bodyEl",
              "type": {
                "text": "HTMLElement"
              }
            },
            {
              "kind": "field",
              "name": "_rowPool",
              "type": {
                "text": "HTMLElement[]"
              },
              "default": "[]"
            },
            {
              "kind": "field",
              "name": "_resizeController",
              "type": {
                "text": "ResizeController"
              }
            },
            {
              "kind": "field",
              "name": "_virtualization",
              "type": {
                "text": "VirtualState"
              },
              "default": "{ enabled: true, rowHeight: 28, bypassThreshold: 24, start: 0, end: 0, container: null, viewportEl: null, totalHeightEl: null, }"
            },
            {
              "kind": "field",
              "name": "_focusRow",
              "type": {
                "text": "number"
              },
              "default": "0"
            },
            {
              "kind": "field",
              "name": "_focusCol",
              "type": {
                "text": "number"
              },
              "default": "0"
            },
            {
              "kind": "field",
              "name": "_sortState",
              "type": {
                "text": "{ field: string; direction: 1 | -1 } | null"
              },
              "default": "null"
            },
            {
              "kind": "field",
              "name": "_gridTemplate",
              "type": {
                "text": "string"
              },
              "default": "''"
            },
            {
              "kind": "field",
              "name": "__rowRenderEpoch",
              "type": {
                "text": "number"
              },
              "default": "0"
            },
            {
              "kind": "field",
              "name": "__didInitialAutoSize",
              "type": {
                "text": "boolean"
              },
              "default": "false"
            },
            {
              "kind": "field",
              "name": "__lightDomColumnsCache",
              "type": {
                "text": "ColumnInternal[] | undefined"
              },
              "description": "Light DOM columns cache - delegates to ConfigManager"
            },
            {
              "kind": "field",
              "name": "__originalColumnNodes",
              "type": {
                "text": "HTMLElement[] | undefined"
              },
              "description": "Original column nodes - delegates to ConfigManager"
            },
            {
              "kind": "field",
              "name": "__originalOrder",
              "type": {
                "text": "T[]"
              },
              "default": "[]"
            },
            {
              "kind": "field",
              "name": "__rowsBodyEl",
              "type": {
                "text": "HTMLElement | null"
              },
              "default": "null"
            },
            {
              "kind": "field",
              "name": "rows",
              "type": {
                "text": "T[]"
              },
              "description": "Get or set the row data displayed in the grid.\r\n\r\nThe getter returns processed rows (after filtering, sorting, grouping by plugins).\r\nThe setter accepts new source data and triggers a re-render."
            },
            {
              "kind": "field",
              "name": "sourceRows",
              "type": {
                "text": "T[]"
              },
              "description": "Get the original unfiltered/unprocessed source rows.\r\n\r\nUse this when you need access to all source data regardless of active\r\nfilters, sorting, or grouping applied by plugins. The `rows` property\r\nreturns processed data, while `sourceRows` returns the original input.",
              "readonly": true
            },
            {
              "kind": "field",
              "name": "columns",
              "type": {
                "text": "ColumnConfig<T>[]"
              },
              "description": "Get or set the column configurations.\r\n\r\nThe getter returns processed columns (after plugin transformations).\r\nThe setter accepts an array of column configs or a column config map."
            },
            {
              "kind": "field",
              "name": "gridConfig",
              "type": {
                "text": "GridConfig<T>"
              },
              "description": "Get or set the full grid configuration object.\r\n\r\nThe getter returns the effective (merged) configuration.\r\nThe setter accepts a new configuration and triggers a full re-render."
            },
            {
              "kind": "field",
              "name": "fitMode",
              "type": {
                "text": "FitMode"
              },
              "description": "Get or set the column sizing mode.\r\n\r\n- `'stretch'` (default): Columns stretch to fill available width\r\n- `'fixed'`: Columns use explicit widths; horizontal scroll if needed\r\n- `'auto'`: Columns auto-size to content on initial render"
            },
            {
              "kind": "field",
              "name": "loading",
              "type": {
                "text": "boolean"
              },
              "description": "Whether the grid is currently in a loading state.\r\nWhen true, displays a loading overlay with spinner (or custom loadingRenderer)."
            },
            {
              "kind": "method",
              "name": "setRowLoading",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "rowId",
                  "type": {
                    "text": "string"
                  },
                  "description": "The row's unique identifier (from getRowId)"
                },
                {
                  "name": "loading",
                  "type": {
                    "text": "boolean"
                  },
                  "description": "Whether the row is loading"
                }
              ],
              "description": "Set loading state for a specific row.\r\nShows a small spinner indicator on the row."
            },
            {
              "kind": "method",
              "name": "setCellLoading",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "rowId",
                  "type": {
                    "text": "string"
                  },
                  "description": "The row's unique identifier"
                },
                {
                  "name": "field",
                  "type": {
                    "text": "string"
                  },
                  "description": "The column field"
                },
                {
                  "name": "loading",
                  "type": {
                    "text": "boolean"
                  },
                  "description": "Whether the cell is loading"
                }
              ],
              "description": "Set loading state for a specific cell.\r\nShows a small spinner indicator on the cell."
            },
            {
              "kind": "method",
              "name": "isRowLoading",
              "return": {
                "type": {
                  "text": "boolean"
                }
              },
              "parameters": [
                {
                  "name": "rowId",
                  "type": {
                    "text": "string"
                  },
                  "description": "The row's unique identifier"
                }
              ],
              "description": "Check if a row is currently in loading state."
            },
            {
              "kind": "method",
              "name": "isCellLoading",
              "return": {
                "type": {
                  "text": "boolean"
                }
              },
              "parameters": [
                {
                  "name": "rowId",
                  "type": {
                    "text": "string"
                  },
                  "description": "The row's unique identifier"
                },
                {
                  "name": "field",
                  "type": {
                    "text": "string"
                  },
                  "description": "The column field"
                }
              ],
              "description": "Check if a cell is currently in loading state."
            },
            {
              "kind": "method",
              "name": "clearAllLoading",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "description": "Clear all row and cell loading states."
            },
            {
              "kind": "method",
              "name": "#injectStyles",
              "privacy": "private",
              "return": {
                "type": {
                  "text": "Promise<void>"
                }
              },
              "description": "Inject grid styles into the document.\r\nDelegates to the style-injector module (singleton pattern)."
            },
            {
              "kind": "method",
              "name": "#initializePlugins",
              "privacy": "private",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "description": "Initialize plugin system with instances from config.\r\nPlugins are class instances passed in gridConfig.plugins[]."
            },
            {
              "kind": "method",
              "name": "#injectAllPluginStyles",
              "privacy": "private",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "description": "Inject all plugin styles into the consolidated style element.\r\nPlugin styles are appended after base grid styles in the same <style> element.\r\nUses a Map to accumulate styles from all grid instances on the page."
            },
            {
              "kind": "method",
              "name": "#updatePluginConfigs",
              "privacy": "private",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "description": "Update plugins when grid config changes.\r\nWith class-based plugins, we need to detach old and attach new.\r\nSkips re-initialization if the plugins array hasn't changed."
            },
            {
              "kind": "method",
              "name": "#destroyPlugins",
              "privacy": "private",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "description": "Clean up plugin states when grid disconnects."
            },
            {
              "kind": "method",
              "name": "#collectPluginShellContributions",
              "privacy": "private",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "description": "Collect tool panels and header content from all plugins.\r\nCalled after plugins are attached but before render."
            },
            {
              "kind": "method",
              "name": "#getToolPanelRendererFactory",
              "privacy": "private",
              "return": {
                "type": {
                  "text": "ToolPanelRendererFactory | undefined"
                }
              },
              "description": "Gets a renderer factory for tool panels from registered framework adapters.\r\nReturns a factory function that tries each adapter in order until one handles the element."
            },
            {
              "kind": "method",
              "name": "#afterConnect",
              "privacy": "private",
              "return": {
                "type": {
                  "text": "void"
                }
              }
            },
            {
              "kind": "method",
              "name": "#measureRowHeight",
              "privacy": "private",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "description": "Measure actual row height from DOM.\r\nFinds the tallest cell to account for custom renderers that may push height."
            },
            {
              "kind": "method",
              "name": "#setupScrollListeners",
              "privacy": "private",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "gridRoot",
                  "type": {
                    "text": "Element | null"
                  }
                }
              ],
              "description": "Set up scroll-related event listeners on DOM elements.\r\nThese need to be re-attached when the DOM is recreated (e.g., shell toggle).\r\nUses a separate AbortController that is recreated each time."
            },
            {
              "kind": "field",
              "name": "#rowHeightObserverSetup",
              "privacy": "private",
              "type": {
                "text": "boolean"
              },
              "default": "false",
              "description": "Set up ResizeObserver on first row to detect height changes.\r\nCalled after rows are rendered to observe the actual content.\r\nHandles dynamic CSS loading, lazy images, font loading, column virtualization, etc."
            },
            {
              "kind": "method",
              "name": "#setupRowHeightObserver",
              "privacy": "private",
              "return": {
                "type": {
                  "text": "void"
                }
              }
            },
            {
              "kind": "method",
              "name": "addEventListener",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "type",
                  "type": {
                    "text": "K"
                  }
                },
                {
                  "name": "listener",
                  "type": {
                    "text": "(this: DataGridElement<T>, ev: CustomEvent<DataGridEventMap<T>[K]>) => void"
                  }
                },
                {
                  "name": "options",
                  "optional": true,
                  "type": {
                    "text": "boolean | AddEventListenerOptions"
                  }
                }
              ],
              "description": "Add a typed event listener for grid events.\r\n\r\nThis override provides type-safe event handling for DataGrid-specific events.\r\nThe event detail is automatically typed based on the event name."
            },
            {
              "kind": "method",
              "name": "addEventListener",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "type",
                  "type": {
                    "text": "string"
                  }
                },
                {
                  "name": "listener",
                  "type": {
                    "text": "EventListenerOrEventListenerObject"
                  }
                },
                {
                  "name": "options",
                  "optional": true,
                  "type": {
                    "text": "boolean | AddEventListenerOptions"
                  }
                }
              ]
            },
            {
              "kind": "method",
              "name": "addEventListener",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "type",
                  "type": {
                    "text": "string"
                  }
                },
                {
                  "name": "listener",
                  "type": {
                    "text": "EventListenerOrEventListenerObject | ((ev: CustomEvent) => void)"
                  }
                },
                {
                  "name": "options",
                  "optional": true,
                  "type": {
                    "text": "boolean | AddEventListenerOptions"
                  }
                }
              ]
            },
            {
              "kind": "method",
              "name": "removeEventListener",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "type",
                  "type": {
                    "text": "K"
                  }
                },
                {
                  "name": "listener",
                  "type": {
                    "text": "(this: DataGridElement<T>, ev: CustomEvent<DataGridEventMap<T>[K]>) => void"
                  }
                },
                {
                  "name": "options",
                  "optional": true,
                  "type": {
                    "text": "boolean | EventListenerOptions"
                  }
                }
              ],
              "description": "Remove a typed event listener for grid events."
            },
            {
              "kind": "method",
              "name": "removeEventListener",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "type",
                  "type": {
                    "text": "string"
                  }
                },
                {
                  "name": "listener",
                  "type": {
                    "text": "EventListenerOrEventListenerObject"
                  }
                },
                {
                  "name": "options",
                  "optional": true,
                  "type": {
                    "text": "boolean | EventListenerOptions"
                  }
                }
              ]
            },
            {
              "kind": "method",
              "name": "removeEventListener",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "type",
                  "type": {
                    "text": "string"
                  }
                },
                {
                  "name": "listener",
                  "type": {
                    "text": "EventListenerOrEventListenerObject | ((ev: CustomEvent) => void)"
                  }
                },
                {
                  "name": "options",
                  "optional": true,
                  "type": {
                    "text": "boolean | EventListenerOptions"
                  }
                }
              ]
            },
            {
              "kind": "method",
              "name": "#emit",
              "privacy": "private",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "eventName",
                  "type": {
                    "text": "string"
                  }
                },
                {
                  "name": "detail",
                  "type": {
                    "text": "D"
                  }
                }
              ]
            },
            {
              "kind": "method",
              "name": "#updateAriaSelection",
              "privacy": "private",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "description": "Update ARIA selection attributes on rendered rows/cells"
            },
            {
              "kind": "method",
              "name": "#queueUpdate",
              "privacy": "private",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "type",
                  "type": {
                    "text": "'rows' | 'columns' | 'gridConfig' | 'fitMode'"
                  }
                }
              ],
              "description": "Queue an update for a specific property type.\r\nAll updates queued within the same microtask are batched together."
            },
            {
              "kind": "method",
              "name": "#flushPendingUpdates",
              "privacy": "private",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "description": "Process all pending updates in optimal order.\r\nPriority: gridConfig first (may affect all), then columns, rows, fitMode, editMode"
            },
            {
              "kind": "method",
              "name": "#applyRowsUpdate",
              "privacy": "private",
              "return": {
                "type": {
                  "text": "void"
                }
              }
            },
            {
              "kind": "method",
              "name": "#rebuildRowIdMap",
              "privacy": "private",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "description": "Rebuild the row ID map for O(1) lookups.\r\nCalled when rows array changes."
            },
            {
              "kind": "method",
              "name": "#tryResolveRowId",
              "privacy": "private",
              "return": {
                "type": {
                  "text": "string | undefined"
                }
              },
              "parameters": [
                {
                  "name": "row",
                  "type": {
                    "text": "T"
                  }
                },
                {
                  "name": "getRowId",
                  "optional": true,
                  "type": {
                    "text": "(row: T) => string"
                  }
                }
              ],
              "description": "Try to resolve the ID for a row using configured getRowId or fallback.\r\nReturns undefined if no ID can be determined (non-throwing).\r\nUsed internally by #rebuildRowIdMap."
            },
            {
              "kind": "method",
              "name": "#resolveRowIdOrThrow",
              "privacy": "private",
              "return": {
                "type": {
                  "text": "string"
                }
              },
              "parameters": [
                {
                  "name": "row",
                  "type": {
                    "text": "T"
                  }
                },
                {
                  "name": "getRowId",
                  "optional": true,
                  "type": {
                    "text": "(row: T) => string"
                  }
                }
              ],
              "description": "Resolve the ID for a row, throwing if not found.\r\nUsed by public getRowId() method."
            },
            {
              "kind": "method",
              "name": "#applyColumnsUpdate",
              "privacy": "private",
              "return": {
                "type": {
                  "text": "void"
                }
              }
            },
            {
              "kind": "method",
              "name": "#applyFitModeUpdate",
              "privacy": "private",
              "return": {
                "type": {
                  "text": "void"
                }
              }
            },
            {
              "kind": "method",
              "name": "#applyGridConfigUpdate",
              "privacy": "private",
              "return": {
                "type": {
                  "text": "void"
                }
              }
            },
            {
              "kind": "method",
              "name": "#updateShellHeaderInPlace",
              "privacy": "private",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "description": "Update the shell header DOM in place without a full re-render.\r\nHandles title, toolbar buttons, and other shell header changes."
            },
            {
              "kind": "method",
              "name": "#processColumns",
              "privacy": "private",
              "return": {
                "type": {
                  "text": "void"
                }
              }
            },
            {
              "kind": "method",
              "name": "#rebuildRowModel",
              "privacy": "private",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "description": "Recompute row model via plugin hooks."
            },
            {
              "kind": "method",
              "name": "#applyAnimationConfig",
              "privacy": "private",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "gridConfig",
                  "type": {
                    "text": "GridConfig<T>"
                  }
                }
              ],
              "description": "Apply animation configuration to CSS custom properties on the host element.\r\nThis makes the grid's animation settings available to plugins via CSS variables.\r\nCalled by ConfigManager after merge."
            },
            {
              "kind": "method",
              "name": "#renderVisibleRows",
              "privacy": "private",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "start",
                  "type": {
                    "text": "number"
                  }
                },
                {
                  "name": "end",
                  "type": {
                    "text": "number"
                  }
                },
                {
                  "name": "epoch",
                  "default": "this.__rowRenderEpoch"
                }
              ]
            },
            {
              "kind": "field",
              "name": "#lastAriaRowCount",
              "privacy": "private",
              "type": {
                "text": "number"
              },
              "default": "-1"
            },
            {
              "kind": "field",
              "name": "#lastAriaColCount",
              "privacy": "private",
              "type": {
                "text": "number"
              },
              "default": "-1"
            },
            {
              "kind": "method",
              "name": "#updateAriaCounts",
              "privacy": "private",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "rowCount",
                  "type": {
                    "text": "number"
                  }
                },
                {
                  "name": "colCount",
                  "type": {
                    "text": "number"
                  }
                }
              ],
              "description": "Updates ARIA row/col counts on the grid container.\r\nAlso sets role=\"rowgroup\" on .rows container only when there are rows.\r\nUses caching to avoid redundant DOM writes on every scroll frame."
            },
            {
              "kind": "field",
              "name": "#lastAriaLabel",
              "privacy": "private",
              "type": {
                "text": "string | undefined"
              }
            },
            {
              "kind": "field",
              "name": "#lastAriaDescribedBy",
              "privacy": "private",
              "type": {
                "text": "string | undefined"
              }
            },
            {
              "kind": "method",
              "name": "#updateAriaLabels",
              "privacy": "private",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "description": "Updates ARIA label and describedby attributes on the grid container.\r\nUses explicit config value, or falls back to shell title for aria-label."
            },
            {
              "kind": "method",
              "name": "#updateLoadingOverlay",
              "privacy": "private",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "description": "Update the loading overlay visibility.\r\nCalled when `loading` property changes."
            },
            {
              "kind": "method",
              "name": "#updateRowLoadingState",
              "privacy": "private",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "rowId",
                  "type": {
                    "text": "string"
                  },
                  "description": "The row's unique identifier"
                },
                {
                  "name": "loading",
                  "type": {
                    "text": "boolean"
                  },
                  "description": "Whether the row is loading"
                }
              ],
              "description": "Update a row's loading state in the DOM."
            },
            {
              "kind": "method",
              "name": "#updateCellLoadingState",
              "privacy": "private",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "rowId",
                  "type": {
                    "text": "string"
                  },
                  "description": "The row's unique identifier"
                },
                {
                  "name": "field",
                  "type": {
                    "text": "string"
                  },
                  "description": "The column field"
                },
                {
                  "name": "loading",
                  "type": {
                    "text": "boolean"
                  },
                  "description": "Whether the cell is loading"
                }
              ],
              "description": "Update a cell's loading state in the DOM."
            },
            {
              "kind": "method",
              "name": "#setup",
              "privacy": "private",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "description": "Request a full grid re-setup through the render scheduler.\r\nThis method queues all the config merging, column/row processing, and rendering\r\nto happen in the next animation frame via the scheduler.\r\n\r\nPreviously this method executed rendering synchronously, but that caused race\r\nconditions with framework adapters that also schedule their own render work."
            },
            {
              "kind": "method",
              "name": "#onScrollBatched",
              "privacy": "private",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "scrollTop",
                  "type": {
                    "text": "number"
                  }
                }
              ]
            },
            {
              "kind": "method",
              "name": "_dispatchCellClick",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "event",
                  "type": {
                    "text": "MouseEvent"
                  }
                },
                {
                  "name": "rowIndex",
                  "type": {
                    "text": "number"
                  }
                },
                {
                  "name": "colIndex",
                  "type": {
                    "text": "number"
                  }
                },
                {
                  "name": "cellEl",
                  "type": {
                    "text": "HTMLElement"
                  }
                }
              ],
              "description": "Dispatch a cell click event to the plugin system, then emit a public event.\r\nPlugins get first chance to handle the event. After plugins process it,\r\na `cell-click` CustomEvent is dispatched for external listeners."
            },
            {
              "kind": "method",
              "name": "_dispatchRowClick",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "event",
                  "type": {
                    "text": "MouseEvent"
                  }
                },
                {
                  "name": "rowIndex",
                  "type": {
                    "text": "number"
                  }
                },
                {
                  "name": "row",
                  "type": {
                    "text": "any"
                  }
                },
                {
                  "name": "rowEl",
                  "type": {
                    "text": "HTMLElement"
                  }
                }
              ],
              "description": "Dispatch a row click event to the plugin system, then emit a public event.\r\nPlugins get first chance to handle the event. After plugins process it,\r\na `row-click` CustomEvent is dispatched for external listeners."
            },
            {
              "kind": "method",
              "name": "_dispatchHeaderClick",
              "return": {
                "type": {
                  "text": "boolean"
                }
              },
              "parameters": [
                {
                  "name": "event",
                  "type": {
                    "text": "MouseEvent"
                  }
                },
                {
                  "name": "colIndex",
                  "type": {
                    "text": "number"
                  }
                },
                {
                  "name": "headerEl",
                  "type": {
                    "text": "HTMLElement"
                  }
                }
              ],
              "description": "Dispatch a header click event to the plugin system.\r\nReturns true if any plugin handled the event."
            },
            {
              "kind": "method",
              "name": "_dispatchKeyDown",
              "return": {
                "type": {
                  "text": "boolean"
                }
              },
              "parameters": [
                {
                  "name": "event",
                  "type": {
                    "text": "KeyboardEvent"
                  }
                }
              ],
              "description": "Dispatch a keyboard event to the plugin system.\r\nReturns true if any plugin handled the event."
            },
            {
              "kind": "method",
              "name": "_getHorizontalScrollOffsets",
              "return": {
                "type": {
                  "text": "{ left: number; right: number; skipScroll?: boolean }"
                }
              },
              "parameters": [
                {
                  "name": "rowEl",
                  "optional": true,
                  "type": {
                    "text": "HTMLElement"
                  }
                },
                {
                  "name": "focusedCell",
                  "optional": true,
                  "type": {
                    "text": "HTMLElement"
                  }
                }
              ],
              "description": "Get horizontal scroll boundary offsets from plugins.\r\nUsed by keyboard navigation to ensure focused cells are fully visible\r\nwhen plugins like pinned columns obscure part of the scroll area."
            },
            {
              "kind": "method",
              "name": "ready",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "description": "Wait for the grid to be ready.\r\nResolves once the component has finished initial setup, including\r\ncolumn inference, plugin initialization, and first render."
            },
            {
              "kind": "method",
              "name": "forceLayout",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "description": "Force a full layout/render cycle.\r\nUse this after programmatic changes that require re-measurement,\r\nsuch as container resize or dynamic style changes."
            },
            {
              "kind": "method",
              "name": "getConfig",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "description": "Get a frozen snapshot of the current effective configuration.\r\nThe returned object is read-only and reflects all merged config sources."
            },
            {
              "kind": "method",
              "name": "getRowId",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "row",
                  "type": {
                    "text": "T"
                  },
                  "description": "The row object"
                }
              ],
              "description": "Get the unique ID for a row.\r\nUses the configured `getRowId` function or falls back to `row.id` / `row._id`."
            },
            {
              "kind": "method",
              "name": "getRow",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "id",
                  "type": {
                    "text": "string"
                  },
                  "description": "Row identifier (from getRowId)"
                }
              ],
              "description": "Get a row by its ID.\r\nO(1) lookup via internal Map."
            },
            {
              "kind": "method",
              "name": "updateRow",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "id",
                  "type": {
                    "text": "string"
                  },
                  "description": "Row identifier (from getRowId)"
                },
                {
                  "name": "changes",
                  "type": {
                    "text": "Partial<T>"
                  },
                  "description": "Partial row data to merge"
                },
                {
                  "name": "source",
                  "default": "'api'",
                  "type": {
                    "text": "UpdateSource"
                  },
                  "description": "Origin of update (default: 'api')"
                }
              ],
              "description": "Update a row by ID.\r\nMutates the row in-place and emits `cell-change` for each changed field."
            },
            {
              "kind": "method",
              "name": "updateRows",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "updates",
                  "type": {
                    "text": "Array<{ id: string; changes: Partial<T> }>"
                  },
                  "description": "Array of { id, changes } objects"
                },
                {
                  "name": "source",
                  "default": "'api'",
                  "type": {
                    "text": "UpdateSource"
                  },
                  "description": "Origin of updates (default: 'api')"
                }
              ],
              "description": "Batch update multiple rows.\r\nMore efficient than multiple `updateRow()` calls - single render cycle."
            },
            {
              "kind": "method",
              "name": "animateRow",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "rowIndex",
                  "type": {
                    "text": "number"
                  },
                  "description": "Index of the row in the current row set"
                },
                {
                  "name": "type",
                  "type": {
                    "text": "RowAnimationType"
                  },
                  "description": "Type of animation to apply"
                }
              ],
              "description": "Animate a row at the specified index.\r\nApplies a visual animation to highlight changes, insertions, or removals.\r\n\r\n**Animation types:**\r\n- `'change'`: Flash highlight (for data changes, e.g., after cell edit)\r\n- `'insert'`: Slide-in animation (for newly added rows)\r\n- `'remove'`: Fade-out animation (for rows being removed)\r\n\r\nThe animation is purely visual - it does not affect the data.\r\nFor remove animations, the row remains in the DOM until animation completes."
            },
            {
              "kind": "method",
              "name": "animateRows",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "rowIndices",
                  "type": {
                    "text": "number[]"
                  },
                  "description": "Indices of the rows to animate"
                },
                {
                  "name": "type",
                  "type": {
                    "text": "RowAnimationType"
                  },
                  "description": "Type of animation to apply to all rows"
                }
              ],
              "description": "Animate multiple rows at once.\r\nMore efficient than calling `animateRow()` multiple times."
            },
            {
              "kind": "method",
              "name": "animateRowById",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "rowId",
                  "type": {
                    "text": "string"
                  },
                  "description": "The row's unique identifier (from getRowId)"
                },
                {
                  "name": "type",
                  "type": {
                    "text": "RowAnimationType"
                  },
                  "description": "Type of animation to apply"
                }
              ],
              "description": "Animate a row by its ID.\r\nUses the configured `getRowId` function to find the row."
            },
            {
              "kind": "method",
              "name": "setColumnVisible",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "field",
                  "type": {
                    "text": "string"
                  },
                  "description": "The field name of the column to modify"
                },
                {
                  "name": "visible",
                  "type": {
                    "text": "boolean"
                  },
                  "description": "Whether the column should be visible"
                }
              ],
              "description": "Show or hide a column by field name."
            },
            {
              "kind": "method",
              "name": "toggleColumnVisibility",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "field",
                  "type": {
                    "text": "string"
                  },
                  "description": "The field name of the column to toggle"
                }
              ],
              "description": "Toggle a column's visibility."
            },
            {
              "kind": "method",
              "name": "isColumnVisible",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "field",
                  "type": {
                    "text": "string"
                  },
                  "description": "The field name to check"
                }
              ],
              "description": "Check if a column is currently visible."
            },
            {
              "kind": "method",
              "name": "showAllColumns",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "description": "Show all columns, resetting any hidden columns to visible."
            },
            {
              "kind": "method",
              "name": "getAllColumns",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "description": "Get metadata for all columns including visibility state.\r\nUseful for building a column picker UI."
            },
            {
              "kind": "method",
              "name": "setColumnOrder",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "order",
                  "type": {
                    "text": "string[]"
                  },
                  "description": "Array of field names in desired order"
                }
              ],
              "description": "Set the display order of columns."
            },
            {
              "kind": "method",
              "name": "getColumnOrder",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "description": "Get the current column display order."
            },
            {
              "kind": "method",
              "name": "getColumnState",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "description": "Get the current column state for persistence.\r\nReturns a serializable object including column order, widths, visibility,\r\nsort state, and any plugin-specific state.\r\n\r\nUse this to save user preferences to localStorage or a database."
            },
            {
              "kind": "field",
              "name": "columnState",
              "description": "Get the current column state.\r\nAlias for `getColumnState()` for property-style access.",
              "type": {
                "text": "GridColumnState | undefined"
              }
            },
            {
              "kind": "method",
              "name": "#applyColumnState",
              "privacy": "private",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "state",
                  "type": {
                    "text": "GridColumnState"
                  }
                }
              ],
              "description": "Apply column state internally."
            },
            {
              "kind": "method",
              "name": "resetColumnState",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "description": "Reset column state to initial configuration.\r\nClears all user modifications including order, widths, visibility, and sort."
            },
            {
              "kind": "field",
              "name": "isToolPanelOpen",
              "type": {
                "text": "boolean"
              },
              "description": "Check if the tool panel sidebar is currently open.\r\n\r\nThe tool panel is an accordion-based sidebar that contains sections\r\nregistered by plugins or via `registerToolPanel()`.",
              "readonly": true
            },
            {
              "kind": "field",
              "name": "expandedToolPanelSections",
              "type": {
                "text": "string[]"
              },
              "description": "Get the IDs of currently expanded accordion sections in the tool panel.\r\n\r\nMultiple sections can be expanded simultaneously in the accordion view.",
              "readonly": true
            },
            {
              "kind": "method",
              "name": "openToolPanel",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "description": "Open the tool panel sidebar.\r\n\r\nThe tool panel displays an accordion view with all registered panel sections.\r\nEach section can be expanded/collapsed independently."
            },
            {
              "kind": "method",
              "name": "closeToolPanel",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "description": "Close the tool panel sidebar."
            },
            {
              "kind": "method",
              "name": "toggleToolPanel",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "description": "Toggle the tool panel sidebar open or closed."
            },
            {
              "kind": "method",
              "name": "toggleToolPanelSection",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "sectionId",
                  "type": {
                    "text": "string"
                  },
                  "description": "The ID of the section to toggle (matches `ToolPanelDefinition.id`)"
                }
              ],
              "description": "Toggle an accordion section expanded or collapsed within the tool panel."
            },
            {
              "kind": "method",
              "name": "getToolPanels",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "description": "Get all registered tool panel definitions.\r\n\r\nReturns both plugin-registered panels and panels registered via `registerToolPanel()`."
            },
            {
              "kind": "method",
              "name": "registerToolPanel",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "panel",
                  "type": {
                    "text": "ToolPanelDefinition"
                  },
                  "description": "The tool panel definition"
                }
              ],
              "description": "Register a custom tool panel section.\r\n\r\nUse this API to add custom UI sections to the tool panel sidebar\r\nwithout creating a full plugin. The panel will appear as an accordion\r\nsection in the tool panel."
            },
            {
              "kind": "method",
              "name": "unregisterToolPanel",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "panelId",
                  "type": {
                    "text": "string"
                  },
                  "description": "The ID of the panel to remove"
                }
              ],
              "description": "Unregister a custom tool panel section."
            },
            {
              "kind": "method",
              "name": "getHeaderContents",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "description": "Get all registered header content definitions."
            },
            {
              "kind": "method",
              "name": "registerHeaderContent",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "content",
                  "type": {
                    "text": "HeaderContentDefinition"
                  },
                  "description": "The header content definition"
                }
              ],
              "description": "Register custom header content.\r\n\r\nHeader content appears in the grid's header bar area, which is displayed\r\nabove the column headers. Use this for search boxes, filters, or other\r\ncontrols that should be prominently visible."
            },
            {
              "kind": "method",
              "name": "unregisterHeaderContent",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "contentId",
                  "type": {
                    "text": "string"
                  },
                  "description": "The ID of the content to remove"
                }
              ],
              "description": "Unregister custom header content."
            },
            {
              "kind": "method",
              "name": "getToolbarContents",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "description": "Get all registered toolbar content definitions."
            },
            {
              "kind": "method",
              "name": "registerToolbarContent",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "content",
                  "type": {
                    "text": "ToolbarContentDefinition"
                  },
                  "description": "The toolbar content definition"
                }
              ],
              "description": "Register custom toolbar content.\r\n\r\nToolbar content appears in the grid's toolbar area. Use this for action\r\nbuttons, dropdowns, or other controls that should be easily accessible.\r\nContent is rendered in order of the `order` property (lower = first)."
            },
            {
              "kind": "method",
              "name": "unregisterToolbarContent",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "contentId",
                  "type": {
                    "text": "string"
                  },
                  "description": "The ID of the content to remove"
                }
              ],
              "description": "Unregister custom toolbar content."
            },
            {
              "kind": "field",
              "name": "#pendingShellRefresh",
              "privacy": "private",
              "type": {
                "text": "boolean"
              },
              "default": "false",
              "description": "Pending shell refresh - used to batch multiple rapid calls"
            },
            {
              "kind": "method",
              "name": "#afterShellRefresh",
              "privacy": "private",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "description": "Lighter-weight post-render setup after shell refresh.\r\nUnlike #afterConnect(), this skips scheduler FULL request since DOM is already built."
            },
            {
              "kind": "field",
              "name": "#customStyleSheets",
              "privacy": "private",
              "default": "new Map<string, CSSStyleSheet>()",
              "description": "Map of registered custom stylesheets by ID - uses adoptedStyleSheets which survive DOM rebuilds"
            },
            {
              "kind": "method",
              "name": "registerStyles",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "id",
                  "type": {
                    "text": "string"
                  },
                  "description": "Unique identifier for the style block (for removal/updates)"
                },
                {
                  "name": "css",
                  "type": {
                    "text": "string"
                  },
                  "description": "CSS string to inject"
                }
              ],
              "description": "Register custom CSS styles to be injected into the grid's shadow DOM.\r\nUse this to style custom cell renderers, editors, or detail panels.\r\n\r\nUses adoptedStyleSheets for efficiency - styles survive shadow DOM rebuilds."
            },
            {
              "kind": "method",
              "name": "unregisterStyles",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "id",
                  "type": {
                    "text": "string"
                  },
                  "description": "The ID used when registering the styles"
                }
              ],
              "description": "Remove previously registered custom styles."
            },
            {
              "kind": "method",
              "name": "getRegisteredStyles",
              "return": {
                "type": {
                  "text": "string[]"
                }
              },
              "description": "Get list of registered custom style IDs."
            },
            {
              "kind": "method",
              "name": "#updateAdoptedStyleSheets",
              "privacy": "private",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "description": "Update document.adoptedStyleSheets to include custom sheets.\r\nWithout Shadow DOM, all custom styles go into the document."
            },
            {
              "kind": "method",
              "name": "#setupLightDomHandlers",
              "privacy": "private",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "description": "Set up Light DOM handlers via ConfigManager's observer infrastructure.\r\nThis handles frameworks like Angular that project content asynchronously.\r\n\r\nThe observer is owned by ConfigManager (generic infrastructure).\r\nThe handlers (parsing logic) are owned here (eventually ShellPlugin).\r\n\r\nThis separation allows plugins to register their own Light DOM elements\r\nand handle parsing themselves."
            },
            {
              "kind": "method",
              "name": "refreshColumns",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "description": "Re-parse light DOM column elements and refresh the grid.\r\nCall this after framework adapters have registered their templates.\r\nUses the render scheduler to batch with other pending updates."
            },
            {
              "kind": "method",
              "name": "#calculateTotalSpacerHeight",
              "privacy": "private",
              "return": {
                "type": {
                  "text": "number"
                }
              },
              "parameters": [
                {
                  "name": "totalRows",
                  "type": {
                    "text": "number"
                  }
                }
              ],
              "description": "Calculate total height for the faux scrollbar spacer element.\r\nUsed by both bypass and virtualized rendering paths to ensure consistent scroll behavior."
            },
            {
              "kind": "method",
              "name": "#render",
              "privacy": "private",
              "return": {
                "type": {
                  "text": "void"
                }
              }
            },
            {
              "kind": "method",
              "name": "#setupShellListeners",
              "privacy": "private",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "description": "Set up shell event listeners after render."
            }
          ],
          "events": [
            {
              "name": "eventName",
              "type": {
                "text": "CustomEvent"
              }
            }
          ],
          "attributes": [
            {
              "name": "rows"
            },
            {
              "name": "columns"
            },
            {
              "name": "grid-config"
            },
            {
              "name": "fit-mode"
            },
            {
              "name": "loading"
            }
          ],
          "superclass": {
            "name": "HTMLElement"
          },
          "tagName": "tbw-grid",
          "customElement": true
        },
        {
          "kind": "variable",
          "name": "rowEl"
        },
        {
          "kind": "variable",
          "name": "colIndex"
        },
        {
          "kind": "variable",
          "name": "cellEl",
          "default": "rowEl.children[colIndex]"
        },
        {
          "kind": "variable",
          "name": "row",
          "default": "this._rows[rowIndex]"
        },
        {
          "kind": "variable",
          "name": "field"
        },
        {
          "kind": "variable",
          "name": "value",
          "default": "(row as Record<string, unknown>)[field]"
        }
      ],
      "exports": [
        {
          "kind": "js",
          "name": "DataGridElement",
          "declaration": {
            "name": "DataGridElement",
            "module": "src/lib/core/grid.ts"
          }
        },
        {
          "kind": "custom-element-definition",
          "declaration": {
            "name": "DataGridElement",
            "module": "src/lib/core/grid.ts"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/core/types.ts",
      "declarations": [
        {
          "kind": "variable",
          "name": "FitModeEnum",
          "type": {
            "text": "{\n  STRETCH: 'stretch',\n  FIXED: 'fixed',\n}"
          },
          "default": "{ STRETCH: 'stretch', FIXED: 'fixed', }",
          "description": "Column sizing mode.\n\n- `'fixed'` - Columns use their configured widths. Horizontal scrolling if content overflows.\n- `'stretch'` - Columns stretch proportionally to fill available width. No horizontal scrolling."
        },
        {
          "kind": "variable",
          "name": "DEFAULT_ANIMATION_CONFIG",
          "type": {
            "text": "Required<Omit<AnimationConfig, 'sort'>>"
          },
          "default": "{ mode: 'reduced-motion', duration: 200, easing: 'ease-out', }",
          "description": "Default animation configuration"
        },
        {
          "kind": "variable",
          "name": "DEFAULT_GRID_ICONS",
          "type": {
            "text": "Required<GridIcons>"
          },
          "default": "{ expand: '▶', collapse: '▼', sortAsc: '▲', sortDesc: '▼', sortNone: '⇅', submenuArrow: '▶', dragHandle: '⋮⋮', toolPanel: '☰', filter: DEFAULT_FILTER_ICON, filterActive: DEFAULT_FILTER_ICON, print: '🖨️', }",
          "description": "Default icons used when not overridden"
        }
      ],
      "exports": [
        {
          "kind": "js",
          "name": "FitModeEnum",
          "declaration": {
            "name": "FitModeEnum",
            "module": "src/lib/core/types.ts"
          }
        },
        {
          "kind": "js",
          "name": "DEFAULT_ANIMATION_CONFIG",
          "declaration": {
            "name": "DEFAULT_ANIMATION_CONFIG",
            "module": "src/lib/core/types.ts"
          }
        },
        {
          "kind": "js",
          "name": "DEFAULT_GRID_ICONS",
          "declaration": {
            "name": "DEFAULT_GRID_ICONS",
            "module": "src/lib/core/types.ts"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/__tests__/integration/a11y.spec.ts",
      "declarations": [],
      "exports": []
    },
    {
      "kind": "javascript-module",
      "path": "src/__tests__/integration/config-before-connect.spec.ts",
      "declarations": [],
      "exports": []
    },
    {
      "kind": "javascript-module",
      "path": "src/__tests__/integration/config-precedence.spec.ts",
      "declarations": [],
      "exports": []
    },
    {
      "kind": "javascript-module",
      "path": "src/__tests__/integration/grid.integration.spec.ts",
      "declarations": [],
      "exports": []
    },
    {
      "kind": "javascript-module",
      "path": "src/__tests__/integration/loading.spec.ts",
      "declarations": [],
      "exports": []
    },
    {
      "kind": "javascript-module",
      "path": "src/__tests__/integration/row-update.spec.ts",
      "declarations": [],
      "exports": []
    },
    {
      "kind": "javascript-module",
      "path": "src/__tests__/integration/tiny-dataset.spec.ts",
      "declarations": [],
      "exports": [
        {
          "kind": "custom-element-definition",
          "name": "tbw-grid",
          "declaration": {
            "name": "DataGridElement",
            "module": "/src/lib/core/grid"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/__tests__/integration/type-defaults.spec.ts",
      "declarations": [],
      "exports": []
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/core/internal/aggregators.spec.ts",
      "declarations": [],
      "exports": []
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/core/internal/aggregators.ts",
      "declarations": [
        {
          "kind": "variable",
          "name": "aggregatorRegistry",
          "type": {
            "text": "object"
          },
          "default": "{ /** * Register a custom aggregator function. */ register(name: string, fn: AggregatorFn): void { customAggregators.set(name, fn); }, /** * Unregister a custom aggregator function. */ unregister(name: string): void { customAggregators.delete(name); }, /** * Get an aggregator function by reference. */ get(ref: AggregatorRef | undefined): AggregatorFn | undefined { if (ref === undefined) return undefined; if (typeof ref === 'function') return ref; // Check custom first, then built-in return customAggregators.get(ref) ?? builtInAggregators[ref]; }, /** * Run an aggregator on a set of rows. */ run(ref: AggregatorRef | undefined, rows: any[], field: string, column?: any): any { const fn = this.get(ref); return fn ? fn(rows, field, column) : undefined; }, /** * Check if an aggregator exists. */ has(name: string): boolean { return customAggregators.has(name) || name in builtInAggregators; }, /** * List all available aggregator names. */ list(): string[] { return [...Object.keys(builtInAggregators), ...customAggregators.keys()]; }, }",
          "description": "The aggregator registry singleton.\r\nPlugins should access this through context or the global namespace."
        },
        {
          "kind": "function",
          "name": "getValueAggregator",
          "return": {
            "type": {
              "text": ""
            }
          },
          "parameters": [
            {
              "name": "aggFunc",
              "type": {
                "text": "string"
              },
              "description": "Aggregation function name ('sum', 'avg', 'count', 'min', 'max', 'first', 'last')"
            }
          ],
          "description": "Get a value-based aggregator function.\r\nUsed by Pivot plugin and other features that aggregate pre-extracted values."
        },
        {
          "kind": "function",
          "name": "runValueAggregator",
          "return": {
            "type": {
              "text": ""
            }
          },
          "parameters": [
            {
              "name": "aggFunc",
              "type": {
                "text": "string"
              },
              "description": "Aggregation function name"
            },
            {
              "name": "values",
              "type": {
                "text": "number[]"
              },
              "description": "Array of numbers to aggregate"
            }
          ],
          "description": "Run a value-based aggregator on a set of values."
        },
        {
          "kind": "variable",
          "name": "registerAggregator"
        },
        {
          "kind": "variable",
          "name": "unregisterAggregator"
        },
        {
          "kind": "variable",
          "name": "getAggregator"
        },
        {
          "kind": "variable",
          "name": "runAggregator"
        },
        {
          "kind": "variable",
          "name": "listAggregators"
        }
      ],
      "exports": [
        {
          "kind": "js",
          "name": "aggregatorRegistry",
          "declaration": {
            "name": "aggregatorRegistry",
            "module": "src/lib/core/internal/aggregators.ts"
          }
        },
        {
          "kind": "js",
          "name": "getValueAggregator",
          "declaration": {
            "name": "getValueAggregator",
            "module": "src/lib/core/internal/aggregators.ts"
          }
        },
        {
          "kind": "js",
          "name": "runValueAggregator",
          "declaration": {
            "name": "runValueAggregator",
            "module": "src/lib/core/internal/aggregators.ts"
          }
        },
        {
          "kind": "js",
          "name": "registerAggregator",
          "declaration": {
            "name": "registerAggregator",
            "module": "src/lib/core/internal/aggregators.ts"
          }
        },
        {
          "kind": "js",
          "name": "unregisterAggregator",
          "declaration": {
            "name": "unregisterAggregator",
            "module": "src/lib/core/internal/aggregators.ts"
          }
        },
        {
          "kind": "js",
          "name": "getAggregator",
          "declaration": {
            "name": "getAggregator",
            "module": "src/lib/core/internal/aggregators.ts"
          }
        },
        {
          "kind": "js",
          "name": "runAggregator",
          "declaration": {
            "name": "runAggregator",
            "module": "src/lib/core/internal/aggregators.ts"
          }
        },
        {
          "kind": "js",
          "name": "listAggregators",
          "declaration": {
            "name": "listAggregators",
            "module": "src/lib/core/internal/aggregators.ts"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/core/internal/columns.spec.ts",
      "declarations": [],
      "exports": []
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/core/internal/columns.ts",
      "declarations": [
        {
          "kind": "function",
          "name": "parseLightDomColumns",
          "return": {
            "type": {
              "text": "ColumnInternal[]"
            }
          },
          "parameters": [
            {
              "name": "host",
              "type": {
                "text": "HTMLElement"
              }
            }
          ],
          "description": "Parse `<tbw-grid-column>` elements from the host light DOM into column config objects,\r\ncapturing template elements for later cloning / compilation."
        },
        {
          "kind": "variable",
          "name": "field"
        },
        {
          "kind": "variable",
          "name": "type"
        },
        {
          "kind": "variable",
          "name": "header"
        },
        {
          "kind": "variable",
          "name": "sortable"
        },
        {
          "kind": "variable",
          "name": "editable"
        },
        {
          "kind": "function",
          "name": "mergeColumns",
          "return": {
            "type": {
              "text": "ColumnInternal[]"
            }
          },
          "parameters": [
            {
              "name": "programmatic",
              "type": {
                "text": "ColumnConfig[] | undefined"
              }
            },
            {
              "name": "dom",
              "type": {
                "text": "ColumnConfig[] | undefined"
              }
            }
          ],
          "description": "Merge programmatic columns with light DOM columns by field name, allowing DOM-provided\r\nattributes / templates to supplement (not overwrite) programmatic definitions.\r\nAny DOM columns without a programmatic counterpart are appended.\r\nWhen multiple DOM columns exist for the same field (e.g., separate renderer and editor),\r\ntheir properties are merged together."
        },
        {
          "kind": "function",
          "name": "addPart",
          "return": {
            "type": {
              "text": "void"
            }
          },
          "parameters": [
            {
              "name": "el",
              "type": {
                "text": "HTMLElement"
              }
            },
            {
              "name": "token",
              "type": {
                "text": "string"
              }
            }
          ],
          "description": "Safely add a token to an element's `part` attribute (supporting the CSS ::part API)\r\nwithout duplicating values. Falls back to string manipulation if `el.part` API isn't present."
        },
        {
          "kind": "function",
          "name": "autoSizeColumns",
          "return": {
            "type": {
              "text": "void"
            }
          },
          "parameters": [
            {
              "name": "grid",
              "type": {
                "text": "InternalGrid"
              }
            }
          ],
          "description": "Measure rendered header + visible cell content to assign initial pixel widths\r\nto columns when in `content` fit mode. Runs only once unless fit mode changes."
        },
        {
          "kind": "function",
          "name": "updateTemplate",
          "return": {
            "type": {
              "text": "void"
            }
          },
          "parameters": [
            {
              "name": "grid",
              "type": {
                "text": "InternalGrid"
              }
            }
          ],
          "description": "Compute and apply the CSS grid template string that drives column layout.\r\nUses `fr` units for flexible (non user-resized) columns in stretch mode, otherwise\r\nexplicit pixel widths or auto sizing."
        }
      ],
      "exports": [
        {
          "kind": "js",
          "name": "parseLightDomColumns",
          "declaration": {
            "name": "parseLightDomColumns",
            "module": "src/lib/core/internal/columns.ts"
          }
        },
        {
          "kind": "js",
          "name": "mergeColumns",
          "declaration": {
            "name": "mergeColumns",
            "module": "src/lib/core/internal/columns.ts"
          }
        },
        {
          "kind": "js",
          "name": "addPart",
          "declaration": {
            "name": "addPart",
            "module": "src/lib/core/internal/columns.ts"
          }
        },
        {
          "kind": "js",
          "name": "autoSizeColumns",
          "declaration": {
            "name": "autoSizeColumns",
            "module": "src/lib/core/internal/columns.ts"
          }
        },
        {
          "kind": "js",
          "name": "updateTemplate",
          "declaration": {
            "name": "updateTemplate",
            "module": "src/lib/core/internal/columns.ts"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/core/internal/config-manager.spec.ts",
      "declarations": [],
      "exports": []
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/core/internal/config-manager.ts",
      "declarations": [
        {
          "kind": "class",
          "description": "ConfigManager handles all configuration lifecycle for the grid.\r\n\r\nManages:\r\n- Source collection (gridConfig, columns, attributes, Light DOM)\r\n- Effective config (merged from all sources)\r\n- State persistence (collectState, applyState, resetState)\r\n- Column visibility and ordering",
          "name": "ConfigManager",
          "members": [
            {
              "kind": "field",
              "name": "#gridConfig",
              "privacy": "private",
              "type": {
                "text": "GridConfig<T> | undefined"
              }
            },
            {
              "kind": "field",
              "name": "#columns",
              "privacy": "private",
              "type": {
                "text": "ColumnConfig<T>[] | ColumnConfigMap<T> | undefined"
              }
            },
            {
              "kind": "field",
              "name": "#fitMode",
              "privacy": "private",
              "type": {
                "text": "FitMode | undefined"
              }
            },
            {
              "kind": "field",
              "name": "#lightDomColumnsCache",
              "privacy": "private",
              "type": {
                "text": "ColumnInternal<T>[] | undefined"
              }
            },
            {
              "kind": "field",
              "name": "#originalColumnNodes",
              "privacy": "private",
              "type": {
                "text": "HTMLElement[] | undefined"
              }
            },
            {
              "kind": "field",
              "name": "#originalConfig",
              "privacy": "private",
              "type": {
                "text": "GridConfig<T>"
              },
              "default": "{}",
              "description": "Original config (frozen) - Built from sources, never mutated.\r\nThis is the \"canonical\" config that sources compile into.\r\nUsed as the reset point for effectiveConfig."
            },
            {
              "kind": "field",
              "name": "#effectiveConfig",
              "privacy": "private",
              "type": {
                "text": "GridConfig<T>"
              },
              "default": "{}",
              "description": "Effective config (mutable) - Cloned from original, runtime mutations here.\r\nThis is what rendering reads from.\r\nRuntime changes: hidden, width, sort order, column order."
            },
            {
              "kind": "field",
              "name": "#sourcesChanged",
              "privacy": "private",
              "type": {
                "text": "boolean"
              },
              "default": "true"
            },
            {
              "kind": "field",
              "name": "#changeListeners",
              "privacy": "private",
              "type": {
                "text": "Array<() => void>"
              },
              "default": "[]"
            },
            {
              "kind": "field",
              "name": "#lightDomObserver",
              "privacy": "private",
              "type": {
                "text": "MutationObserver | undefined"
              }
            },
            {
              "kind": "field",
              "name": "#stateChangeTimeoutId",
              "privacy": "private",
              "type": {
                "text": "ReturnType<typeof setTimeout> | undefined"
              }
            },
            {
              "kind": "field",
              "name": "#initialColumnState",
              "privacy": "private",
              "type": {
                "text": "GridColumnState | undefined"
              }
            },
            {
              "kind": "field",
              "name": "#callbacks",
              "privacy": "private",
              "type": {
                "text": "ConfigManagerCallbacks<T>"
              },
              "default": "callbacks"
            },
            {
              "kind": "field",
              "name": "#lightDomTitle",
              "privacy": "private",
              "type": {
                "text": "string | undefined"
              }
            },
            {
              "kind": "field",
              "name": "original",
              "type": {
                "text": "GridConfig<T>"
              },
              "description": "Get the frozen original config (compiled from sources, immutable)",
              "readonly": true
            },
            {
              "kind": "field",
              "name": "effective",
              "type": {
                "text": "GridConfig<T>"
              },
              "description": "Get the mutable effective config (current runtime state)",
              "readonly": true
            },
            {
              "kind": "field",
              "name": "columns",
              "type": {
                "text": "ColumnInternal<T>[]"
              },
              "description": "Set columns on effective config"
            },
            {
              "kind": "field",
              "name": "lightDomColumnsCache",
              "type": {
                "text": "ColumnInternal<T>[] | undefined"
              },
              "description": "Set light DOM columns cache"
            },
            {
              "kind": "field",
              "name": "originalColumnNodes",
              "type": {
                "text": "HTMLElement[] | undefined"
              },
              "description": "Set original column nodes"
            },
            {
              "kind": "field",
              "name": "lightDomTitle",
              "type": {
                "text": "string | undefined"
              },
              "description": "Set light DOM title"
            },
            {
              "kind": "field",
              "name": "initialColumnState",
              "type": {
                "text": "GridColumnState | undefined"
              },
              "description": "Set initial column state"
            },
            {
              "kind": "field",
              "name": "sourcesChanged",
              "type": {
                "text": "boolean"
              },
              "description": "Check if sources have changed since last merge.",
              "readonly": true
            },
            {
              "kind": "method",
              "name": "markSourcesChanged",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "description": "Mark that sources have changed and need re-merging.\r\nCall this when external state (shell maps, etc.) that feeds into\r\ncollectAllSources() has been updated."
            },
            {
              "kind": "method",
              "name": "setGridConfig",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "config",
                  "type": {
                    "text": "GridConfig<T> | undefined"
                  }
                }
              ],
              "description": "Set gridConfig source"
            },
            {
              "kind": "method",
              "name": "getGridConfig",
              "return": {
                "type": {
                  "text": "GridConfig<T> | undefined"
                }
              },
              "description": "Get the raw gridConfig source"
            },
            {
              "kind": "method",
              "name": "setColumns",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "columns",
                  "type": {
                    "text": "ColumnConfig<T>[] | ColumnConfigMap<T> | undefined"
                  }
                }
              ],
              "description": "Set columns source"
            },
            {
              "kind": "method",
              "name": "getColumns",
              "return": {
                "type": {
                  "text": "ColumnConfig<T>[] | ColumnConfigMap<T> | undefined"
                }
              },
              "description": "Get the raw columns source"
            },
            {
              "kind": "method",
              "name": "setFitMode",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "mode",
                  "type": {
                    "text": "FitMode | undefined"
                  }
                }
              ],
              "description": "Set fitMode source"
            },
            {
              "kind": "method",
              "name": "getFitMode",
              "return": {
                "type": {
                  "text": "FitMode | undefined"
                }
              },
              "description": "Get the raw fitMode source"
            },
            {
              "kind": "method",
              "name": "merge",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "description": "Merge all sources into effective config.\r\nAlso applies post-merge operations (rowHeight, fixed mode widths, animation).\r\n\r\nCalled by RenderScheduler's mergeConfig phase.\r\n\r\nTwo-layer architecture:\r\n1. Sources → #originalConfig (frozen, immutable)\r\n2. Clone → #effectiveConfig (mutable, runtime changes)\r\n\r\nWhen sources change, both layers are rebuilt.\r\nWhen sources haven't changed AND columns exist, this is a no-op.\r\nRuntime mutations only affect effectiveConfig.\r\nresetState() clones originalConfig back to effectiveConfig."
            },
            {
              "kind": "method",
              "name": "#cloneConfig",
              "privacy": "private",
              "return": {
                "type": {
                  "text": "GridConfig<T>"
                }
              },
              "parameters": [
                {
                  "name": "config",
                  "type": {
                    "text": "GridConfig<T>"
                  }
                }
              ],
              "description": "Deep clone a config object, handling functions (renderers, editors).\r\nUses structuredClone where possible, with fallback for function properties."
            },
            {
              "kind": "method",
              "name": "#applyPostMergeOperations",
              "privacy": "private",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "description": "Apply operations that depend on the merged effective config.\r\nThese were previously in grid.ts #mergeEffectiveConfig()."
            },
            {
              "kind": "method",
              "name": "#applyTypeDefaultsToColumns",
              "privacy": "private",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "description": "Apply typeDefaults from gridConfig to columns.\r\nFor each column with a `type` property that matches a key in `typeDefaults`,\r\ncopy the renderer/format to the column if not already set.\r\n\r\nThis is done at config merge time for performance - avoids runtime lookups."
            },
            {
              "kind": "method",
              "name": "#collectAllSources",
              "privacy": "private",
              "return": {
                "type": {
                  "text": "GridConfig<T>"
                }
              },
              "description": "Collect all sources into a single config object.\r\nThis is the core merge logic extracted from grid.ts #mergeEffectiveConfig.\r\n\r\nCollects all sources into a canonical config object.\r\nThis becomes the frozen #originalConfig.\r\n\r\nSources (in order of precedence, low to high):\r\n1. gridConfig.columns\r\n2. Light DOM columns (merged with config columns)\r\n3. columns prop (overrides if set)\r\n4. Inferred columns (if still empty)\r\n\r\nRuntime state (hidden, width) is NOT preserved here - that's in effectiveConfig."
            },
            {
              "kind": "method",
              "name": "#mergeShellConfig",
              "privacy": "private",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "base",
                  "type": {
                    "text": "GridConfig<T>"
                  }
                }
              ],
              "description": "Merge shell state into base config's shell property.\r\nEnsures effectiveConfig.shell is the single source of truth.\r\n\r\nIMPORTANT: This method must NOT mutate the original gridConfig.\r\nWe shallow-clone the shell hierarchy to avoid side effects."
            },
            {
              "kind": "method",
              "name": "collectState",
              "return": {
                "type": {
                  "text": "GridColumnState"
                }
              },
              "parameters": [
                {
                  "name": "plugins",
                  "type": {
                    "text": "BaseGridPlugin[]"
                  }
                }
              ],
              "description": "Collect current column state by diffing original vs effective.\r\nReturns only the changes from the original configuration."
            },
            {
              "kind": "method",
              "name": "applyState",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "state",
                  "type": {
                    "text": "GridColumnState"
                  }
                },
                {
                  "name": "plugins",
                  "type": {
                    "text": "BaseGridPlugin[]"
                  }
                }
              ],
              "description": "Apply column state to the grid."
            },
            {
              "kind": "method",
              "name": "resetState",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "plugins",
                  "type": {
                    "text": "BaseGridPlugin[]"
                  }
                }
              ],
              "description": "Reset state to original configuration.\r\n\r\nTwo-layer architecture: Clones #originalConfig back to #effectiveConfig.\r\nThis discards all runtime changes (hidden, width, order) and restores\r\nthe state to what was compiled from sources."
            },
            {
              "kind": "method",
              "name": "#getSortState",
              "privacy": "private",
              "return": {
                "type": {
                  "text": "Map<string, ColumnSortState>"
                }
              },
              "description": "Get sort state as a map."
            },
            {
              "kind": "method",
              "name": "requestStateChange",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "plugins",
                  "type": {
                    "text": "BaseGridPlugin[]"
                  }
                }
              ],
              "description": "Request a debounced state change event."
            },
            {
              "kind": "method",
              "name": "setColumnVisible",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "field",
                  "type": {
                    "text": "string"
                  }
                },
                {
                  "name": "visible",
                  "type": {
                    "text": "boolean"
                  }
                }
              ],
              "description": "Set the visibility of a column."
            },
            {
              "kind": "method",
              "name": "toggleColumnVisibility",
              "return": {
                "type": {
                  "text": "boolean"
                }
              },
              "parameters": [
                {
                  "name": "field",
                  "type": {
                    "text": "string"
                  }
                }
              ],
              "description": "Toggle column visibility."
            },
            {
              "kind": "method",
              "name": "isColumnVisible",
              "return": {
                "type": {
                  "text": "boolean"
                }
              },
              "parameters": [
                {
                  "name": "field",
                  "type": {
                    "text": "string"
                  }
                }
              ],
              "description": "Check if a column is visible."
            },
            {
              "kind": "method",
              "name": "showAllColumns",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "description": "Show all columns."
            },
            {
              "kind": "method",
              "name": "getAllColumns",
              "return": {
                "type": {
                  "text": "Array<{\r\n    field: string;\r\n    header: string;\r\n    visible: boolean;\r\n    lockVisible?: boolean;\r\n    utility?: boolean;\r\n  }>"
                }
              },
              "description": "Get all columns with visibility info."
            },
            {
              "kind": "method",
              "name": "getColumnOrder",
              "return": {
                "type": {
                  "text": "string[]"
                }
              },
              "description": "Get current column order."
            },
            {
              "kind": "method",
              "name": "setColumnOrder",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "order",
                  "type": {
                    "text": "string[]"
                  }
                }
              ],
              "description": "Set column order."
            },
            {
              "kind": "method",
              "name": "parseLightDomColumns",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "host",
                  "type": {
                    "text": "HTMLElement"
                  }
                }
              ],
              "description": "Parse light DOM columns from host element."
            },
            {
              "kind": "method",
              "name": "clearLightDomCache",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "description": "Clear the light DOM columns cache."
            },
            {
              "kind": "field",
              "name": "#lightDomHandlers",
              "privacy": "private",
              "type": {
                "text": "Map<string, () => void>"
              },
              "default": "new Map()",
              "description": "Registered Light DOM element handlers.\r\nMaps element tag names to callbacks that are invoked when those elements change.\r\n\r\nThis is a generic mechanism - plugins (or future ShellPlugin) register\r\nwhat elements they care about and handle parsing themselves."
            },
            {
              "kind": "method",
              "name": "registerLightDomHandler",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "tagName",
                  "type": {
                    "text": "string"
                  },
                  "description": "The lowercase tag name to watch (e.g., 'tbw-grid-header')"
                },
                {
                  "name": "callback",
                  "type": {
                    "text": "() => void"
                  },
                  "description": "Called when matching elements change"
                }
              ],
              "description": "Register a handler for Light DOM element changes.\r\nWhen elements matching the tag name are added/removed/changed,\r\nthe callback will be invoked (debounced)."
            },
            {
              "kind": "method",
              "name": "unregisterLightDomHandler",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "tagName",
                  "type": {
                    "text": "string"
                  }
                }
              ],
              "description": "Unregister a Light DOM element handler."
            },
            {
              "kind": "method",
              "name": "observeLightDOM",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "host",
                  "type": {
                    "text": "HTMLElement"
                  },
                  "description": "The host element to observe (the grid element)"
                }
              ],
              "description": "Set up MutationObserver to watch for Light DOM changes.\r\nThis is generic infrastructure - specific handling is done via registered handlers.\r\n\r\nWhen Light DOM elements are added/removed/changed, the observer:\r\n1. Identifies which registered tag names were affected\r\n2. Debounces multiple mutations into a single callback per handler\r\n3. Invokes the registered callbacks\r\n\r\nThis mechanism allows plugins to register their own Light DOM elements\r\nand handle parsing themselves, then hand config to ConfigManager."
            },
            {
              "kind": "method",
              "name": "onChange",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "callback",
                  "type": {
                    "text": "() => void"
                  }
                }
              ],
              "description": "Register a change listener."
            },
            {
              "kind": "method",
              "name": "notifyChange",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "description": "Notify all change listeners."
            },
            {
              "kind": "method",
              "name": "dispose",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "description": "Dispose of the ConfigManager and clean up resources."
            }
          ]
        }
      ],
      "exports": [
        {
          "kind": "js",
          "name": "ConfigManager",
          "declaration": {
            "name": "ConfigManager",
            "module": "src/lib/core/internal/config-manager.ts"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/core/internal/dom-builder.spec.ts",
      "declarations": [],
      "exports": []
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/core/internal/dom-builder.ts",
      "declarations": [
        {
          "kind": "function",
          "name": "createElement",
          "return": {
            "type": {
              "text": "HTMLElementTagNameMap[K]"
            }
          },
          "parameters": [
            {
              "name": "tag",
              "type": {
                "text": "K"
              }
            },
            {
              "name": "attrs",
              "optional": true,
              "type": {
                "text": "Record<string, string>"
              }
            },
            {
              "name": "children",
              "optional": true,
              "type": {
                "text": "(Node | string | null | undefined)[]"
              }
            }
          ],
          "description": "Create an element with attributes and optional children.\r\nOptimized helper that avoids repeated function calls."
        },
        {
          "kind": "function",
          "name": "text",
          "return": {
            "type": {
              "text": "Text"
            }
          },
          "parameters": [
            {
              "name": "content",
              "type": {
                "text": "string"
              }
            }
          ],
          "description": "Create a text node (shorthand)."
        },
        {
          "kind": "function",
          "name": "div",
          "return": {
            "type": {
              "text": "HTMLDivElement"
            }
          },
          "parameters": [
            {
              "name": "className",
              "optional": true,
              "type": {
                "text": "string"
              }
            },
            {
              "name": "attrs",
              "optional": true,
              "type": {
                "text": "Record<string, string>"
              }
            }
          ],
          "description": "Create an element with class (common pattern)."
        },
        {
          "kind": "function",
          "name": "button",
          "return": {
            "type": {
              "text": "HTMLButtonElement"
            }
          },
          "parameters": [
            {
              "name": "className",
              "optional": true,
              "type": {
                "text": "string"
              }
            },
            {
              "name": "attrs",
              "optional": true,
              "type": {
                "text": "Record<string, string>"
              }
            },
            {
              "name": "content",
              "optional": true,
              "type": {
                "text": "string | Node"
              }
            }
          ],
          "description": "Create a button element."
        },
        {
          "kind": "function",
          "name": "appendChildren",
          "return": {
            "type": {
              "text": "void"
            }
          },
          "parameters": [
            {
              "name": "parent",
              "type": {
                "text": "Element"
              }
            },
            {
              "name": "children",
              "type": {
                "text": "(Node | null | undefined)[]"
              }
            }
          ],
          "description": "Append multiple children to a parent element."
        },
        {
          "kind": "function",
          "name": "setAttrs",
          "return": {
            "type": {
              "text": "void"
            }
          },
          "parameters": [
            {
              "name": "el",
              "type": {
                "text": "Element"
              }
            },
            {
              "name": "attrs",
              "type": {
                "text": "Record<string, string | undefined>"
              }
            }
          ],
          "description": "Set multiple attributes on an element."
        },
        {
          "kind": "function",
          "name": "cloneGridContent",
          "return": {
            "type": {
              "text": "DocumentFragment"
            }
          },
          "description": "Clone the grid content structure.\r\nUsing template cloning is faster than createElement for nested structures."
        },
        {
          "kind": "function",
          "name": "buildGridDOM",
          "return": {
            "type": {
              "text": "DocumentFragment"
            }
          },
          "parameters": [
            {
              "name": "options",
              "type": {
                "text": "GridDOMOptions"
              }
            }
          ],
          "description": "Build the complete grid DOM structure.\r\nReturns a DocumentFragment ready to be appended to shadow root."
        },
        {
          "kind": "function",
          "name": "buildShellHeader",
          "return": {
            "type": {
              "text": "HTMLDivElement"
            }
          },
          "parameters": [
            {
              "name": "options",
              "type": {
                "text": "ShellHeaderOptions"
              }
            }
          ],
          "description": "Build shell header element directly without innerHTML."
        },
        {
          "kind": "function",
          "name": "buildShellBody",
          "return": {
            "type": {
              "text": "HTMLDivElement"
            }
          },
          "parameters": [
            {
              "name": "options",
              "type": {
                "text": "ShellBodyOptions"
              }
            }
          ],
          "description": "Build shell body element directly without innerHTML."
        }
      ],
      "exports": [
        {
          "kind": "js",
          "name": "createElement",
          "declaration": {
            "name": "createElement",
            "module": "src/lib/core/internal/dom-builder.ts"
          }
        },
        {
          "kind": "js",
          "name": "text",
          "declaration": {
            "name": "text",
            "module": "src/lib/core/internal/dom-builder.ts"
          }
        },
        {
          "kind": "js",
          "name": "div",
          "declaration": {
            "name": "div",
            "module": "src/lib/core/internal/dom-builder.ts"
          }
        },
        {
          "kind": "js",
          "name": "button",
          "declaration": {
            "name": "button",
            "module": "src/lib/core/internal/dom-builder.ts"
          }
        },
        {
          "kind": "js",
          "name": "appendChildren",
          "declaration": {
            "name": "appendChildren",
            "module": "src/lib/core/internal/dom-builder.ts"
          }
        },
        {
          "kind": "js",
          "name": "setAttrs",
          "declaration": {
            "name": "setAttrs",
            "module": "src/lib/core/internal/dom-builder.ts"
          }
        },
        {
          "kind": "js",
          "name": "cloneGridContent",
          "declaration": {
            "name": "cloneGridContent",
            "module": "src/lib/core/internal/dom-builder.ts"
          }
        },
        {
          "kind": "js",
          "name": "buildGridDOM",
          "declaration": {
            "name": "buildGridDOM",
            "module": "src/lib/core/internal/dom-builder.ts"
          }
        },
        {
          "kind": "js",
          "name": "buildShellHeader",
          "declaration": {
            "name": "buildShellHeader",
            "module": "src/lib/core/internal/dom-builder.ts"
          }
        },
        {
          "kind": "js",
          "name": "buildShellBody",
          "declaration": {
            "name": "buildShellBody",
            "module": "src/lib/core/internal/dom-builder.ts"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/core/internal/event-delegation.spec.ts",
      "declarations": [],
      "exports": []
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/core/internal/event-delegation.ts",
      "declarations": [
        {
          "kind": "function",
          "name": "setupCellEventDelegation",
          "return": {
            "type": {
              "text": "void"
            }
          },
          "parameters": [
            {
              "name": "grid",
              "type": {
                "text": "InternalGrid"
              },
              "description": "The grid instance"
            },
            {
              "name": "bodyEl",
              "type": {
                "text": "HTMLElement"
              },
              "description": "The .rows element containing all data rows"
            },
            {
              "name": "signal",
              "type": {
                "text": "AbortSignal"
              },
              "description": "AbortSignal for cleanup"
            }
          ],
          "description": "Set up delegated event listeners on the grid body.\r\nConsolidates all row/cell mouse event handling into a single set of listeners.\r\nCall once during grid initialization.\r\n\r\nBenefits:\r\n- 3 listeners total vs N*2 listeners (where N = pool size)\r\n- Consistent event handling across all rows\r\n- Automatic cleanup via AbortController signal"
        },
        {
          "kind": "function",
          "name": "setupRootEventDelegation",
          "return": {
            "type": {
              "text": "void"
            }
          },
          "parameters": [
            {
              "name": "grid",
              "type": {
                "text": "InternalGrid"
              },
              "description": "The grid instance"
            },
            {
              "name": "gridElement",
              "type": {
                "text": "HTMLElement"
              },
              "description": "The grid element (for keydown)"
            },
            {
              "name": "renderRoot",
              "type": {
                "text": "HTMLElement"
              },
              "description": "The render root element (for mousedown)"
            },
            {
              "name": "signal",
              "type": {
                "text": "AbortSignal"
              },
              "description": "AbortSignal for cleanup"
            }
          ],
          "description": "Set up root-level and document-level event listeners.\r\nThese are added once per grid lifetime (not re-attached on DOM recreation).\r\n\r\nIncludes:\r\n- keydown: Keyboard navigation (arrows, Enter, Escape)\r\n- mousedown: Plugin dispatch for cell interactions\r\n- mousemove/mouseup: Global drag tracking"
        }
      ],
      "exports": [
        {
          "kind": "js",
          "name": "setupCellEventDelegation",
          "declaration": {
            "name": "setupCellEventDelegation",
            "module": "src/lib/core/internal/event-delegation.ts"
          }
        },
        {
          "kind": "js",
          "name": "setupRootEventDelegation",
          "declaration": {
            "name": "setupRootEventDelegation",
            "module": "src/lib/core/internal/event-delegation.ts"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/core/internal/header.spec.ts",
      "declarations": [],
      "exports": []
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/core/internal/header.ts",
      "declarations": [
        {
          "kind": "function",
          "name": "renderHeader",
          "return": {
            "type": {
              "text": "void"
            }
          },
          "parameters": [
            {
              "name": "grid",
              "type": {
                "text": "InternalGrid"
              }
            }
          ],
          "description": "Rebuild the header row DOM based on current column configuration, attaching\r\nsorting and resize affordances where enabled.\r\n\r\nRendering precedence:\r\n1. `headerRenderer` - Full control over header cell content\r\n2. `headerLabelRenderer` - Custom label, framework handles icons/interactions\r\n3. `__headerTemplate` - Light DOM template (framework adapter)\r\n4. `header` property - Plain text header\r\n5. `field` - Fallback to field name"
        },
        {
          "kind": "variable",
          "name": "sortState",
          "type": {
            "text": "'asc' | 'desc' | null"
          }
        }
      ],
      "exports": [
        {
          "kind": "js",
          "name": "renderHeader",
          "declaration": {
            "name": "renderHeader",
            "module": "src/lib/core/internal/header.ts"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/core/internal/idle-scheduler.spec.ts",
      "declarations": [],
      "exports": []
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/core/internal/idle-scheduler.ts",
      "declarations": [
        {
          "kind": "function",
          "name": "scheduleIdle",
          "return": {
            "type": {
              "text": ""
            }
          },
          "parameters": [
            {
              "name": "callback",
              "type": {
                "text": "(deadline: IdleDeadlineLike) => void"
              },
              "description": "Work to run when idle"
            },
            {
              "name": "options",
              "optional": true,
              "type": {
                "text": "{ timeout?: number }"
              },
              "description": "Optional timeout configuration"
            }
          ],
          "description": "Schedule work to run during browser idle time.\r\nFalls back to setTimeout(0) if requestIdleCallback is not available."
        },
        {
          "kind": "function",
          "name": "cancelIdle",
          "return": {
            "type": {
              "text": "void"
            }
          },
          "parameters": [
            {
              "name": "handle",
              "type": {
                "text": "number"
              }
            }
          ],
          "description": "Cancel a scheduled idle callback."
        },
        {
          "kind": "class",
          "description": "Deferred work queue that runs tasks during idle periods.\r\nGroups related work and processes in priority order.",
          "name": "IdleQueue",
          "members": [
            {
              "kind": "field",
              "name": "tasks",
              "type": {
                "text": "DeferredTask[]"
              },
              "privacy": "private",
              "default": "[]"
            },
            {
              "kind": "field",
              "name": "scheduled",
              "type": {
                "text": "boolean"
              },
              "privacy": "private",
              "default": "false"
            },
            {
              "kind": "field",
              "name": "handle",
              "type": {
                "text": "number | null"
              },
              "privacy": "private",
              "default": "null"
            },
            {
              "kind": "method",
              "name": "add",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "fn",
                  "type": {
                    "text": "() => void"
                  },
                  "description": "Function to execute"
                },
                {
                  "name": "priority",
                  "default": "10",
                  "description": "Priority (lower = run sooner). Default 10."
                }
              ],
              "description": "Add a task to the queue."
            },
            {
              "kind": "method",
              "name": "process",
              "privacy": "private",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "deadline",
                  "type": {
                    "text": "IdleDeadlineLike"
                  }
                }
              ],
              "description": "Process tasks until we run out of time or tasks."
            },
            {
              "kind": "method",
              "name": "cancel",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "description": "Cancel all pending tasks."
            },
            {
              "kind": "field",
              "name": "isEmpty",
              "type": {
                "text": "boolean"
              },
              "description": "Check if the queue is empty.",
              "readonly": true
            }
          ]
        }
      ],
      "exports": [
        {
          "kind": "js",
          "name": "scheduleIdle",
          "declaration": {
            "name": "scheduleIdle",
            "module": "src/lib/core/internal/idle-scheduler.ts"
          }
        },
        {
          "kind": "js",
          "name": "cancelIdle",
          "declaration": {
            "name": "cancelIdle",
            "module": "src/lib/core/internal/idle-scheduler.ts"
          }
        },
        {
          "kind": "js",
          "name": "IdleQueue",
          "declaration": {
            "name": "IdleQueue",
            "module": "src/lib/core/internal/idle-scheduler.ts"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/core/internal/inference.spec.ts",
      "declarations": [],
      "exports": []
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/core/internal/inference.ts",
      "declarations": [
        {
          "kind": "function",
          "name": "inferType",
          "return": {
            "type": {
              "text": "PrimitiveColumnType"
            }
          },
          "parameters": [
            {
              "name": "value",
              "type": {
                "text": "any"
              }
            }
          ],
          "description": "Best-effort primitive type inference for a cell value used during automatic column generation."
        },
        {
          "kind": "function",
          "name": "inferColumns",
          "return": {
            "type": {
              "text": "InferredColumnResult<TRow>"
            }
          },
          "parameters": [
            {
              "name": "rows",
              "type": {
                "text": "TRow[]"
              }
            },
            {
              "name": "provided",
              "optional": true,
              "type": {
                "text": "ColumnConfigMap<TRow>"
              }
            }
          ],
          "description": "Derive column definitions from provided configuration or by inspecting the first row of data.\r\nReturns both the resolved column array and a field->type map."
        }
      ],
      "exports": [
        {
          "kind": "js",
          "name": "inferColumns",
          "declaration": {
            "name": "inferColumns",
            "module": "src/lib/core/internal/inference.ts"
          }
        },
        {
          "kind": "js",
          "name": "inferType",
          "declaration": {
            "name": "inferType",
            "module": "src/lib/core/internal/inference.ts"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/core/internal/keyboard.spec.ts",
      "declarations": [],
      "exports": []
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/core/internal/keyboard.ts",
      "declarations": [
        {
          "kind": "function",
          "name": "handleGridKeyDown",
          "return": {
            "type": {
              "text": "void"
            }
          },
          "parameters": [
            {
              "name": "grid",
              "type": {
                "text": "InternalGrid"
              }
            },
            {
              "name": "e",
              "type": {
                "text": "KeyboardEvent"
              }
            }
          ]
        },
        {
          "kind": "variable",
          "name": "rowIndex"
        },
        {
          "kind": "variable",
          "name": "colIndex"
        },
        {
          "kind": "variable",
          "name": "row",
          "default": "grid._rows[rowIndex]"
        },
        {
          "kind": "variable",
          "name": "field"
        },
        {
          "kind": "variable",
          "name": "value"
        },
        {
          "kind": "variable",
          "name": "cellEl",
          "default": "(grid as unknown as HTMLElement).querySelector( `[data-row=\"${rowIndex}\"][data-col=\"${colIndex}\"]`, )"
        },
        {
          "kind": "function",
          "name": "ensureCellVisible",
          "return": {
            "type": {
              "text": "void"
            }
          },
          "parameters": [
            {
              "name": "grid",
              "type": {
                "text": "InternalGrid"
              }
            },
            {
              "name": "options",
              "optional": true,
              "type": {
                "text": "EnsureCellVisibleOptions"
              }
            }
          ],
          "description": "Scroll the viewport (virtualized or static) so the focused cell's row is visible\nand apply visual focus styling / tabindex management."
        }
      ],
      "exports": [
        {
          "kind": "js",
          "name": "handleGridKeyDown",
          "declaration": {
            "name": "handleGridKeyDown",
            "module": "src/lib/core/internal/keyboard.ts"
          }
        },
        {
          "kind": "js",
          "name": "ensureCellVisible",
          "declaration": {
            "name": "ensureCellVisible",
            "module": "src/lib/core/internal/keyboard.ts"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/core/internal/loading.ts",
      "declarations": [
        {
          "kind": "function",
          "name": "createDefaultSpinner",
          "return": {
            "type": {
              "text": "HTMLElement"
            }
          },
          "parameters": [
            {
              "name": "size",
              "type": {
                "text": "'large' | 'small'"
              },
              "description": "'large' for grid overlay, 'small' for row/cell"
            }
          ],
          "description": "Create the default spinner element."
        },
        {
          "kind": "function",
          "name": "createLoadingContent",
          "return": {
            "type": {
              "text": "HTMLElement"
            }
          },
          "parameters": [
            {
              "name": "size",
              "type": {
                "text": "'large' | 'small'"
              },
              "description": "'large' for grid overlay, 'small' for row/cell"
            },
            {
              "name": "renderer",
              "optional": true,
              "type": {
                "text": "GridConfig['loadingRenderer']"
              },
              "description": "Optional custom loading renderer from config"
            }
          ],
          "description": "Create loading content using custom renderer or default spinner."
        },
        {
          "kind": "function",
          "name": "createLoadingOverlay",
          "return": {
            "type": {
              "text": "HTMLElement"
            }
          },
          "parameters": [
            {
              "name": "renderer",
              "optional": true,
              "type": {
                "text": "GridConfig['loadingRenderer']"
              },
              "description": "Optional custom loading renderer from config"
            }
          ],
          "description": "Create or update the loading overlay element."
        },
        {
          "kind": "function",
          "name": "showLoadingOverlay",
          "return": {
            "type": {
              "text": "void"
            }
          },
          "parameters": [
            {
              "name": "gridRoot",
              "type": {
                "text": "Element"
              },
              "description": "The .tbw-grid-root element"
            },
            {
              "name": "overlayEl",
              "type": {
                "text": "HTMLElement"
              },
              "description": "The overlay element (will be cached by caller)"
            }
          ],
          "description": "Show the loading overlay on the grid root element."
        },
        {
          "kind": "function",
          "name": "hideLoadingOverlay",
          "return": {
            "type": {
              "text": "void"
            }
          },
          "parameters": [
            {
              "name": "overlayEl",
              "type": {
                "text": "HTMLElement | undefined"
              },
              "description": "The overlay element to remove"
            }
          ],
          "description": "Hide the loading overlay."
        },
        {
          "kind": "function",
          "name": "setRowLoadingState",
          "return": {
            "type": {
              "text": "void"
            }
          },
          "parameters": [
            {
              "name": "rowEl",
              "type": {
                "text": "HTMLElement"
              },
              "description": "The row element"
            },
            {
              "name": "loading",
              "type": {
                "text": "boolean"
              },
              "description": "Whether the row is loading"
            }
          ],
          "description": "Update a row element's loading state."
        },
        {
          "kind": "function",
          "name": "setCellLoadingState",
          "return": {
            "type": {
              "text": "void"
            }
          },
          "parameters": [
            {
              "name": "cellEl",
              "type": {
                "text": "HTMLElement"
              },
              "description": "The cell element"
            },
            {
              "name": "loading",
              "type": {
                "text": "boolean"
              },
              "description": "Whether the cell is loading"
            }
          ],
          "description": "Update a cell element's loading state."
        },
        {
          "kind": "function",
          "name": "createLoadingState",
          "return": {
            "type": {
              "text": "LoadingState"
            }
          },
          "description": "Create initial loading state."
        },
        {
          "kind": "function",
          "name": "isRowLoading",
          "return": {
            "type": {
              "text": "boolean"
            }
          },
          "parameters": [
            {
              "name": "state",
              "type": {
                "text": "LoadingState"
              }
            },
            {
              "name": "rowId",
              "type": {
                "text": "string"
              }
            }
          ],
          "description": "Check if a row is in loading state."
        },
        {
          "kind": "function",
          "name": "isCellLoading",
          "return": {
            "type": {
              "text": "boolean"
            }
          },
          "parameters": [
            {
              "name": "state",
              "type": {
                "text": "LoadingState"
              }
            },
            {
              "name": "rowId",
              "type": {
                "text": "string"
              }
            },
            {
              "name": "field",
              "type": {
                "text": "string"
              }
            }
          ],
          "description": "Check if a cell is in loading state."
        },
        {
          "kind": "function",
          "name": "setRowLoading",
          "return": {
            "type": {
              "text": "boolean"
            }
          },
          "parameters": [
            {
              "name": "state",
              "type": {
                "text": "LoadingState"
              }
            },
            {
              "name": "rowId",
              "type": {
                "text": "string"
              }
            },
            {
              "name": "loading",
              "type": {
                "text": "boolean"
              }
            }
          ],
          "description": "Set row loading state, returns true if state changed."
        },
        {
          "kind": "function",
          "name": "setCellLoading",
          "return": {
            "type": {
              "text": "boolean"
            }
          },
          "parameters": [
            {
              "name": "state",
              "type": {
                "text": "LoadingState"
              }
            },
            {
              "name": "rowId",
              "type": {
                "text": "string"
              }
            },
            {
              "name": "field",
              "type": {
                "text": "string"
              }
            },
            {
              "name": "loading",
              "type": {
                "text": "boolean"
              }
            }
          ],
          "description": "Set cell loading state, returns true if state changed."
        },
        {
          "kind": "function",
          "name": "clearAllLoadingState",
          "return": {
            "type": {
              "text": "void"
            }
          },
          "parameters": [
            {
              "name": "state",
              "type": {
                "text": "LoadingState"
              }
            }
          ],
          "description": "Clear all loading states."
        }
      ],
      "exports": [
        {
          "kind": "js",
          "name": "createDefaultSpinner",
          "declaration": {
            "name": "createDefaultSpinner",
            "module": "src/lib/core/internal/loading.ts"
          }
        },
        {
          "kind": "js",
          "name": "createLoadingContent",
          "declaration": {
            "name": "createLoadingContent",
            "module": "src/lib/core/internal/loading.ts"
          }
        },
        {
          "kind": "js",
          "name": "createLoadingOverlay",
          "declaration": {
            "name": "createLoadingOverlay",
            "module": "src/lib/core/internal/loading.ts"
          }
        },
        {
          "kind": "js",
          "name": "showLoadingOverlay",
          "declaration": {
            "name": "showLoadingOverlay",
            "module": "src/lib/core/internal/loading.ts"
          }
        },
        {
          "kind": "js",
          "name": "hideLoadingOverlay",
          "declaration": {
            "name": "hideLoadingOverlay",
            "module": "src/lib/core/internal/loading.ts"
          }
        },
        {
          "kind": "js",
          "name": "setRowLoadingState",
          "declaration": {
            "name": "setRowLoadingState",
            "module": "src/lib/core/internal/loading.ts"
          }
        },
        {
          "kind": "js",
          "name": "setCellLoadingState",
          "declaration": {
            "name": "setCellLoadingState",
            "module": "src/lib/core/internal/loading.ts"
          }
        },
        {
          "kind": "js",
          "name": "createLoadingState",
          "declaration": {
            "name": "createLoadingState",
            "module": "src/lib/core/internal/loading.ts"
          }
        },
        {
          "kind": "js",
          "name": "isRowLoading",
          "declaration": {
            "name": "isRowLoading",
            "module": "src/lib/core/internal/loading.ts"
          }
        },
        {
          "kind": "js",
          "name": "isCellLoading",
          "declaration": {
            "name": "isCellLoading",
            "module": "src/lib/core/internal/loading.ts"
          }
        },
        {
          "kind": "js",
          "name": "setRowLoading",
          "declaration": {
            "name": "setRowLoading",
            "module": "src/lib/core/internal/loading.ts"
          }
        },
        {
          "kind": "js",
          "name": "setCellLoading",
          "declaration": {
            "name": "setCellLoading",
            "module": "src/lib/core/internal/loading.ts"
          }
        },
        {
          "kind": "js",
          "name": "clearAllLoadingState",
          "declaration": {
            "name": "clearAllLoadingState",
            "module": "src/lib/core/internal/loading.ts"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/core/internal/render-scheduler.spec.ts",
      "declarations": [],
      "exports": []
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/core/internal/render-scheduler.ts",
      "declarations": [
        {
          "kind": "class",
          "description": "Centralized render scheduler that batches all grid rendering into single RAF.",
          "name": "RenderScheduler",
          "members": [
            {
              "kind": "field",
              "name": "#callbacks",
              "privacy": "private",
              "type": {
                "text": "RenderCallbacks"
              },
              "readonly": true,
              "default": "callbacks"
            },
            {
              "kind": "field",
              "name": "#pendingPhase",
              "privacy": "private",
              "type": {
                "text": "RenderPhase | 0"
              },
              "default": "0",
              "description": "Current pending phase (0 = none pending)"
            },
            {
              "kind": "field",
              "name": "#rafHandle",
              "privacy": "private",
              "type": {
                "text": "number"
              },
              "default": "0",
              "description": "RAF handle for cancellation"
            },
            {
              "kind": "field",
              "name": "#readyPromise",
              "privacy": "private",
              "type": {
                "text": "Promise<void> | null"
              },
              "default": "null",
              "description": "Promise that resolves when current render completes"
            },
            {
              "kind": "field",
              "name": "#readyResolve",
              "privacy": "private",
              "type": {
                "text": "(() => void) | null"
              },
              "default": "null"
            },
            {
              "kind": "field",
              "name": "#initialReadyResolver",
              "privacy": "private",
              "type": {
                "text": "(() => void) | null"
              },
              "default": "null",
              "description": "Initial ready resolver (for component's initial ready() promise)"
            },
            {
              "kind": "field",
              "name": "#initialReadyFired",
              "privacy": "private",
              "type": {
                "text": "boolean"
              },
              "default": "false"
            },
            {
              "kind": "method",
              "name": "requestPhase",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "phase",
                  "type": {
                    "text": "RenderPhase"
                  },
                  "description": "The render phase to execute"
                },
                {
                  "name": "_source",
                  "type": {
                    "text": "string"
                  },
                  "description": "Debug identifier for what triggered this request (unused, kept for API compatibility)"
                }
              ],
              "description": "Request a render at the specified phase.\r\nMultiple requests are batched - the highest phase wins."
            },
            {
              "kind": "method",
              "name": "whenReady",
              "return": {
                "type": {
                  "text": "Promise<void>"
                }
              },
              "description": "Returns a promise that resolves when the current render cycle completes.\r\nIf no render is pending, returns an already-resolved promise."
            },
            {
              "kind": "method",
              "name": "setInitialReadyResolver",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "resolver",
                  "type": {
                    "text": "() => void"
                  }
                }
              ],
              "description": "Set the initial ready resolver (called once on first render).\r\nThis connects to the grid's `ready()` promise."
            },
            {
              "kind": "method",
              "name": "cancel",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "description": "Cancel any pending render.\r\nUseful for cleanup when component disconnects."
            },
            {
              "kind": "field",
              "name": "isPending",
              "type": {
                "text": "boolean"
              },
              "description": "Check if a render is currently pending.",
              "readonly": true
            },
            {
              "kind": "field",
              "name": "pendingPhase",
              "type": {
                "text": "RenderPhase | 0"
              },
              "description": "Get the current pending phase (0 if none).",
              "readonly": true
            },
            {
              "kind": "method",
              "name": "#ensureReadyPromise",
              "privacy": "private",
              "return": {
                "type": {
                  "text": "void"
                }
              }
            },
            {
              "kind": "method",
              "name": "#flush",
              "privacy": "private",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "description": "Execute all pending render work in phase order.\r\nThis is the single RAF callback that does all rendering."
            }
          ]
        }
      ],
      "exports": [
        {
          "kind": "js",
          "name": "RenderScheduler",
          "declaration": {
            "name": "RenderScheduler",
            "module": "src/lib/core/internal/render-scheduler.ts"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/core/internal/resize.spec.ts",
      "declarations": [],
      "exports": []
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/core/internal/resize.ts",
      "declarations": [
        {
          "kind": "function",
          "name": "createResizeController",
          "return": {
            "type": {
              "text": "ResizeController"
            }
          },
          "parameters": [
            {
              "name": "grid",
              "type": {
                "text": "InternalGrid"
              }
            }
          ]
        }
      ],
      "exports": [
        {
          "kind": "js",
          "name": "createResizeController",
          "declaration": {
            "name": "createResizeController",
            "module": "src/lib/core/internal/resize.ts"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/core/internal/row-animation.spec.ts",
      "declarations": [],
      "exports": []
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/core/internal/row-animation.ts",
      "declarations": [
        {
          "kind": "function",
          "name": "animateRowElement",
          "return": {
            "type": {
              "text": "void"
            }
          },
          "parameters": [
            {
              "name": "rowEl",
              "type": {
                "text": "HTMLElement"
              },
              "description": "The row DOM element to animate"
            },
            {
              "name": "animationType",
              "type": {
                "text": "RowAnimationType"
              },
              "description": "The type of animation to apply"
            },
            {
              "name": "onComplete",
              "optional": true,
              "type": {
                "text": "() => void"
              },
              "description": "Optional callback when animation completes"
            }
          ],
          "description": "Animate a single row element."
        },
        {
          "kind": "function",
          "name": "animateRow",
          "return": {
            "type": {
              "text": ""
            }
          },
          "parameters": [
            {
              "name": "grid",
              "type": {
                "text": "InternalGrid<T>"
              },
              "description": "The grid instance"
            },
            {
              "name": "rowIndex",
              "type": {
                "text": "number"
              },
              "description": "The data row index (not DOM position)"
            },
            {
              "name": "animationType",
              "type": {
                "text": "RowAnimationType"
              },
              "description": "The type of animation to apply"
            }
          ],
          "description": "Animate a row by its data index."
        },
        {
          "kind": "function",
          "name": "animateRows",
          "return": {
            "type": {
              "text": ""
            }
          },
          "parameters": [
            {
              "name": "grid",
              "type": {
                "text": "InternalGrid<T>"
              },
              "description": "The grid instance"
            },
            {
              "name": "rowIndices",
              "type": {
                "text": "number[]"
              },
              "description": "Array of data row indices to animate"
            },
            {
              "name": "animationType",
              "type": {
                "text": "RowAnimationType"
              },
              "description": "The type of animation to apply"
            }
          ],
          "description": "Animate multiple rows by their data indices."
        },
        {
          "kind": "function",
          "name": "animateRowById",
          "return": {
            "type": {
              "text": ""
            }
          },
          "parameters": [
            {
              "name": "grid",
              "type": {
                "text": "InternalGrid<T>"
              },
              "description": "The grid instance"
            },
            {
              "name": "rowId",
              "type": {
                "text": "string"
              },
              "description": "The row ID (requires getRowId to be configured)"
            },
            {
              "name": "animationType",
              "type": {
                "text": "RowAnimationType"
              },
              "description": "The type of animation to apply"
            }
          ],
          "description": "Animate a row by its ID."
        }
      ],
      "exports": [
        {
          "kind": "js",
          "name": "animateRowElement",
          "declaration": {
            "name": "animateRowElement",
            "module": "src/lib/core/internal/row-animation.ts"
          }
        },
        {
          "kind": "js",
          "name": "animateRow",
          "declaration": {
            "name": "animateRow",
            "module": "src/lib/core/internal/row-animation.ts"
          }
        },
        {
          "kind": "js",
          "name": "animateRows",
          "declaration": {
            "name": "animateRows",
            "module": "src/lib/core/internal/row-animation.ts"
          }
        },
        {
          "kind": "js",
          "name": "animateRowById",
          "declaration": {
            "name": "animateRowById",
            "module": "src/lib/core/internal/row-animation.ts"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/core/internal/rows.spec.ts",
      "declarations": [],
      "exports": []
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/core/internal/rows.ts",
      "declarations": [
        {
          "kind": "function",
          "name": "resolveRenderer",
          "return": {
            "type": {
              "text": "ColumnViewRenderer<TRow, unknown> | undefined"
            }
          },
          "parameters": [
            {
              "name": "grid",
              "type": {
                "text": "InternalGrid<TRow>"
              }
            },
            {
              "name": "col",
              "type": {
                "text": "ColumnInternal<TRow>"
              }
            }
          ],
          "description": "Resolves the renderer for a column using the priority chain:\r\n1. Column-level (`column.renderer` / `column.viewRenderer`)\r\n   NOTE: typeDefaults are applied to columns at config merge time,\r\n   so columns with matching types already have their renderer set.\r\n2. App-level (framework adapter's `getTypeDefault`)\r\n3. Returns undefined (caller uses built-in or fallback)"
        },
        {
          "kind": "function",
          "name": "resolveFormat",
          "return": {
            "type": {
              "text": "((value: unknown, row: TRow) => string) | undefined"
            }
          },
          "parameters": [
            {
              "name": "grid",
              "type": {
                "text": "InternalGrid<TRow>"
              }
            },
            {
              "name": "col",
              "type": {
                "text": "ColumnInternal<TRow>"
              }
            }
          ],
          "description": "Resolves the format function for a column using the priority chain:\r\n1. Column-level (`column.format`)\r\n   NOTE: typeDefaults are applied to columns at config merge time,\r\n   so columns with matching types already have their format set.\r\n2. App-level (framework adapter's `getTypeDefault`)\r\n3. Returns undefined (caller uses built-in or fallback)"
        },
        {
          "kind": "variable",
          "name": "FOCUSABLE_EDITOR_SELECTOR",
          "type": {
            "text": "string"
          },
          "default": "'input,select,textarea,[contenteditable=\"true\"],[contenteditable=\"\"],[tabindex]:not([tabindex=\"-1\"])'",
          "description": "CSS selector for focusable editor elements within a cell.\r\nUsed by EditingPlugin and keyboard navigation."
        },
        {
          "kind": "function",
          "name": "createRowFromTemplate",
          "return": {
            "type": {
              "text": "HTMLDivElement"
            }
          },
          "description": "Create a row element from template. Significantly faster than createElement + setAttribute."
        },
        {
          "kind": "function",
          "name": "invalidateCellCache",
          "return": {
            "type": {
              "text": "void"
            }
          },
          "parameters": [
            {
              "name": "grid",
              "type": {
                "text": "InternalGrid"
              }
            }
          ],
          "description": "Invalidate the cell cache (call when rows or columns change)."
        },
        {
          "kind": "function",
          "name": "renderVisibleRows",
          "return": {
            "type": {
              "text": "void"
            }
          },
          "parameters": [
            {
              "name": "grid",
              "type": {
                "text": "InternalGrid"
              }
            },
            {
              "name": "start",
              "type": {
                "text": "number"
              }
            },
            {
              "name": "end",
              "type": {
                "text": "number"
              }
            },
            {
              "name": "epoch",
              "optional": true,
              "type": {
                "text": "number"
              }
            },
            {
              "name": "renderRowHook",
              "optional": true,
              "type": {
                "text": "RenderRowHook"
              },
              "description": "Optional callback that plugins can use to render custom rows (e.g., group rows).\r\n  If it returns true, default rendering is skipped for that row."
            }
          ],
          "description": "Render / patch the visible window of rows [start, end) using a recyclable DOM pool.\r\nNewly required row elements are created and appended; excess are detached.\r\nUses an epoch counter to force full row rebuilds when structural changes (like columns) occur."
        },
        {
          "kind": "variable",
          "name": "value",
          "default": "rowData[col.field]"
        },
        {
          "kind": "function",
          "name": "renderInlineRow",
          "return": {
            "type": {
              "text": "void"
            }
          },
          "parameters": [
            {
              "name": "grid",
              "type": {
                "text": "InternalGrid"
              }
            },
            {
              "name": "rowEl",
              "type": {
                "text": "HTMLElement"
              }
            },
            {
              "name": "rowData",
              "type": {
                "text": "any"
              }
            },
            {
              "name": "rowIndex",
              "type": {
                "text": "number"
              }
            }
          ],
          "description": "Full reconstruction of a row's set of cells including templated, external view, and formatted content.\r\nAttaches event handlers for editing and accessibility per cell."
        },
        {
          "kind": "function",
          "name": "handleRowClick",
          "return": {
            "type": {
              "text": "void"
            }
          },
          "parameters": [
            {
              "name": "grid",
              "type": {
                "text": "InternalGrid"
              }
            },
            {
              "name": "e",
              "type": {
                "text": "MouseEvent"
              }
            },
            {
              "name": "rowEl",
              "type": {
                "text": "HTMLElement"
              }
            }
          ],
          "description": "Handle click / double click interaction to focus cells.\r\nEdit triggering is handled by EditingPlugin via onCellClick hook."
        }
      ],
      "exports": [
        {
          "kind": "js",
          "name": "resolveRenderer",
          "declaration": {
            "name": "resolveRenderer",
            "module": "src/lib/core/internal/rows.ts"
          }
        },
        {
          "kind": "js",
          "name": "resolveFormat",
          "declaration": {
            "name": "resolveFormat",
            "module": "src/lib/core/internal/rows.ts"
          }
        },
        {
          "kind": "js",
          "name": "FOCUSABLE_EDITOR_SELECTOR",
          "declaration": {
            "name": "FOCUSABLE_EDITOR_SELECTOR",
            "module": "src/lib/core/internal/rows.ts"
          }
        },
        {
          "kind": "js",
          "name": "createRowFromTemplate",
          "declaration": {
            "name": "createRowFromTemplate",
            "module": "src/lib/core/internal/rows.ts"
          }
        },
        {
          "kind": "js",
          "name": "invalidateCellCache",
          "declaration": {
            "name": "invalidateCellCache",
            "module": "src/lib/core/internal/rows.ts"
          }
        },
        {
          "kind": "js",
          "name": "renderVisibleRows",
          "declaration": {
            "name": "renderVisibleRows",
            "module": "src/lib/core/internal/rows.ts"
          }
        },
        {
          "kind": "js",
          "name": "renderInlineRow",
          "declaration": {
            "name": "renderInlineRow",
            "module": "src/lib/core/internal/rows.ts"
          }
        },
        {
          "kind": "js",
          "name": "handleRowClick",
          "declaration": {
            "name": "handleRowClick",
            "module": "src/lib/core/internal/rows.ts"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/core/internal/sanitize.spec.ts",
      "declarations": [],
      "exports": []
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/core/internal/sanitize.ts",
      "declarations": [
        {
          "kind": "function",
          "name": "escapeHtml",
          "return": {
            "type": {
              "text": ""
            }
          },
          "parameters": [
            {
              "name": "text",
              "type": {
                "text": "string"
              },
              "description": "Plain text string to escape"
            }
          ],
          "description": "Escape a plain text string for safe insertion into HTML.\r\nConverts special HTML characters to their entity equivalents."
        },
        {
          "kind": "function",
          "name": "sanitizeHTML",
          "return": {
            "type": {
              "text": ""
            }
          },
          "parameters": [
            {
              "name": "html",
              "type": {
                "text": "string"
              },
              "description": "Raw HTML string to sanitize"
            }
          ],
          "description": "Sanitize an HTML string by removing dangerous tags and attributes.\r\nThis is a defense-in-depth measure for content rendered via innerHTML."
        },
        {
          "kind": "function",
          "name": "evalTemplateString",
          "return": {
            "type": {
              "text": "string"
            }
          },
          "parameters": [
            {
              "name": "raw",
              "type": {
                "text": "string"
              }
            },
            {
              "name": "ctx",
              "type": {
                "text": "EvalContext"
              }
            }
          ]
        },
        {
          "kind": "function",
          "name": "finalCellScrub",
          "return": {
            "type": {
              "text": "void"
            }
          },
          "parameters": [
            {
              "name": "cell",
              "type": {
                "text": "HTMLElement"
              }
            }
          ]
        },
        {
          "kind": "function",
          "name": "compileTemplate",
          "parameters": [
            {
              "name": "raw",
              "type": {
                "text": "string"
              }
            }
          ]
        }
      ],
      "exports": [
        {
          "kind": "js",
          "name": "escapeHtml",
          "declaration": {
            "name": "escapeHtml",
            "module": "src/lib/core/internal/sanitize.ts"
          }
        },
        {
          "kind": "js",
          "name": "sanitizeHTML",
          "declaration": {
            "name": "sanitizeHTML",
            "module": "src/lib/core/internal/sanitize.ts"
          }
        },
        {
          "kind": "js",
          "name": "evalTemplateString",
          "declaration": {
            "name": "evalTemplateString",
            "module": "src/lib/core/internal/sanitize.ts"
          }
        },
        {
          "kind": "js",
          "name": "finalCellScrub",
          "declaration": {
            "name": "finalCellScrub",
            "module": "src/lib/core/internal/sanitize.ts"
          }
        },
        {
          "kind": "js",
          "name": "compileTemplate",
          "declaration": {
            "name": "compileTemplate",
            "module": "src/lib/core/internal/sanitize.ts"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/core/internal/shell.spec.ts",
      "declarations": [],
      "exports": []
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/core/internal/shell.ts",
      "declarations": [
        {
          "kind": "function",
          "name": "createShellRuntimeState",
          "return": {
            "type": {
              "text": "ShellRuntimeState"
            }
          },
          "description": "Create initial shell runtime state."
        },
        {
          "kind": "function",
          "name": "createShellState",
          "return": {
            "type": {
              "text": "ShellState"
            }
          },
          "description": "Create initial shell state."
        },
        {
          "kind": "function",
          "name": "shouldRenderShellHeader",
          "return": {
            "type": {
              "text": "boolean"
            }
          },
          "parameters": [
            {
              "name": "config",
              "type": {
                "text": "ShellConfig | undefined"
              }
            }
          ],
          "description": "Determine if shell header should be rendered.\r\nReads only from effectiveConfig.shell (single source of truth)."
        },
        {
          "kind": "function",
          "name": "renderShellHeader",
          "return": {
            "type": {
              "text": "string"
            }
          },
          "parameters": [
            {
              "name": "config",
              "type": {
                "text": "ShellConfig | undefined"
              }
            },
            {
              "name": "state",
              "type": {
                "text": "ShellState"
              }
            },
            {
              "name": "toolPanelIcon",
              "default": "'☰'",
              "type": {
                "text": "IconValue"
              },
              "description": "Icon for the tool panel toggle (from grid icon config)"
            }
          ],
          "description": "Render the shell header HTML.\r\n\r\nToolbar contents come from two sources:\r\n1. Light DOM slot (users provide their own HTML in <tbw-grid-tool-buttons>)\r\n2. Config/API with render function (programmatic insertion)\r\n\r\nUsers have full control over toolbar HTML, styling, and behavior.\r\nThe only button the grid creates is the tool panel toggle."
        },
        {
          "kind": "variable",
          "name": "title"
        },
        {
          "kind": "function",
          "name": "renderShellBody",
          "return": {
            "type": {
              "text": "string"
            }
          },
          "parameters": [
            {
              "name": "config",
              "type": {
                "text": "ShellConfig | undefined"
              }
            },
            {
              "name": "state",
              "type": {
                "text": "ShellState"
              }
            },
            {
              "name": "gridContentHtml",
              "type": {
                "text": "string"
              }
            },
            {
              "name": "icons",
              "optional": true,
              "type": {
                "text": "{ expand?: IconValue; collapse?: IconValue }"
              },
              "description": "Optional icons for expand/collapse chevrons (from grid config)"
            }
          ],
          "description": "Render the shell body wrapper HTML (contains grid content + accordion-style tool panel)."
        },
        {
          "kind": "variable",
          "name": "expandIcon"
        },
        {
          "kind": "variable",
          "name": "collapseIcon"
        },
        {
          "kind": "function",
          "name": "parseLightDomShell",
          "return": {
            "type": {
              "text": "void"
            }
          },
          "parameters": [
            {
              "name": "host",
              "type": {
                "text": "HTMLElement"
              }
            },
            {
              "name": "state",
              "type": {
                "text": "ShellState"
              }
            }
          ],
          "description": "Parse light DOM shell elements (tbw-grid-header, etc.).\r\nSafe to call multiple times - will only parse once when elements are available."
        },
        {
          "kind": "function",
          "name": "parseLightDomToolButtons",
          "return": {
            "type": {
              "text": "void"
            }
          },
          "parameters": [
            {
              "name": "host",
              "type": {
                "text": "HTMLElement"
              },
              "description": "The grid host element"
            },
            {
              "name": "state",
              "type": {
                "text": "ShellState"
              },
              "description": "Shell state to update"
            },
            {
              "name": "rendererFactory",
              "optional": true,
              "type": {
                "text": "ToolbarContentRendererFactory"
              },
              "description": "Optional factory for creating renderers (used by framework adapters)"
            }
          ],
          "description": "Parse toolbar buttons container element (<tbw-grid-tool-buttons>).\r\nThis is a content container - we don't parse individual children.\r\nThe entire container content is registered as a single toolbar content entry.\r\n\r\nExample:\r\n```html\r\n<tbw-grid>\r\n  <tbw-grid-tool-buttons>\r\n    <button>My button</button>\r\n    <button>My other button</button>\r\n  </tbw-grid-tool-buttons>\r\n</tbw-grid>\r\n```\r\n\r\nThe container's children are moved to the toolbar area during render.\r\nWe treat this as opaque content - users control what goes inside."
        },
        {
          "kind": "variable",
          "name": "id",
          "type": {
            "text": "string"
          },
          "default": "'light-dom-toolbar-content'"
        },
        {
          "kind": "function",
          "name": "parseLightDomToolPanels",
          "return": {
            "type": {
              "text": "void"
            }
          },
          "parameters": [
            {
              "name": "host",
              "type": {
                "text": "HTMLElement"
              },
              "description": "The grid host element"
            },
            {
              "name": "state",
              "type": {
                "text": "ShellState"
              },
              "description": "Shell state to update"
            },
            {
              "name": "rendererFactory",
              "optional": true,
              "type": {
                "text": "ToolPanelRendererFactory"
              },
              "description": "Optional factory for creating renderers (used by framework adapters)"
            }
          ],
          "description": "Parse light DOM tool panel elements (<tbw-grid-tool-panel>).\r\nThese can appear as direct children of <tbw-grid> for declarative tool panel configuration.\r\n\r\nAttributes:\r\n- `id` (required): Unique panel identifier\r\n- `title` (required): Panel title shown in accordion header\r\n- `icon`: Icon for accordion section header (emoji or text)\r\n- `tooltip`: Tooltip for accordion section header\r\n- `order`: Panel order priority (lower = first, default: 100)\r\n\r\nFor vanilla JS, the element's innerHTML is used as the panel content.\r\nFor framework adapters, the adapter can provide a custom renderer factory."
        },
        {
          "kind": "variable",
          "name": "icon"
        },
        {
          "kind": "variable",
          "name": "tooltip"
        },
        {
          "kind": "variable",
          "name": "order"
        },
        {
          "kind": "variable",
          "name": "render",
          "type": {
            "text": "(container: HTMLElement) => void | (() => void)"
          }
        },
        {
          "kind": "function",
          "name": "setupShellEventListeners",
          "return": {
            "type": {
              "text": "void"
            }
          },
          "parameters": [
            {
              "name": "renderRoot",
              "type": {
                "text": "Element"
              }
            },
            {
              "name": "config",
              "type": {
                "text": "ShellConfig | undefined"
              }
            },
            {
              "name": "state",
              "type": {
                "text": "ShellState"
              }
            },
            {
              "name": "callbacks",
              "type": {
                "text": "{\r\n    onPanelToggle: () => void;\r\n    onSectionToggle: (sectionId: string) => void;\r\n  }"
              }
            }
          ],
          "description": "Set up event listeners for shell toolbar buttons and accordion."
        },
        {
          "kind": "function",
          "name": "setupToolPanelResize",
          "return": {
            "type": {
              "text": "() => void"
            }
          },
          "parameters": [
            {
              "name": "renderRoot",
              "type": {
                "text": "Element"
              }
            },
            {
              "name": "config",
              "type": {
                "text": "ShellConfig | undefined"
              }
            },
            {
              "name": "onResize",
              "type": {
                "text": "(width: number) => void"
              }
            }
          ],
          "description": "Set up resize handle for tool panel.\r\nReturns a cleanup function to remove event listeners."
        },
        {
          "kind": "function",
          "name": "renderCustomToolbarContents",
          "return": {
            "type": {
              "text": "void"
            }
          },
          "parameters": [
            {
              "name": "renderRoot",
              "type": {
                "text": "Element"
              }
            },
            {
              "name": "config",
              "type": {
                "text": "ShellConfig | undefined"
              }
            },
            {
              "name": "state",
              "type": {
                "text": "ShellState"
              }
            }
          ],
          "description": "Render toolbar content (render functions) into toolbar slots.\r\nAll contents (config + API + light DOM) are now unified."
        },
        {
          "kind": "function",
          "name": "renderHeaderContent",
          "return": {
            "type": {
              "text": "void"
            }
          },
          "parameters": [
            {
              "name": "renderRoot",
              "type": {
                "text": "Element"
              }
            },
            {
              "name": "state",
              "type": {
                "text": "ShellState"
              }
            }
          ],
          "description": "Render header content from plugins into the shell content area.\r\nAlso moves light DOM header content to the placeholder (once)."
        },
        {
          "kind": "function",
          "name": "renderPanelContent",
          "return": {
            "type": {
              "text": "void"
            }
          },
          "parameters": [
            {
              "name": "renderRoot",
              "type": {
                "text": "Element"
              }
            },
            {
              "name": "state",
              "type": {
                "text": "ShellState"
              }
            },
            {
              "name": "icons",
              "optional": true,
              "type": {
                "text": "{ expand?: IconValue; collapse?: IconValue }"
              },
              "description": "Optional icons for expand/collapse chevrons (from grid config)"
            }
          ],
          "description": "Render content for expanded accordion sections."
        },
        {
          "kind": "function",
          "name": "updateToolbarActiveStates",
          "return": {
            "type": {
              "text": "void"
            }
          },
          "parameters": [
            {
              "name": "renderRoot",
              "type": {
                "text": "Element"
              }
            },
            {
              "name": "state",
              "type": {
                "text": "ShellState"
              }
            }
          ],
          "description": "Update toolbar button active states."
        },
        {
          "kind": "function",
          "name": "updatePanelState",
          "return": {
            "type": {
              "text": "void"
            }
          },
          "parameters": [
            {
              "name": "renderRoot",
              "type": {
                "text": "Element"
              }
            },
            {
              "name": "state",
              "type": {
                "text": "ShellState"
              }
            }
          ],
          "description": "Update tool panel open/close state."
        },
        {
          "kind": "function",
          "name": "cleanupShellState",
          "return": {
            "type": {
              "text": "void"
            }
          },
          "parameters": [
            {
              "name": "state",
              "type": {
                "text": "ShellState"
              }
            }
          ],
          "description": "Cleanup all shell state when grid disconnects."
        },
        {
          "kind": "function",
          "name": "createShellController",
          "return": {
            "type": {
              "text": "ShellController"
            }
          },
          "parameters": [
            {
              "name": "state",
              "type": {
                "text": "ShellState"
              }
            },
            {
              "name": "callbacks",
              "type": {
                "text": "ShellControllerCallbacks"
              }
            }
          ],
          "description": "Create a ShellController instance.\r\nThe controller encapsulates all tool panel orchestration logic."
        },
        {
          "kind": "variable",
          "name": "GRID_CONTENT_HTML",
          "default": "` <div class=\"tbw-scroll-area\"> <div class=\"rows-body-wrapper\"> <div class=\"rows-body\" role=\"grid\"> <div class=\"header\" role=\"rowgroup\"> <div class=\"header-row\" role=\"row\" part=\"header-row\"></div> </div> <div class=\"rows-container\" role=\"presentation\"> <div class=\"rows-viewport\" role=\"presentation\"> <div class=\"rows\"></div> </div> </div> </div> </div> </div> <div class=\"faux-vscroll\"> <div class=\"faux-vscroll-spacer\"></div> </div> `",
          "description": "Core grid content HTML template.\r\nUses faux scrollbar pattern for smooth virtualized scrolling."
        },
        {
          "kind": "function",
          "name": "buildGridDOMIntoElement",
          "return": {
            "type": {
              "text": ""
            }
          },
          "parameters": [
            {
              "name": "renderRoot",
              "type": {
                "text": "Element"
              },
              "description": "The element to render into (will be cleared)"
            },
            {
              "name": "shellConfig",
              "type": {
                "text": "ShellConfig | undefined"
              },
              "description": "Shell configuration"
            },
            {
              "name": "runtimeState",
              "type": {
                "text": "{ isPanelOpen: boolean; expandedSections: Set<string> }"
              }
            },
            {
              "name": "icons",
              "optional": true,
              "type": {
                "text": "{ toolPanel?: IconValue; expand?: IconValue; collapse?: IconValue }"
              },
              "description": "Optional icons"
            },
            {
              "description": "Shell state",
              "name": "state"
            }
          ],
          "description": "Build the complete grid DOM structure using direct DOM construction.\r\nThis is 2-3x faster than innerHTML for initial render."
        },
        {
          "kind": "variable",
          "name": "toolPanelIcon"
        }
      ],
      "exports": [
        {
          "kind": "js",
          "name": "createShellRuntimeState",
          "declaration": {
            "name": "createShellRuntimeState",
            "module": "src/lib/core/internal/shell.ts"
          }
        },
        {
          "kind": "js",
          "name": "createShellState",
          "declaration": {
            "name": "createShellState",
            "module": "src/lib/core/internal/shell.ts"
          }
        },
        {
          "kind": "js",
          "name": "shouldRenderShellHeader",
          "declaration": {
            "name": "shouldRenderShellHeader",
            "module": "src/lib/core/internal/shell.ts"
          }
        },
        {
          "kind": "js",
          "name": "renderShellHeader",
          "declaration": {
            "name": "renderShellHeader",
            "module": "src/lib/core/internal/shell.ts"
          }
        },
        {
          "kind": "js",
          "name": "renderShellBody",
          "declaration": {
            "name": "renderShellBody",
            "module": "src/lib/core/internal/shell.ts"
          }
        },
        {
          "kind": "js",
          "name": "parseLightDomShell",
          "declaration": {
            "name": "parseLightDomShell",
            "module": "src/lib/core/internal/shell.ts"
          }
        },
        {
          "kind": "js",
          "name": "parseLightDomToolButtons",
          "declaration": {
            "name": "parseLightDomToolButtons",
            "module": "src/lib/core/internal/shell.ts"
          }
        },
        {
          "kind": "js",
          "name": "parseLightDomToolPanels",
          "declaration": {
            "name": "parseLightDomToolPanels",
            "module": "src/lib/core/internal/shell.ts"
          }
        },
        {
          "kind": "js",
          "name": "setupShellEventListeners",
          "declaration": {
            "name": "setupShellEventListeners",
            "module": "src/lib/core/internal/shell.ts"
          }
        },
        {
          "kind": "js",
          "name": "setupToolPanelResize",
          "declaration": {
            "name": "setupToolPanelResize",
            "module": "src/lib/core/internal/shell.ts"
          }
        },
        {
          "kind": "js",
          "name": "renderCustomToolbarContents",
          "declaration": {
            "name": "renderCustomToolbarContents",
            "module": "src/lib/core/internal/shell.ts"
          }
        },
        {
          "kind": "js",
          "name": "renderHeaderContent",
          "declaration": {
            "name": "renderHeaderContent",
            "module": "src/lib/core/internal/shell.ts"
          }
        },
        {
          "kind": "js",
          "name": "renderPanelContent",
          "declaration": {
            "name": "renderPanelContent",
            "module": "src/lib/core/internal/shell.ts"
          }
        },
        {
          "kind": "js",
          "name": "updateToolbarActiveStates",
          "declaration": {
            "name": "updateToolbarActiveStates",
            "module": "src/lib/core/internal/shell.ts"
          }
        },
        {
          "kind": "js",
          "name": "updatePanelState",
          "declaration": {
            "name": "updatePanelState",
            "module": "src/lib/core/internal/shell.ts"
          }
        },
        {
          "kind": "js",
          "name": "cleanupShellState",
          "declaration": {
            "name": "cleanupShellState",
            "module": "src/lib/core/internal/shell.ts"
          }
        },
        {
          "kind": "js",
          "name": "createShellController",
          "declaration": {
            "name": "createShellController",
            "module": "src/lib/core/internal/shell.ts"
          }
        },
        {
          "kind": "js",
          "name": "GRID_CONTENT_HTML",
          "declaration": {
            "name": "GRID_CONTENT_HTML",
            "module": "src/lib/core/internal/shell.ts"
          }
        },
        {
          "kind": "js",
          "name": "buildGridDOMIntoElement",
          "declaration": {
            "name": "buildGridDOMIntoElement",
            "module": "src/lib/core/internal/shell.ts"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/core/internal/sorting.spec.ts",
      "declarations": [],
      "exports": []
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/core/internal/sorting.ts",
      "declarations": [
        {
          "kind": "function",
          "name": "defaultComparator",
          "return": {
            "type": {
              "text": "number"
            }
          },
          "parameters": [
            {
              "name": "a",
              "type": {
                "text": "unknown"
              }
            },
            {
              "name": "b",
              "type": {
                "text": "unknown"
              }
            }
          ],
          "description": "Default comparator for sorting values.\r\nHandles nulls (pushed to end), numbers, and string fallback."
        },
        {
          "kind": "function",
          "name": "builtInSort",
          "return": {
            "type": {
              "text": "T[]"
            }
          },
          "parameters": [
            {
              "name": "rows",
              "type": {
                "text": "T[]"
              }
            },
            {
              "name": "sortState",
              "type": {
                "text": "SortState"
              }
            },
            {
              "name": "columns",
              "type": {
                "text": "ColumnConfig<T>[]"
              }
            }
          ],
          "description": "Built-in sort implementation using column comparator or default.\r\nThis is the default sortHandler when none is configured."
        },
        {
          "kind": "function",
          "name": "toggleSort",
          "return": {
            "type": {
              "text": "void"
            }
          },
          "parameters": [
            {
              "name": "grid",
              "type": {
                "text": "InternalGrid"
              }
            },
            {
              "name": "col",
              "type": {
                "text": "ColumnConfig<any>"
              }
            }
          ],
          "description": "Cycle sort state for a column: none -> ascending -> descending -> none.\r\nRestores original row order when clearing sort."
        },
        {
          "kind": "function",
          "name": "applySort",
          "return": {
            "type": {
              "text": "void"
            }
          },
          "parameters": [
            {
              "name": "grid",
              "type": {
                "text": "InternalGrid"
              }
            },
            {
              "name": "col",
              "type": {
                "text": "ColumnConfig<any>"
              }
            },
            {
              "name": "dir",
              "type": {
                "text": "1 | -1"
              }
            }
          ],
          "description": "Apply a concrete sort direction to rows.\r\n\r\nUses custom sortHandler from gridConfig if provided, otherwise uses built-in sorting.\r\nSupports both sync and async handlers (for server-side sorting)."
        }
      ],
      "exports": [
        {
          "kind": "js",
          "name": "defaultComparator",
          "declaration": {
            "name": "defaultComparator",
            "module": "src/lib/core/internal/sorting.ts"
          }
        },
        {
          "kind": "js",
          "name": "builtInSort",
          "declaration": {
            "name": "builtInSort",
            "module": "src/lib/core/internal/sorting.ts"
          }
        },
        {
          "kind": "js",
          "name": "toggleSort",
          "declaration": {
            "name": "toggleSort",
            "module": "src/lib/core/internal/sorting.ts"
          }
        },
        {
          "kind": "js",
          "name": "applySort",
          "declaration": {
            "name": "applySort",
            "module": "src/lib/core/internal/sorting.ts"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/core/internal/style-injector.ts",
      "declarations": [
        {
          "kind": "function",
          "name": "hasBaseStyles",
          "return": {
            "type": {
              "text": "boolean"
            }
          },
          "description": "Check if base styles have already been injected."
        },
        {
          "kind": "function",
          "name": "setBaseStyles",
          "return": {
            "type": {
              "text": "void"
            }
          },
          "parameters": [
            {
              "name": "css",
              "type": {
                "text": "string"
              }
            }
          ],
          "description": "Set base styles directly (for Vite builds with ?inline import)."
        },
        {
          "kind": "function",
          "name": "addPluginStyles",
          "return": {
            "type": {
              "text": "boolean"
            }
          },
          "parameters": [
            {
              "name": "pluginStyles",
              "type": {
                "text": "Array<{ name: string; styles: string }>"
              }
            }
          ],
          "description": "Add plugin styles to the accumulated plugin styles map.\r\nReturns true if any new styles were added."
        },
        {
          "kind": "function",
          "name": "extractGridCssFromDocument",
          "return": {
            "type": {
              "text": "string | null"
            }
          },
          "description": "Extract grid CSS from document.styleSheets (Angular fallback).\r\nAngular bundles CSS files into one stylesheet, so we search for it."
        },
        {
          "kind": "function",
          "name": "injectStyles",
          "return": {
            "type": {
              "text": "Promise<void>"
            }
          },
          "parameters": [
            {
              "name": "inlineStyles",
              "type": {
                "text": "string"
              },
              "description": "CSS string from Vite ?inline import (may be empty in Angular)"
            }
          ],
          "description": "Inject grid styles into the document.\r\nAll styles go into a single <style id=\"tbw-grid-styles\"> element in document.head.\r\nUses a singleton pattern to avoid duplicate injection across multiple grid instances."
        }
      ],
      "exports": [
        {
          "kind": "js",
          "name": "hasBaseStyles",
          "declaration": {
            "name": "hasBaseStyles",
            "module": "src/lib/core/internal/style-injector.ts"
          }
        },
        {
          "kind": "js",
          "name": "setBaseStyles",
          "declaration": {
            "name": "setBaseStyles",
            "module": "src/lib/core/internal/style-injector.ts"
          }
        },
        {
          "kind": "js",
          "name": "addPluginStyles",
          "declaration": {
            "name": "addPluginStyles",
            "module": "src/lib/core/internal/style-injector.ts"
          }
        },
        {
          "kind": "js",
          "name": "extractGridCssFromDocument",
          "declaration": {
            "name": "extractGridCssFromDocument",
            "module": "src/lib/core/internal/style-injector.ts"
          }
        },
        {
          "kind": "js",
          "name": "injectStyles",
          "declaration": {
            "name": "injectStyles",
            "module": "src/lib/core/internal/style-injector.ts"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/core/internal/touch-scroll.spec.ts",
      "declarations": [],
      "exports": []
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/core/internal/touch-scroll.ts",
      "declarations": [
        {
          "kind": "function",
          "name": "createTouchScrollState",
          "return": {
            "type": {
              "text": "TouchScrollState"
            }
          },
          "description": "Create initial touch scroll state."
        },
        {
          "kind": "function",
          "name": "resetTouchState",
          "return": {
            "type": {
              "text": "void"
            }
          },
          "parameters": [
            {
              "name": "state",
              "type": {
                "text": "TouchScrollState"
              }
            }
          ],
          "description": "Reset touch scroll state (called on touchend or cleanup)."
        },
        {
          "kind": "function",
          "name": "cancelMomentum",
          "return": {
            "type": {
              "text": "void"
            }
          },
          "parameters": [
            {
              "name": "state",
              "type": {
                "text": "TouchScrollState"
              }
            }
          ],
          "description": "Cancel any ongoing momentum animation."
        },
        {
          "kind": "function",
          "name": "handleTouchStart",
          "return": {
            "type": {
              "text": "void"
            }
          },
          "parameters": [
            {
              "name": "e",
              "type": {
                "text": "TouchEvent"
              }
            },
            {
              "name": "state",
              "type": {
                "text": "TouchScrollState"
              }
            },
            {
              "name": "elements",
              "type": {
                "text": "TouchScrollElements"
              }
            }
          ],
          "description": "Handle touchstart event."
        },
        {
          "kind": "function",
          "name": "handleTouchMove",
          "return": {
            "type": {
              "text": "boolean"
            }
          },
          "parameters": [
            {
              "name": "e",
              "type": {
                "text": "TouchEvent"
              }
            },
            {
              "name": "state",
              "type": {
                "text": "TouchScrollState"
              }
            },
            {
              "name": "elements",
              "type": {
                "text": "TouchScrollElements"
              }
            }
          ],
          "description": "Handle touchmove event.\r\nReturns true if the event should be prevented (grid scrolled)."
        },
        {
          "kind": "function",
          "name": "handleTouchEnd",
          "return": {
            "type": {
              "text": "void"
            }
          },
          "parameters": [
            {
              "name": "state",
              "type": {
                "text": "TouchScrollState"
              }
            },
            {
              "name": "elements",
              "type": {
                "text": "TouchScrollElements"
              }
            }
          ],
          "description": "Handle touchend event.\r\nStarts momentum scrolling if velocity is significant."
        },
        {
          "kind": "function",
          "name": "setupTouchScrollListeners",
          "return": {
            "type": {
              "text": "void"
            }
          },
          "parameters": [
            {
              "name": "gridContentEl",
              "type": {
                "text": "HTMLElement"
              }
            },
            {
              "name": "state",
              "type": {
                "text": "TouchScrollState"
              }
            },
            {
              "name": "elements",
              "type": {
                "text": "TouchScrollElements"
              }
            },
            {
              "name": "signal",
              "type": {
                "text": "AbortSignal"
              }
            }
          ],
          "description": "Set up touch scroll event listeners on the grid content element.\r\nReturns a cleanup function that removes all listeners."
        }
      ],
      "exports": [
        {
          "kind": "js",
          "name": "createTouchScrollState",
          "declaration": {
            "name": "createTouchScrollState",
            "module": "src/lib/core/internal/touch-scroll.ts"
          }
        },
        {
          "kind": "js",
          "name": "resetTouchState",
          "declaration": {
            "name": "resetTouchState",
            "module": "src/lib/core/internal/touch-scroll.ts"
          }
        },
        {
          "kind": "js",
          "name": "cancelMomentum",
          "declaration": {
            "name": "cancelMomentum",
            "module": "src/lib/core/internal/touch-scroll.ts"
          }
        },
        {
          "kind": "js",
          "name": "handleTouchStart",
          "declaration": {
            "name": "handleTouchStart",
            "module": "src/lib/core/internal/touch-scroll.ts"
          }
        },
        {
          "kind": "js",
          "name": "handleTouchMove",
          "declaration": {
            "name": "handleTouchMove",
            "module": "src/lib/core/internal/touch-scroll.ts"
          }
        },
        {
          "kind": "js",
          "name": "handleTouchEnd",
          "declaration": {
            "name": "handleTouchEnd",
            "module": "src/lib/core/internal/touch-scroll.ts"
          }
        },
        {
          "kind": "js",
          "name": "setupTouchScrollListeners",
          "declaration": {
            "name": "setupTouchScrollListeners",
            "module": "src/lib/core/internal/touch-scroll.ts"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/core/internal/utils.spec.ts",
      "declarations": [],
      "exports": []
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/core/internal/utils.ts",
      "declarations": [
        {
          "kind": "function",
          "name": "booleanCellHTML",
          "return": {
            "type": {
              "text": "string"
            }
          },
          "parameters": [
            {
              "name": "value",
              "type": {
                "text": "boolean"
              }
            }
          ],
          "description": "Generate accessible HTML for a boolean cell.\r\nUses role=\"checkbox\" with proper aria attributes."
        },
        {
          "kind": "function",
          "name": "formatDateValue",
          "return": {
            "type": {
              "text": "string"
            }
          },
          "parameters": [
            {
              "name": "value",
              "type": {
                "text": "unknown"
              }
            }
          ],
          "description": "Format a date value for display.\r\nHandles Date objects, timestamps, and date strings.\r\nReturns empty string for invalid dates."
        },
        {
          "kind": "function",
          "name": "formatBooleanValue",
          "return": {
            "type": {
              "text": "string"
            }
          },
          "parameters": [
            {
              "name": "value",
              "type": {
                "text": "unknown"
              }
            }
          ],
          "description": "Format a boolean value for text display (not HTML)."
        },
        {
          "kind": "function",
          "name": "getRowIndexFromCell",
          "return": {
            "type": {
              "text": "number"
            }
          },
          "parameters": [
            {
              "name": "cell",
              "type": {
                "text": "Element | null"
              }
            }
          ],
          "description": "Get the row index from a cell element's data-row attribute.\r\nFalls back to calculating from parent row's DOM position if data-row is missing.\r\nReturns -1 if no valid row index is found."
        },
        {
          "kind": "function",
          "name": "getColIndexFromCell",
          "return": {
            "type": {
              "text": "number"
            }
          },
          "parameters": [
            {
              "name": "cell",
              "type": {
                "text": "Element | null"
              }
            }
          ],
          "description": "Get the column index from a cell element's data-col attribute.\r\nReturns -1 if no valid column index is found."
        },
        {
          "kind": "function",
          "name": "clearCellFocus",
          "return": {
            "type": {
              "text": "void"
            }
          },
          "parameters": [
            {
              "name": "root",
              "type": {
                "text": "Element | ShadowRoot | null"
              }
            }
          ],
          "description": "Clear all cell-focus styling from a root element (shadowRoot or bodyEl).\r\nUsed when changing focus or when selection plugin takes over focus management."
        },
        {
          "kind": "function",
          "name": "getDirection",
          "return": {
            "type": {
              "text": ""
            }
          },
          "parameters": [
            {
              "name": "element",
              "type": {
                "text": "Element"
              },
              "description": "The element to check direction for"
            }
          ],
          "description": "Get the text direction for an element.\r\nReads from the computed style, which respects the `dir` attribute on the element\r\nor any ancestor, as well as CSS `direction` property."
        },
        {
          "kind": "function",
          "name": "isRTL",
          "return": {
            "type": {
              "text": ""
            }
          },
          "parameters": [
            {
              "name": "element",
              "type": {
                "text": "Element"
              },
              "description": "The element to check"
            }
          ],
          "description": "Check if an element is in RTL mode."
        },
        {
          "kind": "function",
          "name": "resolveInlinePosition",
          "return": {
            "type": {
              "text": ""
            }
          },
          "parameters": [
            {
              "name": "position",
              "type": {
                "text": "'left' | 'right' | 'start' | 'end'"
              },
              "description": "Logical or physical position"
            },
            {
              "name": "direction",
              "type": {
                "text": "TextDirection"
              },
              "description": "Text direction ('ltr' or 'rtl')"
            }
          ],
          "description": "Resolve a logical inline position to a physical position based on text direction.\r\n\r\n- `'start'` → `'left'` in LTR, `'right'` in RTL\r\n- `'end'` → `'right'` in LTR, `'left'` in RTL\r\n- `'left'` / `'right'` → unchanged (physical values)"
        }
      ],
      "exports": [
        {
          "kind": "js",
          "name": "booleanCellHTML",
          "declaration": {
            "name": "booleanCellHTML",
            "module": "src/lib/core/internal/utils.ts"
          }
        },
        {
          "kind": "js",
          "name": "formatDateValue",
          "declaration": {
            "name": "formatDateValue",
            "module": "src/lib/core/internal/utils.ts"
          }
        },
        {
          "kind": "js",
          "name": "formatBooleanValue",
          "declaration": {
            "name": "formatBooleanValue",
            "module": "src/lib/core/internal/utils.ts"
          }
        },
        {
          "kind": "js",
          "name": "getRowIndexFromCell",
          "declaration": {
            "name": "getRowIndexFromCell",
            "module": "src/lib/core/internal/utils.ts"
          }
        },
        {
          "kind": "js",
          "name": "getColIndexFromCell",
          "declaration": {
            "name": "getColIndexFromCell",
            "module": "src/lib/core/internal/utils.ts"
          }
        },
        {
          "kind": "js",
          "name": "clearCellFocus",
          "declaration": {
            "name": "clearCellFocus",
            "module": "src/lib/core/internal/utils.ts"
          }
        },
        {
          "kind": "js",
          "name": "getDirection",
          "declaration": {
            "name": "getDirection",
            "module": "src/lib/core/internal/utils.ts"
          }
        },
        {
          "kind": "js",
          "name": "isRTL",
          "declaration": {
            "name": "isRTL",
            "module": "src/lib/core/internal/utils.ts"
          }
        },
        {
          "kind": "js",
          "name": "resolveInlinePosition",
          "declaration": {
            "name": "resolveInlinePosition",
            "module": "src/lib/core/internal/utils.ts"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/core/internal/validate-config.spec.ts",
      "declarations": [],
      "exports": []
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/core/internal/validate-config.ts",
      "declarations": [
        {
          "kind": "function",
          "name": "validatePluginProperties",
          "return": {
            "type": {
              "text": "void"
            }
          },
          "parameters": [
            {
              "name": "config",
              "type": {
                "text": "GridConfig<T>"
              },
              "description": "The merged grid configuration"
            },
            {
              "name": "plugins",
              "type": {
                "text": "readonly BaseGridPlugin[]"
              },
              "description": "The array of loaded plugins"
            }
          ],
          "description": "Validate that column properties requiring plugins have those plugins loaded."
        },
        {
          "kind": "function",
          "name": "validatePluginConfigRules",
          "return": {
            "type": {
              "text": "void"
            }
          },
          "parameters": [
            {
              "name": "plugins",
              "type": {
                "text": "readonly BaseGridPlugin[]"
              },
              "description": "The array of attached plugins (with config already merged)"
            }
          ],
          "description": "Validate plugin configuration rules declared in manifests.\r\nCalled after plugins are attached to check for invalid/conflicting configurations.\r\n\r\nRules with severity 'error' throw an error.\r\nRules with severity 'warn' log a warning to console."
        },
        {
          "kind": "function",
          "name": "validatePluginDependencies",
          "return": {
            "type": {
              "text": "void"
            }
          },
          "parameters": [
            {
              "name": "plugin",
              "type": {
                "text": "BaseGridPlugin"
              },
              "description": "The plugin instance being attached"
            },
            {
              "name": "loadedPlugins",
              "type": {
                "text": "readonly BaseGridPlugin[]"
              },
              "description": "The array of already-loaded plugins"
            }
          ],
          "description": "Validate plugin-to-plugin dependencies.\r\nCalled by PluginManager when attaching a new plugin.\r\n\r\nDependencies are read from the plugin's static `dependencies` property.\r\n\r\nFor hard dependencies (required: true), throws an error if the dependency is not loaded.\r\nFor soft dependencies (required: false), logs an info message but continues."
        },
        {
          "kind": "function",
          "name": "validatePluginIncompatibilities",
          "return": {
            "type": {
              "text": "void"
            }
          },
          "parameters": [
            {
              "name": "plugins",
              "type": {
                "text": "readonly BaseGridPlugin[]"
              },
              "description": "All attached plugins"
            }
          ],
          "description": "Validate that no incompatible plugins are loaded together.\r\nCalled after all plugins are attached to the grid.\r\n\r\nIncompatibilities are read from each plugin's manifest `incompatibleWith` property.\r\nWhen a conflict is detected, a warning is logged (in development mode)."
        }
      ],
      "exports": [
        {
          "kind": "js",
          "name": "validatePluginProperties",
          "declaration": {
            "name": "validatePluginProperties",
            "module": "src/lib/core/internal/validate-config.ts"
          }
        },
        {
          "kind": "js",
          "name": "validatePluginConfigRules",
          "declaration": {
            "name": "validatePluginConfigRules",
            "module": "src/lib/core/internal/validate-config.ts"
          }
        },
        {
          "kind": "js",
          "name": "validatePluginDependencies",
          "declaration": {
            "name": "validatePluginDependencies",
            "module": "src/lib/core/internal/validate-config.ts"
          }
        },
        {
          "kind": "js",
          "name": "validatePluginIncompatibilities",
          "declaration": {
            "name": "validatePluginIncompatibilities",
            "module": "src/lib/core/internal/validate-config.ts"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/core/internal/virtualization.spec.ts",
      "declarations": [],
      "exports": []
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/core/internal/virtualization.ts",
      "declarations": [
        {
          "kind": "function",
          "name": "computeVirtualWindow",
          "return": {
            "type": {
              "text": ""
            }
          },
          "parameters": [
            {
              "name": "params",
              "type": {
                "text": "VirtualWindowParams"
              },
              "description": "Parameters for computing the window"
            }
          ],
          "description": "Compute the virtual row window based on scroll position and viewport.\r\nUses directional overscan - renders more rows in the scroll direction."
        },
        {
          "kind": "function",
          "name": "shouldBypassVirtualization",
          "return": {
            "type": {
              "text": ""
            }
          },
          "parameters": [
            {
              "name": "totalRows",
              "type": {
                "text": "number"
              },
              "description": "Total number of items"
            },
            {
              "name": "threshold",
              "type": {
                "text": "number"
              },
              "description": "Bypass threshold (skip virtualization if totalRows <= threshold)"
            }
          ],
          "description": "Determine if virtualization should be bypassed for small datasets.\r\nWhen there are very few items, the overhead of virtualization isn't worth it."
        },
        {
          "kind": "function",
          "name": "getRowIndexFromY",
          "return": {
            "type": {
              "text": ""
            }
          },
          "parameters": [
            {
              "name": "y",
              "type": {
                "text": "number"
              },
              "description": "Y position in pixels (relative to content top)"
            },
            {
              "name": "rowHeight",
              "type": {
                "text": "number"
              },
              "description": "Height of each row"
            }
          ],
          "description": "Compute the row index from a Y pixel position."
        },
        {
          "kind": "function",
          "name": "getRowOffsetY",
          "return": {
            "type": {
              "text": ""
            }
          },
          "parameters": [
            {
              "name": "rowIndex",
              "type": {
                "text": "number"
              },
              "description": "Row index"
            },
            {
              "name": "rowHeight",
              "type": {
                "text": "number"
              },
              "description": "Height of each row"
            }
          ],
          "description": "Compute the Y offset for a given row index."
        }
      ],
      "exports": [
        {
          "kind": "js",
          "name": "computeVirtualWindow",
          "declaration": {
            "name": "computeVirtualWindow",
            "module": "src/lib/core/internal/virtualization.ts"
          }
        },
        {
          "kind": "js",
          "name": "shouldBypassVirtualization",
          "declaration": {
            "name": "shouldBypassVirtualization",
            "module": "src/lib/core/internal/virtualization.ts"
          }
        },
        {
          "kind": "js",
          "name": "getRowIndexFromY",
          "declaration": {
            "name": "getRowIndexFromY",
            "module": "src/lib/core/internal/virtualization.ts"
          }
        },
        {
          "kind": "js",
          "name": "getRowOffsetY",
          "declaration": {
            "name": "getRowOffsetY",
            "module": "src/lib/core/internal/virtualization.ts"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/core/styles/index.ts",
      "declarations": [
        {
          "kind": "variable",
          "name": "gridStyles",
          "default": "`/** * tbw-grid Light DOM Styles * * This stylesheet uses CSS nesting to scope all styles to the tbw-grid element. * All selectors are automatically prefixed with \\`tbw-grid\\` for encapsulation. * * CSS Cascade Layers are used to control style priority: * - tbw-base: Core grid styles (lowest priority) * - tbw-plugins: Plugin styles (override base) * - tbw-theme: Theme overrides (override plugins) * - Unlayered CSS: User customizations (highest priority - always wins) * * @see https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_nesting * @see https://developer.mozilla.org/en-US/docs/Web/CSS/@layer */ /* Declare layer order - earlier layers have lower priority */ @layer tbw-base, tbw-plugins, tbw-theme; ${variables} ${base} ${header} ${rows} ${shell} ${toolPanel} ${loading} ${animations} ${mediaQueries} `",
          "description": "Complete grid base styles.\r\n\r\nConcatenates all CSS partials in the correct order:\r\n1. Layer declaration (defines cascade order)\r\n2. Variables (CSS custom properties)\r\n3. Base (root element styles)\r\n4. Header (column headers, sort, resize)\r\n5. Rows (data rows and cells)\r\n6. Shell (toolbar, layout)\r\n7. Tool Panel (side panels, accordion)\r\n8. Loading (spinners, overlays)\r\n9. Animations (keyframes, transitions)\r\n10. Media Queries (accessibility, responsive)"
        }
      ],
      "exports": [
        {
          "kind": "js",
          "name": "gridStyles",
          "declaration": {
            "name": "gridStyles",
            "module": "src/lib/core/styles/index.ts"
          }
        },
        {
          "kind": "js",
          "name": "default",
          "declaration": {
            "name": "gridStyles",
            "module": "src/lib/core/styles/index.ts"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/clipboard/clipboard.spec.ts",
      "declarations": [
        {
          "kind": "variable",
          "name": "config",
          "type": {
            "text": "ClipboardConfig"
          },
          "default": "{ ...defaultConfig, quoteStrings: true }"
        },
        {
          "kind": "variable",
          "name": "columns",
          "type": {
            "text": "ColumnConfig[]"
          },
          "default": "[ { field: 'id', header: 'ID' }, { field: 'name', header: 'Name' }, { field: 'email', header: 'Email' }, ]"
        },
        {
          "kind": "variable",
          "name": "rows",
          "type": {
            "text": "array"
          },
          "default": "[ { id: 1, name: 'Alice', email: 'alice@example.com' }, { id: 2, name: 'Bob', email: 'bob@example.com' }, { id: 3, name: 'Charlie', email: 'charlie@example.com' }, ]"
        }
      ],
      "exports": []
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/clipboard/clipboard.stories.ts",
      "declarations": [
        {
          "kind": "variable",
          "name": "meta",
          "type": {
            "text": "Meta"
          },
          "default": "{ title: 'Grid/Plugins/Clipboard', tags: ['!dev'], parameters: { layout: 'fullscreen' }, argTypes: { includeHeaders: { control: { type: 'boolean' }, description: 'Include column headers when copying', table: { category: 'Clipboard', defaultValue: { summary: 'false' } }, }, quoteStrings: { control: { type: 'boolean' }, description: 'Wrap string values in quotes', table: { category: 'Clipboard', defaultValue: { summary: 'false' } }, }, }, args: { includeHeaders: false, quoteStrings: false, }, }"
        },
        {
          "kind": "variable",
          "name": "Default",
          "type": {
            "text": "Story"
          },
          "default": "{ parameters: { docs: { source: { code: ` <!-- HTML --> <tbw-grid style=\"height: 350px;\"></tbw-grid> <script type=\"module\"> import '@toolbox-web/grid'; import { SelectionPlugin } from '@toolbox-web/grid/plugins/selection'; import { ClipboardPlugin } from '@toolbox-web/grid/plugins/clipboard'; const grid = document.querySelector('tbw-grid'); grid.gridConfig = { columns: [ { field: 'id', header: 'ID', type: 'number' }, { field: 'name', header: 'Name' }, { field: 'email', header: 'Email' }, { field: 'department', header: 'Department' }, ], plugins: [ new SelectionPlugin({ mode: 'range' }), new ClipboardPlugin({ includeHeaders: false, quoteStrings: false, }), ], }; grid.rows = [ { id: 1, name: 'Alice', email: 'alice@example.com', department: 'Engineering' }, { id: 2, name: 'Bob', email: 'bob@example.com', department: 'Marketing' }, { id: 3, name: 'Carol', email: 'carol@example.com', department: 'Engineering' }, { id: 4, name: 'Dan', email: 'dan@example.com', department: 'Sales' }, ]; // Select cells with mouse drag, then Ctrl+C to copy </script> `, language: 'html', }, }, }, render: (args: ClipboardArgs) => { const grid = document.createElement('tbw-grid') as GridElement; grid.style.height = '350px'; grid.gridConfig = { columns, plugins: [ new SelectionPlugin({ mode: 'range' }), new ClipboardPlugin({ includeHeaders: args.includeHeaders, quoteStrings: args.quoteStrings, }), ], }; grid.rows = sampleData; return grid; }, }",
          "description": "Select cells with range selection, then use Ctrl+C to copy.\r\nPaste into Excel, Google Sheets, or any text editor."
        },
        {
          "kind": "variable",
          "name": "WithHeaders",
          "type": {
            "text": "Story"
          },
          "default": "{ parameters: { docs: { source: { code: ` <!-- HTML --> <tbw-grid style=\"height: 350px;\"></tbw-grid> <script type=\"module\"> import '@toolbox-web/grid'; import { SelectionPlugin } from '@toolbox-web/grid/plugins/selection'; import { ClipboardPlugin } from '@toolbox-web/grid/plugins/clipboard'; const grid = document.querySelector('tbw-grid'); grid.gridConfig = { columns: [ { field: 'id', header: 'ID', type: 'number' }, { field: 'name', header: 'Name' }, { field: 'email', header: 'Email' }, { field: 'department', header: 'Department' }, ], plugins: [ new SelectionPlugin({ mode: 'range' }), new ClipboardPlugin({ includeHeaders: true, // Headers included in copy }), ], }; grid.rows = [ { id: 1, name: 'Alice', email: 'alice@example.com', department: 'Engineering' }, { id: 2, name: 'Bob', email: 'bob@example.com', department: 'Marketing' }, { id: 3, name: 'Carol', email: 'carol@example.com', department: 'Engineering' }, { id: 4, name: 'Dan', email: 'dan@example.com', department: 'Sales' }, ]; </script> `, language: 'html', }, }, }, args: { includeHeaders: true, quoteStrings: false, }, render: (args: ClipboardArgs) => { const grid = document.createElement('tbw-grid') as GridElement; grid.style.height = '350px'; grid.gridConfig = { columns, plugins: [ new SelectionPlugin({ mode: 'range' }), new ClipboardPlugin({ includeHeaders: args.includeHeaders, quoteStrings: args.quoteStrings, }), ], }; grid.rows = sampleData; return grid; }, }",
          "description": "Copy includes column headers in the first row."
        },
        {
          "kind": "variable",
          "name": "QuotedStrings",
          "type": {
            "text": "Story"
          },
          "default": "{ parameters: { docs: { source: { code: ` <!-- HTML --> <tbw-grid style=\"height: 350px;\"></tbw-grid> <script type=\"module\"> import '@toolbox-web/grid'; import { SelectionPlugin } from '@toolbox-web/grid/plugins/selection'; import { ClipboardPlugin } from '@toolbox-web/grid/plugins/clipboard'; const grid = document.querySelector('tbw-grid'); grid.gridConfig = { columns: [ { field: 'id', header: 'ID', type: 'number' }, { field: 'name', header: 'Name' }, { field: 'email', header: 'Email' }, { field: 'department', header: 'Department' }, ], plugins: [ new SelectionPlugin({ mode: 'range' }), new ClipboardPlugin({ quoteStrings: true, // Wrap strings in quotes for CSV compatibility }), ], }; grid.rows = [ { id: 1, name: 'Alice', email: 'alice@example.com', department: 'Engineering' }, { id: 2, name: 'Bob', email: 'bob@example.com', department: 'Marketing' }, { id: 3, name: 'Carol', email: 'carol@example.com', department: 'Engineering' }, { id: 4, name: 'Dan', email: 'dan@example.com', department: 'Sales' }, ]; </script> `, language: 'html', }, }, }, args: { includeHeaders: false, quoteStrings: true, }, render: (args: ClipboardArgs) => { const grid = document.createElement('tbw-grid') as GridElement; grid.style.height = '350px'; grid.gridConfig = { columns, plugins: [ new SelectionPlugin({ mode: 'range' }), new ClipboardPlugin({ includeHeaders: args.includeHeaders, quoteStrings: args.quoteStrings, }), ], }; grid.rows = sampleData; return grid; }, }",
          "description": "String values are wrapped in double quotes for CSV compatibility."
        },
        {
          "kind": "variable",
          "name": "SingleCellMode",
          "type": {
            "text": "Story"
          },
          "default": "{ parameters: { docs: { source: { code: ` <!-- HTML --> <tbw-grid style=\"height: 350px;\"></tbw-grid> <script type=\"module\"> import '@toolbox-web/grid'; import { ClipboardPlugin } from '@toolbox-web/grid/plugins/clipboard'; const grid = document.querySelector('tbw-grid'); grid.gridConfig = { columns: [...], plugins: [ new ClipboardPlugin(), // No selection plugin = single cell copy ], }; grid.rows = [...]; </script> `, language: 'html', }, }, }, render: () => { const grid = document.createElement('tbw-grid') as GridElement; grid.style.height = '350px'; grid.gridConfig = { columns, plugins: [new ClipboardPlugin()], }; grid.rows = sampleData; return grid; }, }",
          "description": "Single cell copy mode (no selection plugin).\r\nClick a cell and press Ctrl+C to copy just that cell's value."
        },
        {
          "kind": "variable",
          "name": "CopyPaste",
          "type": {
            "text": "Story"
          },
          "default": "{ parameters: { docs: { source: { code: ` import '@toolbox-web/grid'; import { SelectionPlugin } from '@toolbox-web/grid/plugins/selection'; import { ClipboardPlugin } from '@toolbox-web/grid/plugins/clipboard'; const grid = document.querySelector('tbw-grid'); grid.gridConfig = { columns: [ { field: 'col1', header: 'Column 1', editable: true }, { field: 'col2', header: 'Column 2', editable: true }, { field: 'col3', header: 'Column 3', editable: true }, ], plugins: [ new SelectionPlugin({ mode: 'range' }), new ClipboardPlugin(), // Auto-paste is enabled by default! ], }; grid.rows = [ { col1: 'A1', col2: 'B1', col3: 'C1' }, { col1: 'A2', col2: 'B2', col3: 'C2' }, { col1: 'A3', col2: 'B3', col3: 'C3' }, ]; // That's it! Paste just works. No event handling needed. // The plugin automatically updates grid.rows when you paste. // Note: Only columns with editable: true accept pasted values. `, language: 'ts', }, }, }, render: () => { const container = document.createElement('div'); container.style.cssText = 'display: flex; flex-direction: column; height: 450px;'; // Sample data to copy const sampleDataBox = document.createElement('div'); sampleDataBox.style.cssText = ` padding: 12px; background: var(--demo-sample-bg); border-bottom: 1px solid var(--demo-sample-border); font-family: monospace; font-size: 13px; white-space: pre; user-select: all; cursor: text; `; sampleDataBox.textContent = `X1\\tY1\\tZ1 X2\\tY2\\tZ2`; sampleDataBox.title = 'Select this text and Ctrl+C to copy, then paste into the grid below'; container.appendChild(sampleDataBox); // Instructions banner const banner = document.createElement('div'); banner.style.cssText = ` padding: 12px; background: var(--demo-info-bg); border-bottom: 1px solid var(--demo-info-border); font-size: 14px; color: var(--demo-info-fg); `; banner.innerHTML = ` <strong>Try it:</strong> Select the sample data above → Ctrl+C → Click a cell in the grid → Ctrl+V to paste. <br>Or paste tab/comma-separated data from Excel or Sheets! <br>Also try to select an area to paste in. Pasting will be restricted to that area only. `; container.appendChild(banner); // Grid const grid = document.createElement('tbw-grid') as GridElement; grid.style.cssText = 'flex: 1;'; grid.gridConfig = { columns: [ { field: 'col1', header: 'Column 1', editable: true }, { field: 'col2', header: 'Column 2', editable: true }, { field: 'col3', header: 'Column 3', editable: true }, ], plugins: [ new SelectionPlugin({ mode: 'range' }), new ClipboardPlugin(), // Auto-paste enabled by default! ], }; grid.rows = [ { col1: 'A1', col2: 'B1', col3: 'C1' }, { col1: 'A2', col2: 'B2', col3: 'C2' }, { col1: 'A3', col2: 'B3', col3: 'C3' }, { col1: 'A4', col2: 'B4', col3: 'C4' }, ]; // No paste event handler needed - the plugin handles it automatically! container.appendChild(grid); return container; }, }",
          "description": "## Copy & Paste (Auto-Paste)\r\n\r\nBy default, the ClipboardPlugin handles paste operations automatically!\r\nJust add the plugin and pasting works out of the box - no event handling needed.\r\n\r\nThe plugin will:\r\n- Parse clipboard data (tab/comma separated)\r\n- Apply values starting at the selected cell\r\n- Add new rows if pasting beyond the current data\r\n\r\n**Try it:**\r\n1. Select cells and Ctrl+C to copy\r\n2. Click a target cell and Ctrl+V to paste\r\n3. Or paste data from Excel/Sheets!"
        },
        {
          "kind": "variable",
          "name": "CustomPasteHandler",
          "type": {
            "text": "Story"
          },
          "default": "{ parameters: { docs: { source: { code: ` import '@toolbox-web/grid'; import { SelectionPlugin } from '@toolbox-web/grid/plugins/selection'; import { ClipboardPlugin, type PasteHandler } from '@toolbox-web/grid/plugins/clipboard'; // Custom handler that validates and transforms values const customPasteHandler: PasteHandler = (detail, grid) => { if (!detail.target) return; const { rows: pastedRows, target, fields } = detail; const currentRows = [...grid.rows] as Record<string, string>[]; pastedRows.forEach((rowData, rowOffset) => { const targetRowIndex = target.row + rowOffset; if (targetRowIndex >= currentRows.length) return; // Don't add new rows currentRows[targetRowIndex] = { ...currentRows[targetRowIndex] }; rowData.forEach((value, colOffset) => { const field = fields[colOffset]; if (field) { // Transform: uppercase all values currentRows[targetRowIndex][field] = value.toUpperCase(); } }); }); grid.rows = currentRows; }; grid.gridConfig = { columns: [...], plugins: [ new SelectionPlugin({ mode: 'range' }), new ClipboardPlugin({ pasteHandler: customPasteHandler }), ], }; `, language: 'ts', }, }, }, render: () => { const container = document.createElement('div'); container.style.cssText = 'display: flex; flex-direction: column; height: 450px;'; // Sample data to copy const sampleDataBox = document.createElement('div'); sampleDataBox.style.cssText = ` padding: 12px; background: var(--demo-sample-bg); border-bottom: 1px solid var(--demo-sample-border); font-family: monospace; font-size: 13px; white-space: pre; user-select: all; cursor: text; `; sampleDataBox.textContent = `hello\\tworld foo\\tbar`; sampleDataBox.title = 'Paste this into the grid - values will be uppercased!'; container.appendChild(sampleDataBox); // Instructions banner const banner = document.createElement('div'); banner.style.cssText = ` padding: 12px; background: var(--demo-info-bg); border-bottom: 1px solid var(--demo-info-border); font-size: 14px; color: var(--demo-info-fg); `; banner.innerHTML = ` <strong>Custom Handler:</strong> Pasted values are automatically UPPERCASED. <br>This demo also prevents adding new rows when pasting beyond the grid. `; container.appendChild(banner); // Grid const grid = document.createElement('tbw-grid') as GridElement; grid.style.cssText = 'flex: 1;'; // Custom paste handler that uppercases values and prevents adding rows const customPasteHandler: import('./types').PasteHandler = (detail, gridEl) => { if (!detail.target) return; const { rows: pastedRows, target, fields } = detail; const columns = gridEl.effectiveConfig.columns ?? []; const allFields = columns.map((c) => c.field); const currentRows = [...(gridEl.rows as Record<string, string>[])]; pastedRows.forEach((rowData, rowOffset) => { const targetRowIndex = target.row + rowOffset; // This handler allows adding rows (unlike the code sample which doesn't) while (targetRowIndex >= currentRows.length) { const emptyRow: Record<string, string> = {}; allFields.forEach((f) => (emptyRow[f] = '')); currentRows.push(emptyRow); } currentRows[targetRowIndex] = { ...currentRows[targetRowIndex] }; rowData.forEach((value, colOffset) => { const field = fields[colOffset]; if (field) { // Transform: uppercase all values currentRows[targetRowIndex][field] = value.toUpperCase(); } }); }); gridEl.rows = currentRows; }; grid.gridConfig = { columns: [ { field: 'col1', header: 'Column 1' }, { field: 'col2', header: 'Column 2' }, { field: 'col3', header: 'Column 3' }, ], plugins: [new SelectionPlugin({ mode: 'range' }), new ClipboardPlugin({ pasteHandler: customPasteHandler })], }; grid.rows = [ { col1: 'A1', col2: 'B1', col3: 'C1' }, { col1: 'A2', col2: 'B2', col3: 'C2' }, { col1: 'A3', col2: 'B3', col3: 'C3' }, ]; container.appendChild(grid); return container; }, }",
          "description": "## Custom Paste Handler\r\n\r\nFor advanced use cases, you can provide a custom `pasteHandler` to control\r\nhow pasted data is applied. This is useful when you need to:\r\n- Validate data before pasting\r\n- Transform values (e.g., parse numbers, dates)\r\n- Apply business logic or constraints\r\n- Integrate with state management\r\n\r\nSet `pasteHandler: null` to disable auto-paste entirely and handle the\r\n`paste` event manually."
        }
      ],
      "exports": [
        {
          "kind": "js",
          "name": "default",
          "declaration": {
            "name": "meta",
            "module": "src/lib/plugins/clipboard/clipboard.stories.ts"
          }
        },
        {
          "kind": "js",
          "name": "Default",
          "declaration": {
            "name": "Default",
            "module": "src/lib/plugins/clipboard/clipboard.stories.ts"
          }
        },
        {
          "kind": "js",
          "name": "WithHeaders",
          "declaration": {
            "name": "WithHeaders",
            "module": "src/lib/plugins/clipboard/clipboard.stories.ts"
          }
        },
        {
          "kind": "js",
          "name": "QuotedStrings",
          "declaration": {
            "name": "QuotedStrings",
            "module": "src/lib/plugins/clipboard/clipboard.stories.ts"
          }
        },
        {
          "kind": "js",
          "name": "SingleCellMode",
          "declaration": {
            "name": "SingleCellMode",
            "module": "src/lib/plugins/clipboard/clipboard.stories.ts"
          }
        },
        {
          "kind": "js",
          "name": "CopyPaste",
          "declaration": {
            "name": "CopyPaste",
            "module": "src/lib/plugins/clipboard/clipboard.stories.ts"
          }
        },
        {
          "kind": "js",
          "name": "CustomPasteHandler",
          "declaration": {
            "name": "CustomPasteHandler",
            "module": "src/lib/plugins/clipboard/clipboard.stories.ts"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/clipboard/ClipboardPlugin.ts",
      "declarations": [
        {
          "kind": "variable",
          "name": "text"
        },
        {
          "kind": "variable",
          "name": "target",
          "type": {
            "text": "PasteTarget | null"
          }
        },
        {
          "kind": "variable",
          "name": "fields",
          "type": {
            "text": "string[]"
          },
          "default": "[]"
        }
      ],
      "exports": [
        {
          "kind": "js",
          "name": "ClipboardConfig",
          "declaration": {
            "name": "ClipboardConfig",
            "module": "./types"
          }
        },
        {
          "kind": "js",
          "name": "CopyDetail",
          "declaration": {
            "name": "CopyDetail",
            "module": "./types"
          }
        },
        {
          "kind": "js",
          "name": "PasteDetail",
          "declaration": {
            "name": "PasteDetail",
            "module": "./types"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/clipboard/copy.ts",
      "declarations": [
        {
          "kind": "function",
          "name": "formatCellValue",
          "return": {
            "type": {
              "text": ""
            }
          },
          "parameters": [
            {
              "name": "value",
              "type": {
                "text": "unknown"
              },
              "description": "The cell value to format"
            },
            {
              "name": "field",
              "type": {
                "text": "string"
              },
              "description": "The field name"
            },
            {
              "name": "row",
              "type": {
                "text": "unknown"
              },
              "description": "The full row object"
            },
            {
              "name": "config",
              "type": {
                "text": "ClipboardConfig"
              },
              "description": "Clipboard configuration"
            }
          ],
          "description": "Format a cell value for clipboard output.\r\n\r\nUses custom processCell if provided, otherwise applies default formatting:\r\n- null/undefined → empty string\r\n- Date → ISO string\r\n- Object → JSON string\r\n- Other → String conversion with optional quoting"
        },
        {
          "kind": "function",
          "name": "buildClipboardText",
          "return": {
            "type": {
              "text": ""
            }
          },
          "parameters": [
            {
              "name": "params",
              "type": {
                "text": "CopyParams"
              },
              "description": "Copy parameters including rows, columns, selection, and config"
            }
          ],
          "description": "Build clipboard text from selected rows and columns."
        },
        {
          "kind": "function",
          "name": "copyToClipboard",
          "return": {
            "type": {
              "text": ""
            }
          },
          "parameters": [
            {
              "name": "text",
              "type": {
                "text": "string"
              },
              "description": "The text to copy"
            }
          ],
          "description": "Copy text to the system clipboard.\r\n\r\nUses the modern Clipboard API when available, with fallback\r\nto execCommand for older browsers."
        }
      ],
      "exports": [
        {
          "kind": "js",
          "name": "formatCellValue",
          "declaration": {
            "name": "formatCellValue",
            "module": "src/lib/plugins/clipboard/copy.ts"
          }
        },
        {
          "kind": "js",
          "name": "buildClipboardText",
          "declaration": {
            "name": "buildClipboardText",
            "module": "src/lib/plugins/clipboard/copy.ts"
          }
        },
        {
          "kind": "js",
          "name": "copyToClipboard",
          "declaration": {
            "name": "copyToClipboard",
            "module": "src/lib/plugins/clipboard/copy.ts"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/clipboard/index.ts",
      "declarations": [],
      "exports": [
        {
          "kind": "js",
          "name": "ClipboardPlugin",
          "declaration": {
            "name": "ClipboardPlugin",
            "module": "./ClipboardPlugin"
          }
        },
        {
          "kind": "js",
          "name": "defaultPasteHandler",
          "declaration": {
            "name": "defaultPasteHandler",
            "module": "./types"
          }
        },
        {
          "kind": "js",
          "name": "ClipboardConfig",
          "declaration": {
            "name": "ClipboardConfig",
            "module": "./types"
          }
        },
        {
          "kind": "js",
          "name": "CopyDetail",
          "declaration": {
            "name": "CopyDetail",
            "module": "./types"
          }
        },
        {
          "kind": "js",
          "name": "PasteDetail",
          "declaration": {
            "name": "PasteDetail",
            "module": "./types"
          }
        },
        {
          "kind": "js",
          "name": "PasteHandler",
          "declaration": {
            "name": "PasteHandler",
            "module": "./types"
          }
        },
        {
          "kind": "js",
          "name": "PasteTarget",
          "declaration": {
            "name": "PasteTarget",
            "module": "./types"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/clipboard/paste.ts",
      "declarations": [
        {
          "kind": "function",
          "name": "parseClipboardText",
          "return": {
            "type": {
              "text": ""
            }
          },
          "parameters": [
            {
              "name": "text",
              "type": {
                "text": "string"
              },
              "description": "Raw clipboard text"
            },
            {
              "name": "config",
              "type": {
                "text": "ClipboardConfig"
              },
              "description": "Clipboard configuration"
            }
          ],
          "description": "Parse clipboard text into a 2D array of cell values.\r\n\r\nHandles:\r\n- Quoted values (with escaped double quotes \"\")\r\n- Multi-line quoted values (newlines within quotes are preserved)\r\n- Custom delimiters and newlines\r\n- Empty lines (filtered out only if they contain no data)"
        },
        {
          "kind": "function",
          "name": "readFromClipboard",
          "return": {
            "type": {
              "text": ""
            }
          },
          "description": "Read text from the system clipboard.\r\n\r\nUses the modern Clipboard API. Returns empty string if\r\nthe API is not available or permission is denied."
        }
      ],
      "exports": [
        {
          "kind": "js",
          "name": "parseClipboardText",
          "declaration": {
            "name": "parseClipboardText",
            "module": "src/lib/plugins/clipboard/paste.ts"
          }
        },
        {
          "kind": "js",
          "name": "readFromClipboard",
          "declaration": {
            "name": "readFromClipboard",
            "module": "src/lib/plugins/clipboard/paste.ts"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/clipboard/types.ts",
      "declarations": [
        {
          "kind": "function",
          "name": "defaultPasteHandler",
          "return": {
            "type": {
              "text": "void"
            }
          },
          "parameters": [
            {
              "name": "detail",
              "type": {
                "text": "PasteDetail"
              },
              "description": "The parsed paste data from clipboard"
            },
            {
              "name": "grid",
              "type": {
                "text": "GridElement"
              },
              "description": "The grid element to update"
            }
          ],
          "description": "Default paste handler that applies pasted data to grid.rows.\r\n\r\nThis is the built-in handler used when no custom `pasteHandler` is configured.\r\nIt clones the rows array for immutability and applies values starting at the target cell.\r\n\r\nBehavior:\r\n- Single cell selection: paste expands freely, adds new rows if needed\r\n- Range/row selection: paste is clipped to fit within selection bounds\r\n- Non-editable columns: values are skipped (column alignment preserved)"
        }
      ],
      "exports": [
        {
          "kind": "js",
          "name": "defaultPasteHandler",
          "declaration": {
            "name": "defaultPasteHandler",
            "module": "src/lib/plugins/clipboard/types.ts"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/column-virtualization/column-virtualization.spec.ts",
      "declarations": [],
      "exports": []
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/column-virtualization/column-virtualization.stories.ts",
      "declarations": [
        {
          "kind": "variable",
          "name": "meta",
          "type": {
            "text": "Meta"
          },
          "default": "{ title: 'Grid/Plugins/Column-Virtualization', tags: ['!dev'], parameters: { layout: 'fullscreen' }, argTypes: { columnCount: { control: { type: 'range', min: 10, max: 1000, step: 10 }, description: 'Number of columns to generate', table: { category: 'Data', defaultValue: { summary: '50' } }, }, autoEnable: { control: { type: 'boolean' }, description: 'Auto-enable when column count exceeds threshold', table: { category: 'Column Virtualization', defaultValue: { summary: 'true' } }, }, threshold: { control: { type: 'range', min: 10, max: 100, step: 5 }, description: 'Column count threshold for auto-enabling', table: { category: 'Column Virtualization', defaultValue: { summary: '30' } }, }, overscan: { control: { type: 'range', min: 0, max: 10, step: 1 }, description: 'Extra columns to render on each side', table: { category: 'Column Virtualization', defaultValue: { summary: '3' } }, }, }, args: { columnCount: 50, autoEnable: true, threshold: 30, overscan: 3, }, }"
        },
        {
          "kind": "variable",
          "name": "Default",
          "type": {
            "text": "Story"
          },
          "default": "{ parameters: { docs: { source: { code: ` <!-- HTML --> <tbw-grid style=\"height: 400px;\"></tbw-grid> <script type=\"module\"> import '@toolbox-web/grid'; import { ColumnVirtualizationPlugin } from '@toolbox-web/grid/plugins/column-virtualization'; // Generate many columns for demo function generateColumns(count) { const columns = [{ field: 'id', header: 'ID', type: 'number', width: 60 }]; for (let i = 1; i < count; i++) { columns.push({ field: \\`col\\${i}\\`, header: \\`Column \\${i}\\`, type: 'number', width: 100 }); } return columns; } // Generate sample data function generateRows(rowCount, colCount) { const rows = []; for (let r = 0; r < rowCount; r++) { const row = { id: r + 1 }; for (let c = 1; c < colCount; c++) { row[\\`col\\${c}\\`] = Math.floor(Math.random() * 1000); } rows.push(row); } return rows; } const grid = document.querySelector('tbw-grid'); grid.gridConfig = { columns: generateColumns(50), fitMode: 'fixed', plugins: [ new ColumnVirtualizationPlugin({ autoEnable: true, threshold: 30, overscan: 3, }), ], }; grid.rows = generateRows(100, 50); </script> `, language: 'html', }, }, }, render: (args: ColumnVirtualizationArgs) => { const grid = document.createElement('tbw-grid') as GridElement; grid.style.height = '400px'; const columns = generateColumns(args.columnCount); const rows = generateRows(100, args.columnCount); grid.gridConfig = { columns, fitMode: 'fixed', plugins: [ new ColumnVirtualizationPlugin({ autoEnable: args.autoEnable, threshold: args.threshold, overscan: args.overscan, }), ], }; grid.rows = rows; return grid; }, }",
          "description": "Only visible columns are rendered for better performance.\nThis demo has 50 columns and 100 rows — scroll horizontally to see virtualization."
        }
      ],
      "exports": [
        {
          "kind": "js",
          "name": "default",
          "declaration": {
            "name": "meta",
            "module": "src/lib/plugins/column-virtualization/column-virtualization.stories.ts"
          }
        },
        {
          "kind": "js",
          "name": "Default",
          "declaration": {
            "name": "Default",
            "module": "src/lib/plugins/column-virtualization/column-virtualization.stories.ts"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/column-virtualization/column-virtualization.ts",
      "declarations": [
        {
          "kind": "function",
          "name": "parseColumnWidth",
          "return": {
            "type": {
              "text": ""
            }
          },
          "parameters": [
            {
              "name": "width",
              "type": {
                "text": "string | number | undefined"
              },
              "description": "The width value from column config"
            }
          ],
          "description": "Parse a column width value to pixels.\r\nHandles number (px) and string formats."
        },
        {
          "kind": "function",
          "name": "getColumnWidths",
          "return": {
            "type": {
              "text": ""
            }
          },
          "parameters": [
            {
              "name": "columns",
              "type": {
                "text": "readonly ColumnConfig[]"
              },
              "description": "Column configurations"
            }
          ],
          "description": "Get array of column widths in pixels."
        },
        {
          "kind": "function",
          "name": "computeColumnOffsets",
          "return": {
            "type": {
              "text": ""
            }
          },
          "parameters": [
            {
              "name": "columns",
              "type": {
                "text": "readonly ColumnConfig[]"
              },
              "description": "Column configurations"
            }
          ],
          "description": "Compute cumulative left offsets for each column."
        },
        {
          "kind": "function",
          "name": "computeTotalWidth",
          "return": {
            "type": {
              "text": ""
            }
          },
          "parameters": [
            {
              "name": "columns",
              "type": {
                "text": "readonly ColumnConfig[]"
              },
              "description": "Column configurations"
            }
          ],
          "description": "Compute total width of all columns."
        },
        {
          "kind": "function",
          "name": "getVisibleColumnRange",
          "return": {
            "type": {
              "text": ""
            }
          },
          "parameters": [
            {
              "name": "scrollLeft",
              "type": {
                "text": "number"
              },
              "description": "Current horizontal scroll position"
            },
            {
              "name": "viewportWidth",
              "type": {
                "text": "number"
              },
              "description": "Width of the visible viewport"
            },
            {
              "name": "columnOffsets",
              "type": {
                "text": "number[]"
              },
              "description": "Array of column left offsets"
            },
            {
              "name": "columnWidths",
              "type": {
                "text": "number[]"
              },
              "description": "Array of column widths"
            },
            {
              "name": "overscan",
              "type": {
                "text": "number"
              },
              "description": "Number of extra columns to render on each side"
            }
          ],
          "description": "Find the visible column range based on scroll position.\r\nUses binary search for efficient lookup in large column sets."
        },
        {
          "kind": "function",
          "name": "shouldVirtualize",
          "return": {
            "type": {
              "text": ""
            }
          },
          "parameters": [
            {
              "name": "columnCount",
              "type": {
                "text": "number"
              },
              "description": "Number of columns"
            },
            {
              "name": "threshold",
              "type": {
                "text": "number"
              },
              "description": "Column count threshold"
            },
            {
              "name": "autoEnable",
              "type": {
                "text": "boolean"
              },
              "description": "Whether auto-enable is configured"
            }
          ],
          "description": "Determine if column virtualization should be active."
        }
      ],
      "exports": [
        {
          "kind": "js",
          "name": "parseColumnWidth",
          "declaration": {
            "name": "parseColumnWidth",
            "module": "src/lib/plugins/column-virtualization/column-virtualization.ts"
          }
        },
        {
          "kind": "js",
          "name": "getColumnWidths",
          "declaration": {
            "name": "getColumnWidths",
            "module": "src/lib/plugins/column-virtualization/column-virtualization.ts"
          }
        },
        {
          "kind": "js",
          "name": "computeColumnOffsets",
          "declaration": {
            "name": "computeColumnOffsets",
            "module": "src/lib/plugins/column-virtualization/column-virtualization.ts"
          }
        },
        {
          "kind": "js",
          "name": "computeTotalWidth",
          "declaration": {
            "name": "computeTotalWidth",
            "module": "src/lib/plugins/column-virtualization/column-virtualization.ts"
          }
        },
        {
          "kind": "js",
          "name": "getVisibleColumnRange",
          "declaration": {
            "name": "getVisibleColumnRange",
            "module": "src/lib/plugins/column-virtualization/column-virtualization.ts"
          }
        },
        {
          "kind": "js",
          "name": "shouldVirtualize",
          "declaration": {
            "name": "shouldVirtualize",
            "module": "src/lib/plugins/column-virtualization/column-virtualization.ts"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/column-virtualization/ColumnVirtualizationPlugin.ts",
      "declarations": [],
      "exports": []
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/column-virtualization/index.ts",
      "declarations": [],
      "exports": [
        {
          "kind": "js",
          "name": "ColumnVirtualizationPlugin",
          "declaration": {
            "name": "ColumnVirtualizationPlugin",
            "module": "./ColumnVirtualizationPlugin"
          }
        },
        {
          "kind": "js",
          "name": "ColumnVirtualizationConfig",
          "declaration": {
            "name": "ColumnVirtualizationConfig",
            "module": "./types"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/column-virtualization/types.ts",
      "declarations": [],
      "exports": []
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/core/plugin/base-plugin.ts",
      "declarations": [
        {
          "kind": "class",
          "description": "Abstract base class for all grid plugins.",
          "name": "BaseGridPlugin",
          "members": [
            {
              "kind": "field",
              "name": "dependencies",
              "type": {
                "text": "PluginDependency[] | undefined"
              },
              "static": true,
              "readonly": true,
              "description": "Plugin dependencies - declare other plugins this one requires.\r\n\r\nDependencies are validated when the plugin is attached.\r\nRequired dependencies throw an error if missing.\r\nOptional dependencies log an info message if missing."
            },
            {
              "kind": "field",
              "name": "manifest",
              "type": {
                "text": "PluginManifest<any> | undefined"
              },
              "static": true,
              "readonly": true,
              "description": "Plugin manifest - declares owned properties, config rules, and hook priorities.\r\n\r\nThis is read by the configuration validator to:\r\n- Validate that required plugins are loaded when their properties are used\r\n- Execute configRules to detect invalid/conflicting settings\r\n- Order hook execution based on priority"
            },
            {
              "kind": "field",
              "name": "name",
              "type": {
                "text": "string"
              },
              "readonly": true,
              "description": "Unique plugin identifier (derived from class name by default)"
            },
            {
              "kind": "field",
              "name": "version",
              "type": {
                "text": "string"
              },
              "readonly": true,
              "description": "Plugin version - defaults to grid version for built-in plugins.\r\nThird-party plugins can override with their own semver."
            },
            {
              "kind": "field",
              "name": "styles",
              "type": {
                "text": "string | undefined"
              },
              "readonly": true,
              "description": "CSS styles to inject into the grid's shadow DOM"
            },
            {
              "kind": "field",
              "name": "cellRenderers",
              "type": {
                "text": "Record<string, CellRenderer> | undefined"
              },
              "readonly": true,
              "description": "Custom cell renderers keyed by type name"
            },
            {
              "kind": "field",
              "name": "headerRenderers",
              "type": {
                "text": "Record<string, HeaderRenderer> | undefined"
              },
              "readonly": true,
              "description": "Custom header renderers keyed by type name"
            },
            {
              "kind": "field",
              "name": "cellEditors",
              "type": {
                "text": "Record<string, CellEditor> | undefined"
              },
              "readonly": true,
              "description": "Custom cell editors keyed by type name"
            },
            {
              "kind": "field",
              "name": "grid",
              "type": {
                "text": "GridElement"
              },
              "privacy": "protected",
              "description": "The grid instance this plugin is attached to"
            },
            {
              "kind": "field",
              "name": "config",
              "type": {
                "text": "TConfig"
              },
              "privacy": "protected",
              "description": "Plugin configuration - merged with defaults in attach()"
            },
            {
              "kind": "field",
              "name": "userConfig",
              "type": {
                "text": "Partial<TConfig>"
              },
              "privacy": "protected",
              "readonly": true,
              "description": "User-provided configuration from constructor",
              "default": "config"
            },
            {
              "kind": "field",
              "name": "#abortController",
              "privacy": "private",
              "type": {
                "text": "AbortController | undefined"
              },
              "description": "Plugin-level AbortController for event listener cleanup.\r\nCreated fresh in attach(), aborted in detach().\r\nThis ensures event listeners are properly cleaned up when plugins are re-attached."
            },
            {
              "kind": "field",
              "name": "defaultConfig",
              "type": {
                "text": "Partial<TConfig>"
              },
              "privacy": "protected",
              "description": "Default configuration - subclasses should override this getter.\r\nNote: This must be a getter (not property initializer) for proper inheritance\r\nsince property initializers run after parent constructor.",
              "readonly": true
            },
            {
              "kind": "method",
              "name": "attach",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "grid",
                  "type": {
                    "text": "GridElement"
                  }
                }
              ],
              "description": "Called when the plugin is attached to a grid.\r\nOverride to set up event listeners, initialize state, etc."
            },
            {
              "kind": "method",
              "name": "detach",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "description": "Called when the plugin is detached from a grid.\r\nOverride to clean up event listeners, timers, etc."
            },
            {
              "kind": "method",
              "name": "onPluginAttached",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "name",
                  "type": {
                    "text": "string"
                  },
                  "description": "The name of the plugin that was attached"
                },
                {
                  "name": "plugin",
                  "type": {
                    "text": "BaseGridPlugin"
                  },
                  "description": "The plugin instance (for direct access if needed)"
                }
              ],
              "description": "Called when another plugin is attached to the same grid.\r\nUse for inter-plugin coordination, e.g., to integrate with new plugins."
            },
            {
              "kind": "method",
              "name": "onPluginDetached",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "name",
                  "type": {
                    "text": "string"
                  },
                  "description": "The name of the plugin that was detached"
                }
              ],
              "description": "Called when another plugin is detached from the same grid.\r\nUse to clean up inter-plugin references."
            },
            {
              "kind": "method",
              "name": "getPlugin",
              "privacy": "protected",
              "return": {
                "type": {
                  "text": "T | undefined"
                }
              },
              "parameters": [
                {
                  "name": "PluginClass",
                  "type": {
                    "text": "new (...args: any[]) => T"
                  }
                }
              ],
              "description": "Get another plugin instance from the same grid.\r\nUse for inter-plugin communication."
            },
            {
              "kind": "method",
              "name": "emit",
              "privacy": "protected",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "eventName",
                  "type": {
                    "text": "string"
                  }
                },
                {
                  "name": "detail",
                  "type": {
                    "text": "T"
                  }
                }
              ],
              "description": "Emit a custom event from the grid."
            },
            {
              "kind": "method",
              "name": "emitCancelable",
              "privacy": "protected",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "eventName",
                  "type": {
                    "text": "string"
                  }
                },
                {
                  "name": "detail",
                  "type": {
                    "text": "T"
                  }
                }
              ],
              "description": "Emit a cancelable custom event from the grid."
            },
            {
              "kind": "method",
              "name": "on",
              "privacy": "protected",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "eventType",
                  "type": {
                    "text": "string"
                  },
                  "description": "The event type to listen for (e.g., 'filter-change')"
                },
                {
                  "name": "callback",
                  "type": {
                    "text": "(detail: T) => void"
                  },
                  "description": "The callback to invoke when the event is emitted"
                }
              ],
              "description": "Subscribe to an event from another plugin.\r\nThe subscription is automatically cleaned up when this plugin is detached."
            },
            {
              "kind": "method",
              "name": "off",
              "privacy": "protected",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "eventType",
                  "type": {
                    "text": "string"
                  },
                  "description": "The event type to stop listening for"
                }
              ],
              "description": "Unsubscribe from a plugin event."
            },
            {
              "kind": "method",
              "name": "emitPluginEvent",
              "privacy": "protected",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "eventType",
                  "type": {
                    "text": "string"
                  },
                  "description": "The event type to emit (should be declared in manifest.events)"
                },
                {
                  "name": "detail",
                  "type": {
                    "text": "T"
                  },
                  "description": "The event payload"
                }
              ],
              "description": "Emit an event to other plugins via the Event Bus.\r\nThis is for inter-plugin communication only; it does NOT dispatch DOM events.\r\nUse `emit()` to dispatch DOM events that external consumers can listen to."
            },
            {
              "kind": "method",
              "name": "requestRender",
              "privacy": "protected",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "description": "Request a re-render of the grid.\r\nUses ROWS phase - does NOT trigger processColumns hooks."
            },
            {
              "kind": "method",
              "name": "requestColumnsRender",
              "privacy": "protected",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "description": "Request a columns re-render of the grid.\r\nUses COLUMNS phase - triggers processColumns hooks.\r\nUse this when your plugin needs to reprocess column configuration."
            },
            {
              "kind": "method",
              "name": "requestRenderWithFocus",
              "privacy": "protected",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "description": "Request a re-render and restore focus styling afterward.\r\nUse this when a plugin action (like expand/collapse) triggers a render\r\nbut needs to maintain keyboard navigation focus."
            },
            {
              "kind": "method",
              "name": "requestAfterRender",
              "privacy": "protected",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "description": "Request a lightweight style update without rebuilding DOM.\r\nUse this instead of requestRender() when only CSS classes need updating."
            },
            {
              "kind": "field",
              "name": "rows",
              "type": {
                "text": "any[]"
              },
              "privacy": "protected",
              "description": "Get the current rows from the grid.",
              "readonly": true
            },
            {
              "kind": "field",
              "name": "sourceRows",
              "type": {
                "text": "any[]"
              },
              "privacy": "protected",
              "description": "Get the original unfiltered/unprocessed rows from the grid.\r\nUse this when you need all source data regardless of active filters.",
              "readonly": true
            },
            {
              "kind": "field",
              "name": "columns",
              "type": {
                "text": "ColumnConfig[]"
              },
              "privacy": "protected",
              "description": "Get the current columns from the grid.",
              "readonly": true
            },
            {
              "kind": "field",
              "name": "visibleColumns",
              "type": {
                "text": "ColumnConfig[]"
              },
              "privacy": "protected",
              "description": "Get only visible columns from the grid (excludes hidden).\r\nUse this for rendering that needs to match the grid template.",
              "readonly": true
            },
            {
              "kind": "field",
              "name": "gridElement",
              "type": {
                "text": "HTMLElement"
              },
              "privacy": "protected",
              "description": "Get the grid as an HTMLElement for direct DOM operations.\r\nUse sparingly - prefer the typed GridElementRef API when possible.",
              "readonly": true
            },
            {
              "kind": "field",
              "name": "disconnectSignal",
              "type": {
                "text": "AbortSignal"
              },
              "privacy": "protected",
              "description": "Get the disconnect signal for event listener cleanup.\r\nThis signal is aborted when the grid disconnects from the DOM.\r\nUse this when adding event listeners that should be cleaned up automatically.\r\n\r\nBest for:\r\n- Document/window-level listeners added in attach()\r\n- Listeners on the grid element itself\r\n- Any listener that should persist across renders\r\n\r\nNot needed for:\r\n- Listeners on elements created in afterRender() (removed with element)",
              "readonly": true
            },
            {
              "kind": "field",
              "name": "gridIcons",
              "type": {
                "text": "typeof DEFAULT_GRID_ICONS"
              },
              "privacy": "protected",
              "description": "Get the grid-level icons configuration.\r\nReturns merged icons (user config + defaults).",
              "readonly": true
            },
            {
              "kind": "field",
              "name": "isAnimationEnabled",
              "type": {
                "text": "boolean"
              },
              "privacy": "protected",
              "description": "Check if animations are enabled at the grid level.\r\nRespects gridConfig.animation.mode and the CSS variable set by the grid.\r\n\r\nPlugins should use this to skip animations when:\r\n- Animation mode is 'off' or `false`\r\n- User prefers reduced motion and mode is 'reduced-motion' (default)",
              "readonly": true
            },
            {
              "kind": "field",
              "name": "animationDuration",
              "type": {
                "text": "number"
              },
              "privacy": "protected",
              "description": "Get the animation duration in milliseconds from CSS variable.\r\nFalls back to 200ms if not set.\r\n\r\nPlugins can use this for their animation timing to stay consistent\r\nwith the grid-level animation.duration setting.",
              "readonly": true
            },
            {
              "kind": "method",
              "name": "resolveIcon",
              "privacy": "protected",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "iconKey",
                  "type": {
                    "text": "keyof typeof DEFAULT_GRID_ICONS"
                  },
                  "description": "The icon key in GridIcons (e.g., 'expand', 'collapse')"
                },
                {
                  "name": "pluginOverride",
                  "optional": true,
                  "type": {
                    "text": "IconValue"
                  },
                  "description": "Optional plugin-level override"
                }
              ],
              "description": "Resolve an icon value to string or HTMLElement.\r\nChecks plugin config first, then grid-level icons, then defaults."
            },
            {
              "kind": "method",
              "name": "setIcon",
              "privacy": "protected",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "element",
                  "type": {
                    "text": "HTMLElement"
                  },
                  "description": "The element to set the icon on"
                },
                {
                  "name": "icon",
                  "type": {
                    "text": "IconValue"
                  },
                  "description": "The icon value (string or HTMLElement)"
                }
              ],
              "description": "Set an icon value on an element.\r\nHandles both string (text/HTML) and HTMLElement values."
            },
            {
              "kind": "method",
              "name": "warn",
              "privacy": "protected",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "message",
                  "type": {
                    "text": "string"
                  }
                }
              ],
              "description": "Log a warning message."
            },
            {
              "kind": "method",
              "name": "processRows",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "rows",
                  "type": {
                    "text": "readonly any[]"
                  },
                  "description": "The current rows array (readonly to encourage returning a new array)"
                }
              ],
              "description": "Transform rows before rendering.\r\nCalled during each render cycle before rows are rendered to the DOM.\r\nUse this to filter, sort, or add computed properties to rows."
            },
            {
              "kind": "method",
              "name": "processColumns",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "columns",
                  "type": {
                    "text": "readonly ColumnConfig[]"
                  },
                  "description": "The current columns array (readonly to encourage returning a new array)"
                }
              ],
              "description": "Transform columns before rendering.\r\nCalled during each render cycle before column headers and cells are rendered.\r\nUse this to add, remove, or modify column definitions."
            },
            {
              "kind": "method",
              "name": "beforeRender",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "description": "Called before each render cycle begins.\r\nUse this to prepare state or cache values needed during rendering.\r\n\r\n**Note:** This hook is currently a placeholder for future implementation.\r\nIt is defined in the interface but not yet invoked by the grid's render pipeline.\r\nIf you need this functionality, please open an issue or contribute an implementation."
            },
            {
              "kind": "method",
              "name": "afterRender",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "description": "Called after each render cycle completes.\r\nUse this for DOM manipulation, adding event listeners to rendered elements,\r\nor applying visual effects like selection highlights."
            },
            {
              "kind": "method",
              "name": "afterCellRender",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "context",
                  "type": {
                    "text": "AfterCellRenderContext"
                  },
                  "description": "The cell render context with row, column, value, and elements"
                }
              ],
              "description": "Called after each cell is rendered.\r\nThis hook is more efficient than `afterRender()` for cell-level modifications\r\nbecause you receive the cell context directly - no DOM queries needed.\r\n\r\nUse cases:\r\n- Adding selection/highlight classes to specific cells\r\n- Injecting badges or decorations\r\n- Applying conditional styling based on cell value\r\n\r\nPerformance note: Called for every visible cell during render. Keep implementation fast.\r\nThis hook is also called during scroll when cells are recycled."
            },
            {
              "kind": "method",
              "name": "afterRowRender",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "context",
                  "type": {
                    "text": "AfterRowRenderContext"
                  },
                  "description": "The row render context with row data and element"
                }
              ],
              "description": "Called after a row is fully rendered (all cells complete).\r\nUse this for row-level decorations, styling, or ARIA attributes.\r\n\r\nCommon use cases:\r\n- Adding selection classes to entire rows (row-focus, selected)\r\n- Setting row-level ARIA attributes\r\n- Applying row validation highlighting\r\n- Tree indentation styling\r\n\r\nPerformance note: Called for every visible row during render. Keep implementation fast.\r\nThis hook is also called during scroll when rows are recycled."
            },
            {
              "kind": "method",
              "name": "onScrollRender",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "description": "Called after scroll-triggered row rendering completes.\r\nThis is a lightweight hook for applying visual state to recycled DOM elements.\r\nUse this instead of afterRender when you need to reapply styling during scroll.\r\n\r\nPerformance note: This is called frequently during scroll. Keep implementation fast."
            },
            {
              "kind": "method",
              "name": "getExtraHeight",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "description": "Return extra height contributed by this plugin (e.g., expanded detail rows).\r\nUsed to adjust scrollbar height calculations for virtualization."
            },
            {
              "kind": "method",
              "name": "getExtraHeightBefore",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "beforeRowIndex",
                  "type": {
                    "text": "number"
                  },
                  "description": "The row index to calculate extra height before"
                }
              ],
              "description": "Return extra height that appears before a given row index.\r\nUsed by virtualization to correctly calculate scroll positions when\r\nthere's variable height content (like expanded detail rows) above the viewport."
            },
            {
              "kind": "method",
              "name": "adjustVirtualStart",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "start",
                  "type": {
                    "text": "number"
                  },
                  "description": "The calculated start row index"
                },
                {
                  "name": "scrollTop",
                  "type": {
                    "text": "number"
                  },
                  "description": "The current scroll position"
                },
                {
                  "name": "rowHeight",
                  "type": {
                    "text": "number"
                  },
                  "description": "The height of a single row"
                }
              ],
              "description": "Adjust the virtualization start index to render additional rows before the visible range.\r\nUse this when expanded content (like detail rows) needs its parent row to remain rendered\r\neven when the parent row itself has scrolled above the viewport."
            },
            {
              "kind": "method",
              "name": "renderRow",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "row",
                  "type": {
                    "text": "any"
                  },
                  "description": "The row data object"
                },
                {
                  "name": "rowEl",
                  "type": {
                    "text": "HTMLElement"
                  },
                  "description": "The row DOM element to render into"
                },
                {
                  "name": "rowIndex",
                  "type": {
                    "text": "number"
                  },
                  "description": "The index of the row in the data array"
                }
              ],
              "description": "Render a custom row, bypassing the default row rendering.\r\nUse this for special row types like group headers, detail rows, or footers."
            },
            {
              "kind": "method",
              "name": "onPluginQuery",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "query",
                  "type": {
                    "text": "PluginQuery"
                  },
                  "description": "The query object with type and context"
                }
              ],
              "description": "Handle queries from other plugins.\r\nThis is the generic mechanism for inter-plugin communication.\r\nPlugins can respond to well-known query types or define their own.\r\n\r\n**Prefer `handleQuery` for new plugins** - it has the same signature but\r\na clearer name. `onPluginQuery` is kept for backwards compatibility.",
              "deprecated": "Use `handleQuery` instead for new plugins."
            },
            {
              "kind": "method",
              "name": "handleQuery",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "query",
                  "type": {
                    "text": "PluginQuery"
                  },
                  "description": "The query object with type and context"
                }
              ],
              "description": "Handle queries from other plugins or the grid.\r\n\r\nQueries are declared in `manifest.queries` and dispatched via `grid.query()`.\r\nThis enables type-safe, discoverable inter-plugin communication."
            },
            {
              "kind": "method",
              "name": "onKeyDown",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "event",
                  "type": {
                    "text": "KeyboardEvent"
                  },
                  "description": "The native KeyboardEvent"
                }
              ],
              "description": "Handle keyboard events on the grid.\r\nCalled when a key is pressed while the grid or a cell has focus."
            },
            {
              "kind": "method",
              "name": "onCellClick",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "event",
                  "type": {
                    "text": "CellClickEvent"
                  },
                  "description": "Cell click event with row/column context"
                }
              ],
              "description": "Handle cell click events.\r\nCalled when a data cell is clicked (not headers)."
            },
            {
              "kind": "method",
              "name": "onRowClick",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "event",
                  "type": {
                    "text": "RowClickEvent"
                  },
                  "description": "Row click event with row context"
                }
              ],
              "description": "Handle row click events.\r\nCalled when any part of a data row is clicked.\r\nNote: This is called in addition to onCellClick, not instead of."
            },
            {
              "kind": "method",
              "name": "onHeaderClick",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "event",
                  "type": {
                    "text": "HeaderClickEvent"
                  },
                  "description": "Header click event with column context"
                }
              ],
              "description": "Handle header click events.\r\nCalled when a column header is clicked. Commonly used for sorting."
            },
            {
              "kind": "method",
              "name": "onScroll",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "event",
                  "type": {
                    "text": "ScrollEvent"
                  },
                  "description": "Scroll event with scroll position and viewport dimensions"
                }
              ],
              "description": "Handle scroll events on the grid viewport.\r\nCalled during scrolling. Note: This may be called frequently; debounce if needed."
            },
            {
              "kind": "method",
              "name": "onCellMouseDown",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "event",
                  "type": {
                    "text": "CellMouseEvent"
                  },
                  "description": "Mouse event with cell context"
                }
              ],
              "description": "Handle cell mousedown events.\r\nUsed for initiating drag operations like range selection or column resize."
            },
            {
              "kind": "method",
              "name": "onCellMouseMove",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "event",
                  "type": {
                    "text": "CellMouseEvent"
                  },
                  "description": "Mouse event with current cell context"
                }
              ],
              "description": "Handle cell mousemove events during drag operations.\r\nOnly called when a drag is in progress (after mousedown returned true)."
            },
            {
              "kind": "method",
              "name": "onCellMouseUp",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "event",
                  "type": {
                    "text": "CellMouseEvent"
                  },
                  "description": "Mouse event with final cell context"
                }
              ],
              "description": "Handle cell mouseup events to end drag operations."
            },
            {
              "kind": "method",
              "name": "getColumnState",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "field",
                  "type": {
                    "text": "string"
                  },
                  "description": "The field name of the column"
                }
              ],
              "description": "Contribute plugin-specific state for a column.\r\nCalled by the grid when collecting column state for serialization.\r\nPlugins can add their own properties to the column state."
            },
            {
              "kind": "method",
              "name": "applyColumnState",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "field",
                  "type": {
                    "text": "string"
                  },
                  "description": "The field name of the column"
                },
                {
                  "name": "state",
                  "type": {
                    "text": "ColumnState"
                  },
                  "description": "The column state to apply (may contain plugin-specific properties)"
                }
              ],
              "description": "Apply plugin-specific state to a column.\r\nCalled by the grid when restoring column state from serialized data.\r\nPlugins should restore their internal state based on the provided state."
            },
            {
              "kind": "method",
              "name": "getHorizontalScrollOffsets",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "rowEl",
                  "optional": true,
                  "type": {
                    "text": "HTMLElement"
                  },
                  "description": "The row element (optional, for calculating widths from rendered cells)"
                },
                {
                  "name": "focusedCell",
                  "optional": true,
                  "type": {
                    "text": "HTMLElement"
                  },
                  "description": "The currently focused cell element (optional, to determine if scrolling should be skipped)"
                }
              ],
              "description": "Report horizontal scroll boundary offsets for this plugin.\r\nPlugins that obscure part of the scroll area (e.g., pinned/sticky columns)\r\nshould return how much space they occupy on each side.\r\nThe keyboard navigation uses this to ensure focused cells are fully visible."
            },
            {
              "kind": "method",
              "name": "getToolPanel",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "description": "Register a tool panel for this plugin.\r\nReturn undefined if plugin has no tool panel.\r\nThe shell will create a toolbar toggle button and render the panel content\r\nwhen the user opens the panel."
            },
            {
              "kind": "method",
              "name": "getHeaderContent",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "description": "Register content for the shell header center section.\r\nReturn undefined if plugin has no header content.\r\nExamples: search input, selection summary, status indicators."
            }
          ]
        }
      ],
      "exports": [
        {
          "kind": "js",
          "name": "PLUGIN_QUERIES",
          "declaration": {
            "name": "PLUGIN_QUERIES",
            "module": "./types"
          }
        },
        {
          "kind": "js",
          "name": "AfterCellRenderContext",
          "declaration": {
            "name": "AfterCellRenderContext",
            "module": "./types"
          }
        },
        {
          "kind": "js",
          "name": "AfterRowRenderContext",
          "declaration": {
            "name": "AfterRowRenderContext",
            "module": "./types"
          }
        },
        {
          "kind": "js",
          "name": "CellClickEvent",
          "declaration": {
            "name": "CellClickEvent",
            "module": "./types"
          }
        },
        {
          "kind": "js",
          "name": "CellCoords",
          "declaration": {
            "name": "CellCoords",
            "module": "./types"
          }
        },
        {
          "kind": "js",
          "name": "CellEditor",
          "declaration": {
            "name": "CellEditor",
            "module": "./types"
          }
        },
        {
          "kind": "js",
          "name": "CellMouseEvent",
          "declaration": {
            "name": "CellMouseEvent",
            "module": "./types"
          }
        },
        {
          "kind": "js",
          "name": "CellRenderer",
          "declaration": {
            "name": "CellRenderer",
            "module": "./types"
          }
        },
        {
          "kind": "js",
          "name": "ContextMenuItem",
          "declaration": {
            "name": "ContextMenuItem",
            "module": "./types"
          }
        },
        {
          "kind": "js",
          "name": "ContextMenuParams",
          "declaration": {
            "name": "ContextMenuParams",
            "module": "./types"
          }
        },
        {
          "kind": "js",
          "name": "GridElementRef",
          "declaration": {
            "name": "GridElementRef",
            "module": "./types"
          }
        },
        {
          "kind": "js",
          "name": "HeaderClickEvent",
          "declaration": {
            "name": "HeaderClickEvent",
            "module": "./types"
          }
        },
        {
          "kind": "js",
          "name": "HeaderRenderer",
          "declaration": {
            "name": "HeaderRenderer",
            "module": "./types"
          }
        },
        {
          "kind": "js",
          "name": "KeyboardModifiers",
          "declaration": {
            "name": "KeyboardModifiers",
            "module": "./types"
          }
        },
        {
          "kind": "js",
          "name": "PluginCellRenderContext",
          "declaration": {
            "name": "PluginCellRenderContext",
            "module": "./types"
          }
        },
        {
          "kind": "js",
          "name": "PluginQuery",
          "declaration": {
            "name": "PluginQuery",
            "module": "./types"
          }
        },
        {
          "kind": "js",
          "name": "RowClickEvent",
          "declaration": {
            "name": "RowClickEvent",
            "module": "./types"
          }
        },
        {
          "kind": "js",
          "name": "ScrollEvent",
          "declaration": {
            "name": "ScrollEvent",
            "module": "./types"
          }
        },
        {
          "kind": "js",
          "name": "BaseGridPlugin",
          "declaration": {
            "name": "BaseGridPlugin",
            "module": "src/lib/core/plugin/base-plugin.ts"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/core/plugin/event-bus.spec.ts",
      "declarations": [],
      "exports": []
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/core/plugin/expander-column.ts",
      "declarations": [
        {
          "kind": "variable",
          "name": "EXPANDER_COLUMN_FIELD",
          "type": {
            "text": "string"
          },
          "default": "'__tbw_expander'",
          "description": "Special field name for the expander column"
        },
        {
          "kind": "variable",
          "name": "EXPANDER_COLUMN_WIDTH",
          "type": {
            "text": "number"
          },
          "default": "32",
          "description": "Default width for the expander column (pixels)"
        },
        {
          "kind": "function",
          "name": "isExpanderColumn",
          "return": {
            "type": {
              "text": "boolean"
            }
          },
          "parameters": [
            {
              "name": "column",
              "type": {
                "text": "ColumnConfig"
              }
            }
          ],
          "description": "Check if a column is an expander column."
        },
        {
          "kind": "function",
          "name": "isUtilityColumn",
          "return": {
            "type": {
              "text": "boolean"
            }
          },
          "parameters": [
            {
              "name": "column",
              "type": {
                "text": "ColumnConfig"
              }
            }
          ],
          "description": "Check if a column is a utility column (excluded from selection, clipboard, etc.).\r\nUtility columns are non-data columns like expander columns."
        },
        {
          "kind": "function",
          "name": "findExpanderColumn",
          "return": {
            "type": {
              "text": "ColumnConfig | undefined"
            }
          },
          "parameters": [
            {
              "name": "columns",
              "type": {
                "text": "readonly ColumnConfig[]"
              }
            }
          ],
          "description": "Find an existing expander column in the column array."
        },
        {
          "kind": "function",
          "name": "createExpanderColumnConfig",
          "return": {
            "type": {
              "text": ""
            }
          },
          "parameters": [
            {
              "name": "pluginName",
              "type": {
                "text": "string"
              },
              "description": "Name of the plugin creating the expander (for debugging)"
            }
          ],
          "description": "Create the base expander column config.\r\nPlugins should add their own renderer to customize the expand icon behavior."
        },
        {
          "kind": "function",
          "name": "createExpanderContainer",
          "return": {
            "type": {
              "text": ""
            }
          },
          "parameters": [
            {
              "name": "expanded",
              "type": {
                "text": "boolean"
              },
              "description": "Whether the item is currently expanded"
            },
            {
              "name": "pluginClass",
              "type": {
                "text": "string"
              },
              "description": "CSS class prefix for the plugin (e.g., 'master-detail', 'tree')"
            }
          ],
          "description": "Create a container element for expand/collapse toggle icons.\r\nUsed by plugins to wrap their expand icons with consistent styling."
        },
        {
          "kind": "variable",
          "name": "EXPANDER_COLUMN_STYLES",
          "default": "` /* Expander column data cells - always first, borderless right edge */ .cell[data-field=\"${EXPANDER_COLUMN_FIELD}\"] { border-right: none !important; padding: 0; display: flex; align-items: center; justify-content: center; } /* Expander column header - completely hidden, no content, no border, no width contribution */ .header-row .cell[data-field=\"${EXPANDER_COLUMN_FIELD}\"] { visibility: hidden; border: none !important; padding: 0; overflow: hidden; } /* The column after the expander should visually extend into the expander header space */ .header-row .cell[data-field=\"${EXPANDER_COLUMN_FIELD}\"] + .cell { /* Pull left to cover the hidden expander header */ margin-left: -${EXPANDER_COLUMN_WIDTH}px; padding-left: calc(var(--tbw-cell-padding, 8px) + ${EXPANDER_COLUMN_WIDTH}px); } /* Expander cell contents */ .expander-cell { display: flex; align-items: center; justify-content: center; width: 100%; height: 100%; cursor: pointer; } `",
          "description": "CSS styles for the expander column.\r\nPlugins should include this in their styles to ensure consistent appearance."
        }
      ],
      "exports": [
        {
          "kind": "js",
          "name": "EXPANDER_COLUMN_FIELD",
          "declaration": {
            "name": "EXPANDER_COLUMN_FIELD",
            "module": "src/lib/core/plugin/expander-column.ts"
          }
        },
        {
          "kind": "js",
          "name": "EXPANDER_COLUMN_WIDTH",
          "declaration": {
            "name": "EXPANDER_COLUMN_WIDTH",
            "module": "src/lib/core/plugin/expander-column.ts"
          }
        },
        {
          "kind": "js",
          "name": "isExpanderColumn",
          "declaration": {
            "name": "isExpanderColumn",
            "module": "src/lib/core/plugin/expander-column.ts"
          }
        },
        {
          "kind": "js",
          "name": "isUtilityColumn",
          "declaration": {
            "name": "isUtilityColumn",
            "module": "src/lib/core/plugin/expander-column.ts"
          }
        },
        {
          "kind": "js",
          "name": "findExpanderColumn",
          "declaration": {
            "name": "findExpanderColumn",
            "module": "src/lib/core/plugin/expander-column.ts"
          }
        },
        {
          "kind": "js",
          "name": "createExpanderColumnConfig",
          "declaration": {
            "name": "createExpanderColumnConfig",
            "module": "src/lib/core/plugin/expander-column.ts"
          }
        },
        {
          "kind": "js",
          "name": "createExpanderContainer",
          "declaration": {
            "name": "createExpanderContainer",
            "module": "src/lib/core/plugin/expander-column.ts"
          }
        },
        {
          "kind": "js",
          "name": "EXPANDER_COLUMN_STYLES",
          "declaration": {
            "name": "EXPANDER_COLUMN_STYLES",
            "module": "src/lib/core/plugin/expander-column.ts"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/core/plugin/index.ts",
      "declarations": [],
      "exports": [
        {
          "kind": "js",
          "name": "BaseGridPlugin",
          "declaration": {
            "name": "BaseGridPlugin",
            "module": "./base-plugin"
          }
        },
        {
          "kind": "js",
          "name": "PLUGIN_QUERIES",
          "declaration": {
            "name": "PLUGIN_QUERIES",
            "module": "./base-plugin"
          }
        },
        {
          "kind": "js",
          "name": "AfterCellRenderContext",
          "declaration": {
            "name": "AfterCellRenderContext",
            "module": "./base-plugin"
          }
        },
        {
          "kind": "js",
          "name": "AfterRowRenderContext",
          "declaration": {
            "name": "AfterRowRenderContext",
            "module": "./base-plugin"
          }
        },
        {
          "kind": "js",
          "name": "CellClickEvent",
          "declaration": {
            "name": "CellClickEvent",
            "module": "./base-plugin"
          }
        },
        {
          "kind": "js",
          "name": "CellCoords",
          "declaration": {
            "name": "CellCoords",
            "module": "./base-plugin"
          }
        },
        {
          "kind": "js",
          "name": "CellEditor",
          "declaration": {
            "name": "CellEditor",
            "module": "./base-plugin"
          }
        },
        {
          "kind": "js",
          "name": "CellMouseEvent",
          "declaration": {
            "name": "CellMouseEvent",
            "module": "./base-plugin"
          }
        },
        {
          "kind": "js",
          "name": "CellRenderer",
          "declaration": {
            "name": "CellRenderer",
            "module": "./base-plugin"
          }
        },
        {
          "kind": "js",
          "name": "ContextMenuItem",
          "declaration": {
            "name": "ContextMenuItem",
            "module": "./base-plugin"
          }
        },
        {
          "kind": "js",
          "name": "ContextMenuParams",
          "declaration": {
            "name": "ContextMenuParams",
            "module": "./base-plugin"
          }
        },
        {
          "kind": "js",
          "name": "GridElement",
          "declaration": {
            "name": "GridElement",
            "module": "./base-plugin"
          }
        },
        {
          "kind": "js",
          "name": "HeaderClickEvent",
          "declaration": {
            "name": "HeaderClickEvent",
            "module": "./base-plugin"
          }
        },
        {
          "kind": "js",
          "name": "HeaderRenderer",
          "declaration": {
            "name": "HeaderRenderer",
            "module": "./base-plugin"
          }
        },
        {
          "kind": "js",
          "name": "KeyboardModifiers",
          "declaration": {
            "name": "KeyboardModifiers",
            "module": "./base-plugin"
          }
        },
        {
          "kind": "js",
          "name": "PluginCellRenderContext",
          "declaration": {
            "name": "PluginCellRenderContext",
            "module": "./base-plugin"
          }
        },
        {
          "kind": "js",
          "name": "PluginHeaderRenderContext",
          "declaration": {
            "name": "PluginHeaderRenderContext",
            "module": "./base-plugin"
          }
        },
        {
          "kind": "js",
          "name": "PluginQuery",
          "declaration": {
            "name": "PluginQuery",
            "module": "./base-plugin"
          }
        },
        {
          "kind": "js",
          "name": "RowClickEvent",
          "declaration": {
            "name": "RowClickEvent",
            "module": "./base-plugin"
          }
        },
        {
          "kind": "js",
          "name": "ScrollEvent",
          "declaration": {
            "name": "ScrollEvent",
            "module": "./base-plugin"
          }
        },
        {
          "kind": "js",
          "name": "PluginManager",
          "declaration": {
            "name": "PluginManager",
            "module": "./plugin-manager"
          }
        },
        {
          "kind": "js",
          "name": "EventDefinition",
          "declaration": {
            "name": "EventDefinition",
            "module": "./base-plugin"
          }
        },
        {
          "kind": "js",
          "name": "HookName",
          "declaration": {
            "name": "HookName",
            "module": "./base-plugin"
          }
        },
        {
          "kind": "js",
          "name": "PluginConfigRule",
          "declaration": {
            "name": "PluginConfigRule",
            "module": "./base-plugin"
          }
        },
        {
          "kind": "js",
          "name": "PluginDependency",
          "declaration": {
            "name": "PluginDependency",
            "module": "./base-plugin"
          }
        },
        {
          "kind": "js",
          "name": "PluginIncompatibility",
          "declaration": {
            "name": "PluginIncompatibility",
            "module": "./base-plugin"
          }
        },
        {
          "kind": "js",
          "name": "PluginManifest",
          "declaration": {
            "name": "PluginManifest",
            "module": "./base-plugin"
          }
        },
        {
          "kind": "js",
          "name": "PluginPropertyDefinition",
          "declaration": {
            "name": "PluginPropertyDefinition",
            "module": "./base-plugin"
          }
        },
        {
          "kind": "js",
          "name": "QueryDefinition",
          "declaration": {
            "name": "QueryDefinition",
            "module": "./base-plugin"
          }
        },
        {
          "kind": "js",
          "name": "ColumnConfig",
          "declaration": {
            "name": "ColumnConfig",
            "module": "../types"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/core/plugin/plugin-manager.ts",
      "declarations": [
        {
          "kind": "class",
          "description": "Manages plugins for a single grid instance.\r\n\r\nPlugins are executed in array order. This is intentional and documented behavior.\r\nPlace plugins in the order you want their hooks to execute.",
          "name": "PluginManager",
          "members": [
            {
              "kind": "field",
              "name": "plugins",
              "type": {
                "text": "BaseGridPlugin[]"
              },
              "privacy": "private",
              "default": "[]",
              "description": "Plugin instances in order of attachment"
            },
            {
              "kind": "method",
              "name": "getPlugins",
              "return": {
                "type": {
                  "text": "readonly BaseGridPlugin[]"
                }
              },
              "description": "Get all registered plugins (read-only)"
            },
            {
              "kind": "field",
              "name": "pluginMap",
              "type": {
                "text": "Map<new (...args: unknown[]) => BaseGridPlugin, BaseGridPlugin>"
              },
              "privacy": "private",
              "default": "new Map()",
              "description": "Map from plugin class to instance for fast lookup"
            },
            {
              "kind": "field",
              "name": "cellRenderers",
              "type": {
                "text": "Map<string, CellRenderer>"
              },
              "privacy": "private",
              "default": "new Map()",
              "description": "Cell renderers registered by plugins"
            },
            {
              "kind": "field",
              "name": "headerRenderers",
              "type": {
                "text": "Map<string, HeaderRenderer>"
              },
              "privacy": "private",
              "default": "new Map()",
              "description": "Header renderers registered by plugins"
            },
            {
              "kind": "field",
              "name": "cellEditors",
              "type": {
                "text": "Map<string, CellEditor>"
              },
              "privacy": "private",
              "default": "new Map()",
              "description": "Cell editors registered by plugins"
            },
            {
              "kind": "field",
              "name": "eventListeners",
              "type": {
                "text": "Map<string, Map<BaseGridPlugin, (detail: unknown) => void>>"
              },
              "privacy": "private",
              "default": "new Map()",
              "description": "Event listeners indexed by event type.\r\nMaps event type → Map<plugin instance → callback>.\r\nUsing plugin instance as key enables auto-cleanup on detach."
            },
            {
              "kind": "field",
              "name": "queryHandlers",
              "type": {
                "text": "Map<string, Set<BaseGridPlugin>>"
              },
              "privacy": "private",
              "default": "new Map()",
              "description": "Query handlers indexed by query type.\r\nMaps query type → Set of plugin instances that declare handling it.\r\nBuilt from manifest.queries during plugin attach."
            },
            {
              "kind": "method",
              "name": "attachAll",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "plugins",
                  "type": {
                    "text": "BaseGridPlugin[]"
                  }
                }
              ],
              "description": "Attach all plugins from the config."
            },
            {
              "kind": "method",
              "name": "attach",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "plugin",
                  "type": {
                    "text": "BaseGridPlugin"
                  }
                }
              ],
              "description": "Attach a plugin to this grid.\r\nValidates dependencies and notifies other plugins of the new attachment."
            },
            {
              "kind": "method",
              "name": "registerQueryHandlers",
              "privacy": "private",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "plugin",
                  "type": {
                    "text": "BaseGridPlugin"
                  }
                }
              ],
              "description": "Register query handlers from a plugin's manifest."
            },
            {
              "kind": "method",
              "name": "unregisterQueryHandlers",
              "privacy": "private",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "plugin",
                  "type": {
                    "text": "BaseGridPlugin"
                  }
                }
              ],
              "description": "Unregister query handlers for a plugin."
            },
            {
              "kind": "method",
              "name": "detachAll",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "description": "Detach all plugins and clean up.\r\nNotifies plugins of detachment via onPluginDetached hook."
            },
            {
              "kind": "method",
              "name": "getPlugin",
              "return": {
                "type": {
                  "text": "T | undefined"
                }
              },
              "parameters": [
                {
                  "name": "PluginClass",
                  "type": {
                    "text": "new (...args: any[]) => T"
                  }
                }
              ],
              "description": "Get a plugin instance by its class."
            },
            {
              "kind": "method",
              "name": "getPluginByName",
              "return": {
                "type": {
                  "text": "BaseGridPlugin | undefined"
                }
              },
              "parameters": [
                {
                  "name": "name",
                  "type": {
                    "text": "string"
                  }
                }
              ],
              "description": "Get a plugin instance by its name."
            },
            {
              "kind": "method",
              "name": "hasPlugin",
              "return": {
                "type": {
                  "text": "boolean"
                }
              },
              "parameters": [
                {
                  "name": "PluginClass",
                  "type": {
                    "text": "new (...args: any[]) => T"
                  }
                }
              ],
              "description": "Check if a plugin is attached."
            },
            {
              "kind": "method",
              "name": "getAll",
              "return": {
                "type": {
                  "text": "readonly BaseGridPlugin[]"
                }
              },
              "description": "Get all attached plugins."
            },
            {
              "kind": "method",
              "name": "getRegisteredPluginNames",
              "return": {
                "type": {
                  "text": "string[]"
                }
              },
              "description": "Get names of all registered plugins (for debugging)."
            },
            {
              "kind": "method",
              "name": "getCellRenderer",
              "return": {
                "type": {
                  "text": "CellRenderer | undefined"
                }
              },
              "parameters": [
                {
                  "name": "type",
                  "type": {
                    "text": "string"
                  }
                }
              ],
              "description": "Get a cell renderer by type name."
            },
            {
              "kind": "method",
              "name": "getHeaderRenderer",
              "return": {
                "type": {
                  "text": "HeaderRenderer | undefined"
                }
              },
              "parameters": [
                {
                  "name": "type",
                  "type": {
                    "text": "string"
                  }
                }
              ],
              "description": "Get a header renderer by type name."
            },
            {
              "kind": "method",
              "name": "getCellEditor",
              "return": {
                "type": {
                  "text": "CellEditor | undefined"
                }
              },
              "parameters": [
                {
                  "name": "type",
                  "type": {
                    "text": "string"
                  }
                }
              ],
              "description": "Get a cell editor by type name."
            },
            {
              "kind": "method",
              "name": "getPluginStyles",
              "return": {
                "type": {
                  "text": "Array<{ name: string; styles: string }>"
                }
              },
              "description": "Get all CSS styles from all plugins as structured data.\r\nReturns an array of { name, styles } for each plugin with styles."
            },
            {
              "kind": "method",
              "name": "processRows",
              "return": {
                "type": {
                  "text": "any[]"
                }
              },
              "parameters": [
                {
                  "name": "rows",
                  "type": {
                    "text": "readonly any[]"
                  }
                }
              ],
              "description": "Execute processRows hook on all plugins."
            },
            {
              "kind": "method",
              "name": "processColumns",
              "return": {
                "type": {
                  "text": "ColumnConfig[]"
                }
              },
              "parameters": [
                {
                  "name": "columns",
                  "type": {
                    "text": "readonly ColumnConfig[]"
                  }
                }
              ],
              "description": "Execute processColumns hook on all plugins."
            },
            {
              "kind": "method",
              "name": "beforeRender",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "description": "Execute beforeRender hook on all plugins."
            },
            {
              "kind": "method",
              "name": "afterRender",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "description": "Execute afterRender hook on all plugins."
            },
            {
              "kind": "method",
              "name": "afterCellRender",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "context",
                  "type": {
                    "text": "AfterCellRenderContext"
                  },
                  "description": "The cell render context"
                }
              ],
              "description": "Execute afterCellRender hook on all plugins for a single cell.\r\nCalled during cell rendering for efficient cell-level modifications."
            },
            {
              "kind": "method",
              "name": "hasAfterCellRenderHook",
              "return": {
                "type": {
                  "text": "boolean"
                }
              },
              "description": "Check if any plugin has the afterCellRender hook implemented.\r\nUsed to skip the hook call overhead when no plugins need it."
            },
            {
              "kind": "method",
              "name": "afterRowRender",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "context",
                  "type": {
                    "text": "AfterRowRenderContext"
                  },
                  "description": "The row render context"
                }
              ],
              "description": "Execute afterRowRender hook on all plugins for a single row.\r\nCalled after all cells in a row are rendered for efficient row-level modifications."
            },
            {
              "kind": "method",
              "name": "hasAfterRowRenderHook",
              "return": {
                "type": {
                  "text": "boolean"
                }
              },
              "description": "Check if any plugin has the afterRowRender hook implemented.\r\nUsed to skip the hook call overhead when no plugins need it."
            },
            {
              "kind": "method",
              "name": "onScrollRender",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "description": "Execute onScrollRender hook on all plugins.\r\nCalled after scroll-triggered row rendering for lightweight visual state updates."
            },
            {
              "kind": "method",
              "name": "getExtraHeight",
              "return": {
                "type": {
                  "text": "number"
                }
              },
              "description": "Get total extra height contributed by plugins (e.g., expanded detail rows).\r\nUsed to adjust scrollbar height calculations."
            },
            {
              "kind": "method",
              "name": "hasExtraHeight",
              "return": {
                "type": {
                  "text": "boolean"
                }
              },
              "description": "Check if any plugin is contributing extra height.\r\nWhen true, plugins are managing variable row heights and the grid should\r\nnot override the base row height via #measureRowHeight()."
            },
            {
              "kind": "method",
              "name": "getExtraHeightBefore",
              "return": {
                "type": {
                  "text": "number"
                }
              },
              "parameters": [
                {
                  "name": "beforeRowIndex",
                  "type": {
                    "text": "number"
                  }
                }
              ],
              "description": "Get extra height from plugins that appears before a given row index.\r\nUsed by virtualization to correctly position the scroll window."
            },
            {
              "kind": "method",
              "name": "adjustVirtualStart",
              "return": {
                "type": {
                  "text": "number"
                }
              },
              "parameters": [
                {
                  "name": "start",
                  "type": {
                    "text": "number"
                  }
                },
                {
                  "name": "scrollTop",
                  "type": {
                    "text": "number"
                  }
                },
                {
                  "name": "rowHeight",
                  "type": {
                    "text": "number"
                  }
                }
              ],
              "description": "Adjust the virtualization start index based on plugin needs.\r\nReturns the minimum start index from all plugins."
            },
            {
              "kind": "method",
              "name": "renderRow",
              "return": {
                "type": {
                  "text": "boolean"
                }
              },
              "parameters": [
                {
                  "name": "row",
                  "type": {
                    "text": "any"
                  }
                },
                {
                  "name": "rowEl",
                  "type": {
                    "text": "HTMLElement"
                  }
                },
                {
                  "name": "rowIndex",
                  "type": {
                    "text": "number"
                  }
                }
              ],
              "description": "Execute renderRow hook on all plugins.\r\nReturns true if any plugin handled the row."
            },
            {
              "kind": "method",
              "name": "queryPlugins",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "query",
                  "type": {
                    "text": "PluginQuery"
                  },
                  "description": "The query object containing type and context"
                }
              ],
              "description": "Query all plugins with a generic query and collect responses.\r\nThis enables inter-plugin communication without the core knowing plugin-specific concepts.\r\n\r\nUses manifest-based routing when available: only plugins that declare handling\r\nthe query type in their `manifest.queries` are invoked. Falls back to querying\r\nall plugins for backwards compatibility with legacy plugins.\r\n\r\nChecks both `handleQuery` (preferred) and `onPluginQuery` (legacy) hooks."
            },
            {
              "kind": "method",
              "name": "subscribe",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "plugin",
                  "type": {
                    "text": "BaseGridPlugin"
                  },
                  "description": "The subscribing plugin instance"
                },
                {
                  "name": "eventType",
                  "type": {
                    "text": "string"
                  },
                  "description": "The event type to listen for"
                },
                {
                  "name": "callback",
                  "type": {
                    "text": "(detail: unknown) => void"
                  },
                  "description": "The callback to invoke when the event is emitted"
                }
              ],
              "description": "Subscribe a plugin to an event type.\r\nThe subscription is automatically cleaned up when the plugin is detached."
            },
            {
              "kind": "method",
              "name": "unsubscribe",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "plugin",
                  "type": {
                    "text": "BaseGridPlugin"
                  },
                  "description": "The subscribing plugin instance"
                },
                {
                  "name": "eventType",
                  "type": {
                    "text": "string"
                  },
                  "description": "The event type to stop listening for"
                }
              ],
              "description": "Unsubscribe a plugin from an event type."
            },
            {
              "kind": "method",
              "name": "unsubscribeAll",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "plugin",
                  "type": {
                    "text": "BaseGridPlugin"
                  },
                  "description": "The plugin to unsubscribe"
                }
              ],
              "description": "Unsubscribe a plugin from all events.\r\nCalled automatically when a plugin is detached."
            },
            {
              "kind": "method",
              "name": "emitPluginEvent",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "eventType",
                  "type": {
                    "text": "string"
                  },
                  "description": "The event type to emit"
                },
                {
                  "name": "detail",
                  "type": {
                    "text": "T"
                  },
                  "description": "The event payload"
                }
              ],
              "description": "Emit an event to all subscribed plugins.\r\nThis is for inter-plugin communication only; it does not dispatch DOM events."
            },
            {
              "kind": "method",
              "name": "onKeyDown",
              "return": {
                "type": {
                  "text": "boolean"
                }
              },
              "parameters": [
                {
                  "name": "event",
                  "type": {
                    "text": "KeyboardEvent"
                  }
                }
              ],
              "description": "Execute onKeyDown hook on all plugins.\r\nReturns true if any plugin handled the event."
            },
            {
              "kind": "method",
              "name": "onCellClick",
              "return": {
                "type": {
                  "text": "boolean"
                }
              },
              "parameters": [
                {
                  "name": "event",
                  "type": {
                    "text": "CellClickEvent"
                  }
                }
              ],
              "description": "Execute onCellClick hook on all plugins.\r\nReturns true if any plugin handled the event."
            },
            {
              "kind": "method",
              "name": "onRowClick",
              "return": {
                "type": {
                  "text": "boolean"
                }
              },
              "parameters": [
                {
                  "name": "event",
                  "type": {
                    "text": "RowClickEvent"
                  }
                }
              ],
              "description": "Execute onRowClick hook on all plugins.\r\nReturns true if any plugin handled the event."
            },
            {
              "kind": "method",
              "name": "onHeaderClick",
              "return": {
                "type": {
                  "text": "boolean"
                }
              },
              "parameters": [
                {
                  "name": "event",
                  "type": {
                    "text": "HeaderClickEvent"
                  }
                }
              ],
              "description": "Execute onHeaderClick hook on all plugins.\r\nReturns true if any plugin handled the event."
            },
            {
              "kind": "method",
              "name": "onScroll",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "event",
                  "type": {
                    "text": "ScrollEvent"
                  }
                }
              ],
              "description": "Execute onScroll hook on all plugins."
            },
            {
              "kind": "method",
              "name": "onCellMouseDown",
              "return": {
                "type": {
                  "text": "boolean"
                }
              },
              "parameters": [
                {
                  "name": "event",
                  "type": {
                    "text": "CellMouseEvent"
                  }
                }
              ],
              "description": "Execute onCellMouseDown hook on all plugins.\r\nReturns true if any plugin handled the event."
            },
            {
              "kind": "method",
              "name": "onCellMouseMove",
              "return": {
                "type": {
                  "text": "boolean"
                }
              },
              "parameters": [
                {
                  "name": "event",
                  "type": {
                    "text": "CellMouseEvent"
                  }
                }
              ],
              "description": "Execute onCellMouseMove hook on all plugins.\r\nReturns true if any plugin handled the event."
            },
            {
              "kind": "method",
              "name": "onCellMouseUp",
              "return": {
                "type": {
                  "text": "boolean"
                }
              },
              "parameters": [
                {
                  "name": "event",
                  "type": {
                    "text": "CellMouseEvent"
                  }
                }
              ],
              "description": "Execute onCellMouseUp hook on all plugins.\r\nReturns true if any plugin handled the event."
            },
            {
              "kind": "method",
              "name": "getHorizontalScrollOffsets",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "rowEl",
                  "optional": true,
                  "type": {
                    "text": "HTMLElement"
                  },
                  "description": "The row element (optional, for calculating widths from rendered cells)"
                },
                {
                  "name": "focusedCell",
                  "optional": true,
                  "type": {
                    "text": "HTMLElement"
                  },
                  "description": "The currently focused cell element (optional, to determine if scrolling should be skipped)"
                }
              ],
              "description": "Collect horizontal scroll boundary offsets from all plugins.\r\nCombines offsets from all plugins that report them."
            },
            {
              "kind": "method",
              "name": "getToolPanels",
              "return": {
                "type": {
                  "text": "{\r\n    plugin: BaseGridPlugin;\r\n    panel: NonNullable<ReturnType<NonNullable<BaseGridPlugin['getToolPanel']>>>;\r\n  }[]"
                }
              },
              "description": "Collect tool panels from all plugins.\r\nReturns panels sorted by order (ascending)."
            },
            {
              "kind": "method",
              "name": "getHeaderContents",
              "return": {
                "type": {
                  "text": "{\r\n    plugin: BaseGridPlugin;\r\n    content: NonNullable<ReturnType<NonNullable<BaseGridPlugin['getHeaderContent']>>>;\r\n  }[]"
                }
              },
              "description": "Collect header contents from all plugins.\r\nReturns contents sorted by order (ascending)."
            }
          ]
        }
      ],
      "exports": [
        {
          "kind": "js",
          "name": "PluginManager",
          "declaration": {
            "name": "PluginManager",
            "module": "src/lib/core/plugin/plugin-manager.ts"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/core/plugin/types.ts",
      "declarations": [
        {
          "kind": "variable",
          "name": "PLUGIN_QUERIES",
          "type": {
            "text": "{\r\n  /** Ask if a column can be moved. Context: ColumnConfig. Response: boolean | undefined */\r\n  CAN_MOVE_COLUMN: 'canMoveColumn',\r\n  /** Get context menu items. Context: ContextMenuParams. Response: ContextMenuItem[] */\r\n  GET_CONTEXT_MENU_ITEMS: 'getContextMenuItems',\r\n}"
          },
          "default": "{ /** Ask if a column can be moved. Context: ColumnConfig. Response: boolean | undefined */ CAN_MOVE_COLUMN: 'canMoveColumn', /** Get context menu items. Context: ContextMenuParams. Response: ContextMenuItem[] */ GET_CONTEXT_MENU_ITEMS: 'getContextMenuItems', }",
          "description": "Well-known plugin query types.\r\nPlugins can define additional query types beyond these.",
          "deprecated": "Use string literals with `grid.query()` instead. Query types should\r\nbe declared in the responding plugin's `manifest.queries` for automatic routing.\r\nThis constant will be removed in a future major version."
        }
      ],
      "exports": [
        {
          "kind": "js",
          "name": "PLUGIN_QUERIES",
          "declaration": {
            "name": "PLUGIN_QUERIES",
            "module": "src/lib/core/plugin/types.ts"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/context-menu/context-menu.spec.ts",
      "declarations": [],
      "exports": []
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/context-menu/context-menu.stories.ts",
      "declarations": [
        {
          "kind": "variable",
          "name": "meta",
          "type": {
            "text": "Meta"
          },
          "default": "{ title: 'Grid/Plugins/Context Menu', tags: ['!dev'], parameters: { layout: 'fullscreen' }, }"
        },
        {
          "kind": "variable",
          "name": "Default",
          "type": {
            "text": "Story"
          },
          "default": "{ parameters: { docs: { source: { code: ` <!-- HTML --> <tbw-grid style=\"height: 350px;\"></tbw-grid> <script type=\"module\"> import '@toolbox-web/grid'; import { ContextMenuPlugin } from '@toolbox-web/grid/plugins/context-menu'; const grid = document.querySelector('tbw-grid'); grid.gridConfig = { columns: [ { field: 'id', header: 'ID', type: 'number' }, { field: 'name', header: 'Name' }, { field: 'email', header: 'Email' }, { field: 'status', header: 'Status' }, ], plugins: [ new ContextMenuPlugin({ items: [ { id: 'copy', name: 'Copy Row', icon: '📋', shortcut: 'Ctrl+C', action: (p) => console.log('Copy', p.row) }, { id: 'edit', name: 'Edit Row', icon: '✏️', action: (p) => console.log('Edit', p.row) }, { id: 'sep1', name: '', separator: true }, { id: 'duplicate', name: 'Duplicate', icon: '📄', action: (p) => console.log('Duplicate', p.row) }, { id: 'sep2', name: '', separator: true }, { id: 'delete', name: 'Delete', icon: '🗑️', cssClass: 'danger', action: (p) => console.log('Delete', p.row) }, ], }), ], }; grid.rows = [ { id: 1, name: 'Alice', email: 'alice@example.com', status: 'active' }, { id: 2, name: 'Bob', email: 'bob@example.com', status: 'pending' }, { id: 3, name: 'Carol', email: 'carol@example.com', status: 'active' }, { id: 4, name: 'Dan', email: 'dan@example.com', status: 'inactive' }, ]; </script> `, language: 'html', }, }, }, render: () => { const grid = document.createElement('tbw-grid') as GridElement; grid.style.height = '350px'; grid.gridConfig = { columns, plugins: [new ContextMenuPlugin({ items: defaultMenuItems })], }; grid.rows = sampleData; return grid; }, }",
          "description": "Right-click on any row to show the context menu with icons, shortcuts, and actions."
        },
        {
          "kind": "variable",
          "name": "WithSubmenus",
          "type": {
            "text": "Story"
          },
          "default": "{ parameters: { docs: { source: { code: ` <!-- HTML --> <tbw-grid style=\"height: 350px;\"></tbw-grid> <script type=\"module\"> import '@toolbox-web/grid'; import { ContextMenuPlugin } from '@toolbox-web/grid/plugins/context-menu'; const grid = document.querySelector('tbw-grid'); grid.gridConfig = { columns: [ { field: 'id', header: 'ID', type: 'number' }, { field: 'name', header: 'Name' }, { field: 'email', header: 'Email' }, { field: 'status', header: 'Status' }, ], plugins: [ new ContextMenuPlugin({ items: [ { id: 'view', name: 'View', icon: '👁️', action: () => console.log('View') }, { id: 'edit', name: 'Edit', icon: '✏️', action: () => console.log('Edit') }, { id: 'sep1', name: '', separator: true }, { id: 'export', name: 'Export', icon: '📤', subMenu: [ { id: 'csv', name: 'As CSV', action: () => console.log('Export CSV') }, { id: 'json', name: 'As JSON', action: () => console.log('Export JSON') }, { id: 'excel', name: 'As Excel', action: () => console.log('Export Excel') }, ], }, { id: 'share', name: 'Share', icon: '🔗', subMenu: [ { id: 'email', name: 'Email', icon: '📧', action: () => console.log('Share Email') }, { id: 'slack', name: 'Slack', icon: '💬', action: () => console.log('Share Slack') }, ], }, ], }), ], }; grid.rows = [ { id: 1, name: 'Alice', email: 'alice@example.com', status: 'active' }, { id: 2, name: 'Bob', email: 'bob@example.com', status: 'pending' }, { id: 3, name: 'Carol', email: 'carol@example.com', status: 'active' }, { id: 4, name: 'Dan', email: 'dan@example.com', status: 'inactive' }, ]; </script> `, language: 'html', }, }, }, render: () => { const grid = document.createElement('tbw-grid') as GridElement; grid.style.height = '350px'; const menuItems: ContextMenuItem[] = [ { id: 'view', name: 'View', icon: '👁️', action: () => console.log('View') }, { id: 'edit', name: 'Edit', icon: '✏️', action: () => console.log('Edit') }, { id: 'sep1', name: '', separator: true }, { id: 'export', name: 'Export', icon: '📤', subMenu: [ { id: 'csv', name: 'As CSV', action: () => console.log('Export CSV') }, { id: 'json', name: 'As JSON', action: () => console.log('Export JSON') }, { id: 'excel', name: 'As Excel', action: () => console.log('Export Excel') }, ], }, { id: 'share', name: 'Share', icon: '🔗', subMenu: [ { id: 'email', name: 'Email', icon: '📧', action: () => console.log('Share Email') }, { id: 'slack', name: 'Slack', icon: '💬', action: () => console.log('Share Slack') }, ], }, ]; grid.gridConfig = { columns, plugins: [new ContextMenuPlugin({ items: menuItems })], }; grid.rows = sampleData; return grid; }, }",
          "description": "Nested submenus for complex menu hierarchies."
        },
        {
          "kind": "variable",
          "name": "ConditionalItems",
          "type": {
            "text": "Story"
          },
          "default": "{ parameters: { docs: { source: { code: ` <!-- HTML --> <tbw-grid style=\"height: 350px;\"></tbw-grid> <script type=\"module\"> import '@toolbox-web/grid'; import { ContextMenuPlugin } from '@toolbox-web/grid/plugins/context-menu'; const grid = document.querySelector('tbw-grid'); grid.gridConfig = { columns: [ { field: 'id', header: 'ID', type: 'number' }, { field: 'name', header: 'Name' }, { field: 'email', header: 'Email' }, { field: 'status', header: 'Status' }, ], plugins: [ new ContextMenuPlugin({ items: [ { id: 'activate', name: 'Activate', icon: '✅', // Disable when row is already active disabled: (params) => params.row?.status === 'active', action: (p) => console.log('Activate', p.row), }, { id: 'deactivate', name: 'Deactivate', icon: '⏸️', // Disable when row is not active disabled: (params) => params.row?.status !== 'active', action: (p) => console.log('Deactivate', p.row), }, { id: 'sep1', name: '', separator: true }, { id: 'delete', name: 'Delete', icon: '🗑️', cssClass: 'danger', action: (p) => console.log('Delete', p.row) }, ], }), ], }; grid.rows = [ { id: 1, name: 'Alice', email: 'alice@example.com', status: 'active' }, { id: 2, name: 'Bob', email: 'bob@example.com', status: 'pending' }, { id: 3, name: 'Carol', email: 'carol@example.com', status: 'active' }, { id: 4, name: 'Dan', email: 'dan@example.com', status: 'inactive' }, ]; </script> `, language: 'html', }, }, }, render: () => { const grid = document.createElement('tbw-grid') as GridElement; grid.style.height = '350px'; const menuItems: ContextMenuItem[] = [ { id: 'activate', name: 'Activate', icon: '✅', disabled: (params) => (params.row as { status?: string })?.status === 'active', action: (p) => console.log('Activate', p.row), }, { id: 'deactivate', name: 'Deactivate', icon: '⏸️', disabled: (params) => (params.row as { status?: string })?.status !== 'active', action: (p) => console.log('Deactivate', p.row), }, { id: 'sep1', name: '', separator: true }, { id: 'delete', name: 'Delete', icon: '🗑️', cssClass: 'danger', action: (p) => console.log('Delete', p.row) }, ]; grid.gridConfig = { columns, plugins: [new ContextMenuPlugin({ items: menuItems })], }; grid.rows = sampleData; return grid; }, }",
          "description": "Dynamically disable menu items based on row data."
        }
      ],
      "exports": [
        {
          "kind": "js",
          "name": "default",
          "declaration": {
            "name": "meta",
            "module": "src/lib/plugins/context-menu/context-menu.stories.ts"
          }
        },
        {
          "kind": "js",
          "name": "Default",
          "declaration": {
            "name": "Default",
            "module": "src/lib/plugins/context-menu/context-menu.stories.ts"
          }
        },
        {
          "kind": "js",
          "name": "WithSubmenus",
          "declaration": {
            "name": "WithSubmenus",
            "module": "src/lib/plugins/context-menu/context-menu.stories.ts"
          }
        },
        {
          "kind": "js",
          "name": "ConditionalItems",
          "declaration": {
            "name": "ConditionalItems",
            "module": "src/lib/plugins/context-menu/context-menu.stories.ts"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/context-menu/ContextMenuPlugin.ts",
      "declarations": [],
      "exports": []
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/context-menu/index.ts",
      "declarations": [],
      "exports": [
        {
          "kind": "js",
          "name": "ContextMenuPlugin",
          "declaration": {
            "name": "ContextMenuPlugin",
            "module": "./ContextMenuPlugin"
          }
        },
        {
          "kind": "js",
          "name": "ContextMenuConfig",
          "declaration": {
            "name": "ContextMenuConfig",
            "module": "./types"
          }
        },
        {
          "kind": "js",
          "name": "ContextMenuItem",
          "declaration": {
            "name": "ContextMenuItem",
            "module": "./types"
          }
        },
        {
          "kind": "js",
          "name": "ContextMenuParams",
          "declaration": {
            "name": "ContextMenuParams",
            "module": "./types"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/context-menu/menu.ts",
      "declarations": [
        {
          "kind": "function",
          "name": "buildMenuItems",
          "return": {
            "type": {
              "text": ""
            }
          },
          "parameters": [
            {
              "name": "items",
              "type": {
                "text": "ContextMenuItem[] | ((params: ContextMenuParams) => ContextMenuItem[])"
              },
              "description": "Menu items configuration (array or factory function)"
            },
            {
              "name": "params",
              "type": {
                "text": "ContextMenuParams"
              },
              "description": "Context menu parameters for evaluating dynamic properties"
            }
          ],
          "description": "Build the visible menu items by resolving dynamic items and filtering hidden ones."
        },
        {
          "kind": "function",
          "name": "isItemDisabled",
          "return": {
            "type": {
              "text": ""
            }
          },
          "parameters": [
            {
              "name": "item",
              "type": {
                "text": "ContextMenuItem"
              },
              "description": "The menu item to check"
            },
            {
              "name": "params",
              "type": {
                "text": "ContextMenuParams"
              },
              "description": "Context menu parameters for evaluating dynamic disabled state"
            }
          ],
          "description": "Check if a menu item is disabled."
        },
        {
          "kind": "function",
          "name": "createMenuElement",
          "return": {
            "type": {
              "text": ""
            }
          },
          "parameters": [
            {
              "name": "items",
              "type": {
                "text": "ContextMenuItem[]"
              },
              "description": "Array of menu items to render"
            },
            {
              "name": "params",
              "type": {
                "text": "ContextMenuParams"
              },
              "description": "Context menu parameters for evaluating dynamic properties"
            },
            {
              "name": "onAction",
              "type": {
                "text": "(item: ContextMenuItem) => void"
              },
              "description": "Callback when a menu item action is triggered"
            },
            {
              "name": "submenuArrow",
              "default": "DEFAULT_GRID_ICONS.submenuArrow",
              "type": {
                "text": "IconValue"
              },
              "description": "Optional custom submenu arrow icon"
            }
          ],
          "description": "Create the menu DOM element from a list of menu items."
        },
        {
          "kind": "function",
          "name": "positionMenu",
          "return": {
            "type": {
              "text": "void"
            }
          },
          "parameters": [
            {
              "name": "menu",
              "type": {
                "text": "HTMLElement"
              },
              "description": "The menu element to position"
            },
            {
              "name": "x",
              "type": {
                "text": "number"
              },
              "description": "Desired X coordinate (viewport)"
            },
            {
              "name": "y",
              "type": {
                "text": "number"
              },
              "description": "Desired Y coordinate (viewport)"
            }
          ],
          "description": "Position the menu at the given viewport coordinates.\r\nMenu is rendered in document.body with fixed positioning for top-layer behavior."
        }
      ],
      "exports": [
        {
          "kind": "js",
          "name": "buildMenuItems",
          "declaration": {
            "name": "buildMenuItems",
            "module": "src/lib/plugins/context-menu/menu.ts"
          }
        },
        {
          "kind": "js",
          "name": "isItemDisabled",
          "declaration": {
            "name": "isItemDisabled",
            "module": "src/lib/plugins/context-menu/menu.ts"
          }
        },
        {
          "kind": "js",
          "name": "createMenuElement",
          "declaration": {
            "name": "createMenuElement",
            "module": "src/lib/plugins/context-menu/menu.ts"
          }
        },
        {
          "kind": "js",
          "name": "positionMenu",
          "declaration": {
            "name": "positionMenu",
            "module": "src/lib/plugins/context-menu/menu.ts"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/context-menu/types.ts",
      "declarations": [],
      "exports": []
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/editing/editing-integration.spec.ts",
      "declarations": [],
      "exports": []
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/editing/editing.stories.ts",
      "declarations": [
        {
          "kind": "variable",
          "name": "meta",
          "type": {
            "text": "Meta"
          },
          "default": "{ title: 'Grid/Plugins/Editing', tags: ['!dev'], parameters: { layout: 'fullscreen', }, }"
        },
        {
          "kind": "variable",
          "name": "AddRemoveRows",
          "type": {
            "text": "Story"
          },
          "default": "{ parameters: { docs: { source: { code: ` import '@toolbox-web/grid'; import { queryGrid } from '@toolbox-web/grid'; import { EditingPlugin } from '@toolbox-web/grid/plugins/editing'; const grid = queryGrid('tbw-grid'); const addButton = document.querySelector('#add-row-btn'); let idCounter = 4; grid.gridConfig = { columns: [ { field: 'id', header: 'ID' }, { field: 'name', header: 'Name', editable: true }, { field: 'email', header: 'Email', editable: true }, { field: 'actions', header: 'Actions', renderer: (ctx) => { const btn = document.createElement('button'); btn.textContent = 'Delete'; btn.onclick = () => { grid.rows = grid.rows.filter(r => r.id !== ctx.row.id); }; return btn; }, }, ], plugins: [new EditingPlugin({ editOn: 'dblclick' })], }; grid.rows = [ { id: 1, name: 'Alice', email: 'alice@example.com' }, { id: 2, name: 'Bob', email: 'bob@example.com' }, { id: 3, name: 'Carol', email: 'carol@example.com' }, ]; // Add new row when button is clicked addButton.addEventListener('click', () => { grid.rows = [ ...grid.rows, { id: idCounter++, name: '', email: '' }, ]; }); `, language: 'ts', }, }, }, render: () => { const container = document.createElement('div'); container.style.cssText = 'display: flex; flex-direction: column; height: 350px;'; // Toolbar with Add Row button const toolbar = document.createElement('div'); toolbar.style.cssText = 'padding: 8px; border-bottom: 1px solid #e5e7eb; display: flex; gap: 8px;'; const addBtn = document.createElement('button'); addBtn.textContent = '+ Add Row'; addBtn.style.cssText = ` padding: 6px 12px; background: #3b82f6; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 14px; `; toolbar.appendChild(addBtn); container.appendChild(toolbar); // Grid const grid = document.createElement('tbw-grid') as GridElement; grid.style.cssText = 'flex: 1;'; let idCounter = 4; grid.gridConfig = { columns: [ { field: 'id', header: 'ID' }, { field: 'name', header: 'Name', editable: true }, { field: 'email', header: 'Email', editable: true }, { field: 'actions', header: 'Actions', renderer: (ctx) => { const btn = document.createElement('button'); btn.textContent = 'Delete'; btn.style.cssText = ` padding: 4px 8px; background: #ef4444; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 12px; `; btn.onclick = () => { grid.rows = grid.rows.filter((r) => r.id !== ctx.row.id); }; return btn; }, }, ], plugins: [new EditingPlugin({ editOn: 'dblclick' })], }; grid.rows = [ { id: 1, name: 'Alice', email: 'alice@example.com' }, { id: 2, name: 'Bob', email: 'bob@example.com' }, { id: 3, name: 'Carol', email: 'carol@example.com' }, ]; addBtn.addEventListener('click', () => { grid.rows = [...grid.rows, { id: idCounter++, name: '', email: '' }]; }); container.appendChild(grid); return container; }, }",
          "description": "## Add/Remove Rows\r\n\r\nDemonstrates how to dynamically add and remove rows from the grid.\r\nClick \"+ Add Row\" to insert a new editable row, or click the delete button to remove a row."
        },
        {
          "kind": "variable",
          "name": "BasicEditing",
          "type": {
            "text": "Story"
          },
          "default": "{ parameters: { docs: { source: { code: ` import '@toolbox-web/grid'; import { queryGrid } from '@toolbox-web/grid'; import { EditingPlugin } from '@toolbox-web/grid/plugins/editing'; const grid = queryGrid('tbw-grid'); grid.gridConfig = { columns: [ { field: 'name', header: 'Name', editable: true }, { field: 'score', header: 'Score', type: 'number', editable: true }, { field: 'role', header: 'Role', type: 'select', editable: true, options: [ { label: 'Admin', value: 'admin' }, { label: 'User', value: 'user' }, { label: 'Guest', value: 'guest' }, ] }, ], plugins: [new EditingPlugin({ editOn: 'dblclick' })], }; grid.rows = [ { name: 'Alice', score: 95, role: 'admin' }, { name: 'Bob', score: 82, role: 'user' }, { name: 'Carol', score: 91, role: 'guest' }, ]; grid.addEventListener('cell-commit', (e) => { console.log('Edited:', e.detail.field, '→', e.detail.newValue); }); `, language: 'ts', }, }, }, render: () => { const grid = document.createElement('tbw-grid') as GridElement; grid.style.height = '300px'; grid.gridConfig = { columns: [ { field: 'name', header: 'Name', editable: true }, { field: 'score', header: 'Score', type: 'number', editable: true }, { field: 'role', header: 'Role', type: 'select', editable: true, options: [ { label: 'Admin', value: 'admin' }, { label: 'User', value: 'user' }, { label: 'Guest', value: 'guest' }, ], }, ], plugins: [new EditingPlugin({ editOn: 'dblclick' })], }; grid.rows = [ { name: 'Alice', score: 95, role: 'admin' }, { name: 'Bob', score: 82, role: 'user' }, { name: 'Carol', score: 91, role: 'guest' }, ]; grid.addEventListener('cell-commit', (e: Event) => { const detail = (e as CustomEvent).detail; console.log('Edited:', detail.field, '→', detail.newValue); }); return grid; }, }",
          "description": "## Basic Editing\r\n\r\nEnable inline cell editing with the EditingPlugin. Double-click a cell to edit,\r\npress Enter to commit, or Escape to cancel."
        },
        {
          "kind": "variable",
          "name": "ClickToEdit",
          "type": {
            "text": "Story"
          },
          "default": "{ parameters: { docs: { source: { code: ` grid.gridConfig = { columns: [ { field: 'name', header: 'Name', editable: true }, { field: 'email', header: 'Email', editable: true }, ], plugins: [new EditingPlugin({ editOn: 'click' })], }; `, language: 'ts', }, }, }, render: () => { const grid = document.createElement('tbw-grid') as GridElement; grid.style.height = '250px'; grid.gridConfig = { columns: [ { field: 'name', header: 'Name', editable: true }, { field: 'email', header: 'Email', editable: true }, ], plugins: [new EditingPlugin({ editOn: 'click' })], }; grid.rows = [ { name: 'Alice', email: 'alice@example.com' }, { name: 'Bob', email: 'bob@example.com' }, { name: 'Carol', email: 'carol@example.com' }, ]; return grid; }, }",
          "description": "## Click to Edit\r\n\r\nConfigure single-click editing instead of double-click."
        },
        {
          "kind": "variable",
          "name": "AllColumnTypes",
          "type": {
            "text": "Story"
          },
          "default": "{ parameters: { docs: { source: { code: ` grid.gridConfig = { columns: [ { field: 'name', header: 'Name (string)', editable: true }, { field: 'age', header: 'Age (number)', type: 'number', editable: true }, { field: 'active', header: 'Active (boolean)', type: 'boolean', editable: true }, { field: 'joined', header: 'Joined (date)', type: 'date', editable: true }, { field: 'role', header: 'Role (select)', type: 'select', editable: true, options: [ { label: 'Admin', value: 'admin' }, { label: 'User', value: 'user' }, ] }, ], plugins: [new EditingPlugin()], }; `, language: 'ts', }, }, }, render: () => { const grid = document.createElement('tbw-grid') as GridElement; grid.style.height = '300px'; grid.gridConfig = { columns: [ { field: 'name', header: 'Name (string)', editable: true }, { field: 'age', header: 'Age (number)', type: 'number', editable: true }, { field: 'active', header: 'Active (boolean)', type: 'boolean', editable: true }, { field: 'joined', header: 'Joined (date)', type: 'date', editable: true }, { field: 'role', header: 'Role (select)', type: 'select', editable: true, options: [ { label: 'Admin', value: 'admin' }, { label: 'User', value: 'user' }, ], }, ], plugins: [new EditingPlugin({ editOn: 'dblclick' })], }; grid.rows = [ { name: 'Alice', age: 28, active: true, joined: new Date('2023-01-15'), role: 'admin' }, { name: 'Bob', age: 34, active: false, joined: new Date('2023-06-20'), role: 'user' }, { name: 'Carol', age: 25, active: true, joined: new Date('2024-02-10'), role: 'user' }, ]; return grid; }, }",
          "description": "## All Column Types\r\n\r\nThe EditingPlugin provides built-in editors for all column types:\r\nstring, number, boolean, date, and select."
        },
        {
          "kind": "variable",
          "name": "EditorParameters",
          "type": {
            "text": "Story"
          },
          "default": "{ parameters: { docs: { source: { code: ` grid.gridConfig = { columns: [ // Number with min/max/step { field: 'price', header: 'Price', type: 'number', editable: true, editorParams: { min: 0, max: 1000, step: 0.01, placeholder: '0.00' } }, // Text with maxLength and pattern { field: 'code', header: 'Product Code', editable: true, editorParams: { maxLength: 10, pattern: '[A-Z0-9]+', placeholder: 'ABC123' } }, // Date with min/max range { field: 'expiry', header: 'Expiry Date', type: 'date', editable: true, editorParams: { min: '2024-01-01', max: '2030-12-31' } }, // Select with empty option { field: 'status', header: 'Status', type: 'select', editable: true, options: [{ label: 'Active', value: 'active' }, { label: 'Inactive', value: 'inactive' }], editorParams: { includeEmpty: true, emptyLabel: '-- Select --' } }, ], plugins: [new EditingPlugin()], }; `, language: 'ts', }, }, }, render: () => { const grid = document.createElement('tbw-grid') as GridElement; grid.style.height = '300px'; grid.gridConfig = { columns: [ { field: 'price', header: 'Price', type: 'number', editable: true, editorParams: { min: 0, max: 1000, step: 0.01, placeholder: '0.00' }, }, { field: 'code', header: 'Product Code', editable: true, editorParams: { maxLength: 10, pattern: '[A-Z0-9]+', placeholder: 'ABC123' }, }, { field: 'expiry', header: 'Expiry Date', type: 'date', editable: true, editorParams: { min: '2024-01-01', max: '2030-12-31' }, }, { field: 'status', header: 'Status', type: 'select', editable: true, options: [ { label: 'Active', value: 'active' }, { label: 'Inactive', value: 'inactive' }, ], editorParams: { includeEmpty: true, emptyLabel: '-- Select --' }, }, ], plugins: [new EditingPlugin({ editOn: 'dblclick' })], }; grid.rows = [ { price: 29.99, code: 'PROD001', expiry: new Date('2025-06-15'), status: 'active' }, { price: 149.5, code: 'PROD002', expiry: new Date('2026-01-01'), status: 'inactive' }, { price: null, code: '', expiry: null, status: '' }, ]; return grid; }, }",
          "description": "## Editor Parameters\r\n\r\nUse `editorParams` to configure built-in editors with constraints and placeholders.\r\nEach editor type has its own set of parameters."
        },
        {
          "kind": "variable",
          "name": "CustomEditor",
          "type": {
            "text": "Story"
          },
          "default": "{ parameters: { docs: { source: { code: ` // Register custom styles for the editor grid.registerStyles('priority-editor', \\` .data-grid-row > .cell.editing:has(.priority-editor) { justify-content: start; } .priority-editor { display: flex; gap: 4px; padding: 2px; } .priority-editor button { --button-background: light-dark(#ffffff, #333333); --button-color: light-dark(#333333, #ffffff); padding: 2px 8px; border: 1px solid #ccc; border-radius: 3px; background: var(--button-background); color: var(--button-color); cursor: pointer; user-select: none; } .priority-editor button.selected { --button-background: #3b82f6; --button-color: #ffffff; } \\`); grid.gridConfig = { columns: [ { field: 'name', header: 'Name', editable: true }, { field: 'priority', header: 'Priority', editable: true, editor: (ctx) => { const container = document.createElement('div'); container.className = 'priority-editor'; ['Low', 'Medium', 'High'].forEach(level => { const btn = document.createElement('button'); btn.textContent = level; if (ctx.value === level) btn.classList.add('selected'); btn.onclick = () => { // Remove selected from siblings, add to clicked container.querySelectorAll('button').forEach(b => b.classList.remove('selected')); btn.classList.add('selected'); ctx.commit(level); }; container.appendChild(btn); }); return container; }, }, ], plugins: [new EditingPlugin()], }; `, language: 'ts', }, }, }, render: () => { const grid = document.createElement('tbw-grid') as GridElement; // Register custom styles for the editor grid.registerStyles( 'priority-editor', ` .data-grid-row > .cell.editing:has(.priority-editor) { justify-content: start; } .priority-editor { display: flex; gap: 4px; padding: 2px; } .priority-editor button { --button-background: light-dark(#ffffff, #333333); --button-color: light-dark(#333333, #ffffff); padding: 2px 8px; border: 1px solid #ccc; border-radius: 3px; background: var(--button-background); color: var(--button-color); cursor: pointer; user-select: none; } .priority-editor button.selected { --button-background: #3b82f6; --button-color: #ffffff; } `, ); grid.style.height = '250px'; grid.gridConfig = { columns: [ { field: 'name', header: 'Name', editable: true }, { field: 'priority', header: 'Priority', editable: true, editor: (ctx) => { const editorEl = document.createElement('div'); editorEl.className = 'priority-editor'; ['Low', 'Medium', 'High'].forEach((level) => { const btn = document.createElement('button'); btn.textContent = level; if (ctx.value === level) btn.classList.add('selected'); btn.onclick = () => { // Remove selected from siblings, add to clicked editorEl.querySelectorAll('button').forEach((b) => b.classList.remove('selected')); btn.classList.add('selected'); ctx.commit(level); }; editorEl.appendChild(btn); }); return editorEl; }, }, ], plugins: [new EditingPlugin({ editOn: 'dblclick' })], }; grid.rows = [ { name: 'Task A', priority: 'High' }, { name: 'Task B', priority: 'Medium' }, { name: 'Task C', priority: 'Low' }, ]; return grid; }, }",
          "description": "## Custom Editor\r\n\r\nProvide a custom `editor` function for specialized input controls.\r\nUse CSS classes to manage selection state instead of inline styles.\r\nRegister styles via `grid.registerStyles()` to inject CSS for your custom editor."
        },
        {
          "kind": "variable",
          "name": "EditingEvents",
          "type": {
            "text": "Story"
          },
          "default": "{ parameters: { docs: { source: { code: ` import { queryGrid } from '@toolbox-web/grid'; const grid = queryGrid('tbw-grid'); // Cell value committed grid.addEventListener('cell-commit', (e) => { console.log('Committed:', e.detail.field, e.detail.oldValue, '→', e.detail.value); }); // Row editing session ended grid.addEventListener('row-commit', (e) => { console.log('Row committed:', e.detail.rowId, 'changed:', e.detail.changed); }); // Changed rows tracking reset grid.addEventListener('changed-rows-reset', (e) => { console.log('Reset:', e.detail.rows.length, 'rows cleared'); }); `, language: 'typescript', }, }, }, render: () => { const container = document.createElement('div'); container.style.cssText = 'display: grid; grid-template-columns: 1fr 320px; gap: 16px;'; const grid = document.createElement('tbw-grid') as GridElement; grid.id = 'editing-events-grid'; grid.style.height = '300px'; grid.gridConfig = { columns: [ { field: 'name', header: 'Name', editable: true }, { field: 'department', header: 'Department', editable: true }, { field: 'salary', header: 'Salary', type: 'number' as const, editable: true }, ], plugins: [new EditingPlugin({ editOn: 'dblclick' })], }; grid.rows = [ { id: 1, name: 'Alice Johnson', department: 'Engineering', salary: 85000 }, { id: 2, name: 'Bob Smith', department: 'Marketing', salary: 72000 }, { id: 3, name: 'Carol White', department: 'Sales', salary: 68000 }, ]; // Event log panel const logPanel = document.createElement('div'); logPanel.style.cssText = 'border: 1px solid var(--sb-border); padding: 12px; border-radius: 4px; background: var(--sbdocs-bg); overflow-y: auto; max-height: 300px;'; logPanel.innerHTML = ` <div style=\"display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px;\"> <strong>Event Log:</strong> <button id=\"clear-log\" style=\"padding: 4px 8px; cursor: pointer; font-size: 12px;\">Clear</button> </div> <div id=\"event-log\" style=\"font-family: monospace; font-size: 11px; color: var(--sbdocs-fg);\"></div> `; container.appendChild(grid); container.appendChild(logPanel); // Setup event listeners setTimeout(() => { const log = container.querySelector('#event-log'); const clearBtn = container.querySelector('#clear-log'); if (!log) return; const addLog = (type: string, detail: string) => { const msg = document.createElement('div'); msg.style.cssText = 'padding: 2px 0; border-bottom: 1px solid var(--sb-border);'; msg.innerHTML = `<span style=\"color: var(--sb-accent-color);\">[${type}]</span> ${detail}`; log.insertBefore(msg, log.firstChild); while (log.children.length > 15) { log.lastChild?.remove(); } }; clearBtn?.addEventListener('click', () => { log.innerHTML = ''; }); grid.addEventListener('cell-commit', (e) => { const d = e.detail; addLog('cell-commit', `field=\"${d.field}\", \"${d.oldValue}\" → \"${d.value}\"`); }); grid.addEventListener('row-commit', (e) => { const d = e.detail; addLog('row-commit', `row ${d.rowIndex} (${d.rowId}), changed: ${d.changed}`); }); grid.addEventListener('changed-rows-reset', (e) => { addLog('changed-rows-reset', `${e.detail.rows?.length || 0} rows cleared`); }); }, 50); return container; }, }",
          "description": "## Editing Events\r\n\r\nThe EditingPlugin emits events during the editing lifecycle:\r\n- `cell-commit` - Fired when a cell value is committed (Enter, blur, or programmatic)\r\n- `row-commit` - Fired when a row is committed after bulk edit mode\r\n- `changed-rows-reset` - Fired when the changed rows tracking is reset\r\n\r\nDouble-click a cell to edit, then press Enter or click away to see events."
        },
        {
          "kind": "variable",
          "name": "CellValidation",
          "type": {
            "text": "Story"
          },
          "default": "{ parameters: { docs: { source: { code: ` import { queryGrid } from '@toolbox-web/grid'; import { EditingPlugin } from '@toolbox-web/grid/plugins/editing'; const grid = queryGrid('tbw-grid'); const editingPlugin = new EditingPlugin({ editOn: 'dblclick' }); grid.gridConfig = { columns: [ { field: 'name', header: 'Name', editable: true }, { field: 'email', header: 'Email', editable: true }, { field: 'salary', header: 'Salary', type: 'number', editable: true }, ], plugins: [editingPlugin], }; // Mark invalid cells (but don't cancel the edit) grid.addEventListener('cell-commit', (e) => { const { field, value, setInvalid } = e.detail; if (field === 'email' && typeof value === 'string' && !value.includes('@')) { setInvalid('Email must contain @'); } if (field === 'salary' && typeof value === 'number' && value < 0) { setInvalid('Salary must be positive'); } }); // Reject row commit if there are invalid cells grid.addEventListener('row-commit', (e) => { const { rowId } = e.detail; if (editingPlugin.hasInvalidCells(rowId)) { e.preventDefault(); // Reverts entire row to original values alert('Please fix validation errors before leaving the row'); } }); `, language: 'typescript', }, }, }, render: () => { const container = document.createElement('div'); container.style.cssText = 'display: flex; flex-direction: column; gap: 12px;'; const instructions = document.createElement('div'); instructions.style.cssText = 'padding: 12px; background: var(--sbdocs-bg); border: 1px solid var(--sb-border); border-radius: 4px; font-size: 13px;'; instructions.innerHTML = ` <strong>Validation Rules:</strong> <ul style=\"margin: 8px 0 0 16px; padding: 0;\"> <li><strong>Email</strong>: Must contain @</li> <li><strong>Salary</strong>: Must be positive (&gt; 0)</li> </ul> <p style=\"margin: 8px 0 0;\">Try entering invalid values, then click outside the row.</p> `; container.appendChild(instructions); const grid = document.createElement('tbw-grid') as GridElement; grid.style.height = '250px'; const editingPlugin = new EditingPlugin<{ id: number; name: string; email: string; salary: number }>({ editOn: 'dblclick', }); grid.gridConfig = { columns: [ { field: 'name', header: 'Name', editable: true }, { field: 'email', header: 'Email', editable: true }, { field: 'salary', header: 'Salary', type: 'number' as const, editable: true }, ], plugins: [editingPlugin], }; grid.rows = [ { id: 1, name: 'Alice', email: 'alice@example.com', salary: 85000 }, { id: 2, name: 'Bob', email: 'bob@example.com', salary: 72000 }, { id: 3, name: 'Carol', email: 'carol@example.com', salary: 68000 }, ]; // Mark invalid cells (but don't cancel the edit) grid.addEventListener('cell-commit', (e) => { const { field, value, setInvalid } = e.detail; if (field === 'email' && typeof value === 'string' && !value.includes('@')) { setInvalid('Email must contain @'); } if (field === 'salary' && typeof value === 'number' && value < 0) { setInvalid('Salary must be positive'); } }); // Reject row commit if there are invalid cells grid.addEventListener('row-commit', (e) => { const { rowId } = e.detail; if (editingPlugin.hasInvalidCells(rowId)) { e.preventDefault(); // Reverts entire row to original values // In real app, show a toast or inline message instead of alert console.warn('Row reverted due to validation errors'); } }); container.appendChild(grid); return container; }, }",
          "description": "## Cell Validation\r\n\r\nUse `setInvalid()` in the `cell-commit` event to mark cells as invalid without\r\ncanceling the edit. Invalid cells are highlighted and can be styled with CSS.\r\n\r\nUse `preventDefault()` in `row-commit` to reject the entire row if it has\r\ninvalid cells, reverting all changes to the original values.\r\n\r\n- **Email**: Must contain `@`\r\n- **Salary**: Must be positive\r\n\r\nTry entering invalid values, then click away from the row to see validation in action."
        }
      ],
      "exports": [
        {
          "kind": "js",
          "name": "default",
          "declaration": {
            "name": "meta",
            "module": "src/lib/plugins/editing/editing.stories.ts"
          }
        },
        {
          "kind": "js",
          "name": "AddRemoveRows",
          "declaration": {
            "name": "AddRemoveRows",
            "module": "src/lib/plugins/editing/editing.stories.ts"
          }
        },
        {
          "kind": "js",
          "name": "BasicEditing",
          "declaration": {
            "name": "BasicEditing",
            "module": "src/lib/plugins/editing/editing.stories.ts"
          }
        },
        {
          "kind": "js",
          "name": "ClickToEdit",
          "declaration": {
            "name": "ClickToEdit",
            "module": "src/lib/plugins/editing/editing.stories.ts"
          }
        },
        {
          "kind": "js",
          "name": "AllColumnTypes",
          "declaration": {
            "name": "AllColumnTypes",
            "module": "src/lib/plugins/editing/editing.stories.ts"
          }
        },
        {
          "kind": "js",
          "name": "EditorParameters",
          "declaration": {
            "name": "EditorParameters",
            "module": "src/lib/plugins/editing/editing.stories.ts"
          }
        },
        {
          "kind": "js",
          "name": "CustomEditor",
          "declaration": {
            "name": "CustomEditor",
            "module": "src/lib/plugins/editing/editing.stories.ts"
          }
        },
        {
          "kind": "js",
          "name": "EditingEvents",
          "declaration": {
            "name": "EditingEvents",
            "module": "src/lib/plugins/editing/editing.stories.ts"
          }
        },
        {
          "kind": "js",
          "name": "CellValidation",
          "declaration": {
            "name": "CellValidation",
            "module": "src/lib/plugins/editing/editing.stories.ts"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/editing/EditingPlugin.ts",
      "declarations": [
        {
          "kind": "variable",
          "name": "FOCUSABLE_EDITOR_SELECTOR",
          "type": {
            "text": "string"
          },
          "default": "'input,select,textarea,[contenteditable=\"true\"],[contenteditable=\"\"],[tabindex]:not([tabindex=\"-1\"])'",
          "description": "CSS selector for focusable editor elements within a cell."
        },
        {
          "kind": "function",
          "name": "hasEditingCells",
          "return": {
            "type": {
              "text": "boolean"
            }
          },
          "parameters": [
            {
              "name": "rowEl",
              "type": {
                "text": "RowElementInternal"
              }
            }
          ],
          "description": "Check if a row element has any cells in editing mode."
        },
        {
          "kind": "function",
          "name": "clearEditingState",
          "return": {
            "type": {
              "text": "void"
            }
          },
          "parameters": [
            {
              "name": "rowEl",
              "type": {
                "text": "RowElementInternal"
              }
            }
          ],
          "description": "Clear all editing state from a row element."
        },
        {
          "kind": "class",
          "description": "Editing Plugin for tbw-grid\n\nEnables inline cell editing in the grid. Provides built-in editors for common data types\nand supports custom editor functions for specialized input scenarios.\n\n## Why Opt-In?\n\nEditing is delivered as a plugin rather than built into the core grid:\n\n- **Smaller bundle** — Apps that only display data don't pay for editing code\n- **Clear intent** — Explicit plugin registration makes editing capability obvious\n- **Runtime validation** — Using `editable: true` without the plugin throws a helpful error\n\n## Installation\n\n```ts\nimport { EditingPlugin } from '@toolbox-web/grid/plugins/editing';\n```\n\n## Edit Triggers\n\nConfigure how editing is triggered with the `editOn` option:\n\n| Value | Behavior |\n|-------|----------|\n| `'click'` | Single click enters edit mode (default) |\n| `'dblclick'` | Double-click enters edit mode |\n\n## Keyboard Shortcuts\n\n| Key | Action |\n|-----|--------|\n| `Enter` | Commit edit and move down |\n| `Tab` | Commit edit and move right |\n| `Escape` | Cancel edit, restore original value |\n| `Arrow Keys` | Navigate between cells (when not editing) |",
          "name": "EditingPlugin",
          "members": [
            {
              "kind": "field",
              "name": "#activeEditRow",
              "privacy": "private",
              "type": {
                "text": "number"
              },
              "default": "-1",
              "description": "Currently active edit row index, or -1 if not editing"
            },
            {
              "kind": "field",
              "name": "#activeEditCol",
              "privacy": "private",
              "type": {
                "text": "number"
              },
              "default": "-1",
              "description": "Currently active edit column index, or -1 if not editing"
            },
            {
              "kind": "field",
              "name": "#rowEditSnapshots",
              "privacy": "private",
              "default": "new Map<number, T>()",
              "description": "Snapshots of row data before editing started"
            },
            {
              "kind": "field",
              "name": "#changedRowIds",
              "privacy": "private",
              "default": "new Set<string>()",
              "description": "Set of row IDs that have been modified (ID-based for stability)"
            },
            {
              "kind": "field",
              "name": "#editingCells",
              "privacy": "private",
              "default": "new Set<string>()",
              "description": "Set of cells currently in edit mode: \"rowIndex:colIndex\""
            },
            {
              "kind": "field",
              "name": "#pendingFocusRestore",
              "privacy": "private",
              "type": {
                "text": "boolean"
              },
              "default": "false",
              "description": "Flag to restore focus after next render (used when exiting edit mode)"
            },
            {
              "kind": "field",
              "name": "#pendingRowAnimation",
              "privacy": "private",
              "type": {
                "text": "number"
              },
              "default": "-1",
              "description": "Row index pending animation after render, or -1 if none"
            },
            {
              "kind": "field",
              "name": "#invalidCells",
              "privacy": "private",
              "default": "new Map<string, Map<string, string>>()",
              "description": "Invalid cell tracking: Map<rowId, Map<field, message>>\nUsed for validation feedback without canceling edits."
            },
            {
              "kind": "field",
              "name": "changedRows",
              "type": {
                "text": "T[]"
              },
              "description": "Get all rows that have been modified.\nUses ID-based lookup for stability when rows are reordered.",
              "readonly": true
            },
            {
              "kind": "field",
              "name": "changedRowIds",
              "type": {
                "text": "string[]"
              },
              "description": "Get IDs of all modified rows.",
              "readonly": true
            },
            {
              "kind": "field",
              "name": "activeEditRow",
              "type": {
                "text": "number"
              },
              "description": "Get the currently active edit row index, or -1 if not editing.",
              "readonly": true
            },
            {
              "kind": "field",
              "name": "activeEditCol",
              "type": {
                "text": "number"
              },
              "description": "Get the currently active edit column index, or -1 if not editing.",
              "readonly": true
            },
            {
              "kind": "method",
              "name": "isRowEditing",
              "return": {
                "type": {
                  "text": "boolean"
                }
              },
              "parameters": [
                {
                  "name": "rowIndex",
                  "type": {
                    "text": "number"
                  }
                }
              ],
              "description": "Check if a specific row is currently being edited."
            },
            {
              "kind": "method",
              "name": "isCellEditing",
              "return": {
                "type": {
                  "text": "boolean"
                }
              },
              "parameters": [
                {
                  "name": "rowIndex",
                  "type": {
                    "text": "number"
                  }
                },
                {
                  "name": "colIndex",
                  "type": {
                    "text": "number"
                  }
                }
              ],
              "description": "Check if a specific cell is currently being edited."
            },
            {
              "kind": "method",
              "name": "isRowChanged",
              "return": {
                "type": {
                  "text": "boolean"
                }
              },
              "parameters": [
                {
                  "name": "rowIndex",
                  "type": {
                    "text": "number"
                  },
                  "description": "Row index to check (will be converted to ID internally)"
                }
              ],
              "description": "Check if a specific row has been modified."
            },
            {
              "kind": "method",
              "name": "isRowChangedById",
              "return": {
                "type": {
                  "text": "boolean"
                }
              },
              "parameters": [
                {
                  "name": "rowId",
                  "type": {
                    "text": "string"
                  },
                  "description": "Row ID to check"
                }
              ],
              "description": "Check if a row with the given ID has been modified."
            },
            {
              "kind": "method",
              "name": "setInvalid",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "rowId",
                  "type": {
                    "text": "string"
                  },
                  "description": "The row ID (from getRowId)"
                },
                {
                  "name": "field",
                  "type": {
                    "text": "string"
                  },
                  "description": "The field name"
                },
                {
                  "name": "message",
                  "default": "''",
                  "description": "Optional validation message (for tooltips or display)"
                }
              ],
              "description": "Mark a cell as invalid with an optional validation message.\nInvalid cells are marked with a `data-invalid` attribute for styling."
            },
            {
              "kind": "method",
              "name": "clearInvalid",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "rowId",
                  "type": {
                    "text": "string"
                  },
                  "description": "The row ID (from getRowId)"
                },
                {
                  "name": "field",
                  "type": {
                    "text": "string"
                  },
                  "description": "The field name"
                }
              ],
              "description": "Clear the invalid state for a specific cell."
            },
            {
              "kind": "method",
              "name": "clearRowInvalid",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "rowId",
                  "type": {
                    "text": "string"
                  },
                  "description": "The row ID (from getRowId)"
                }
              ],
              "description": "Clear all invalid cells for a specific row."
            },
            {
              "kind": "method",
              "name": "clearAllInvalid",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "description": "Clear all invalid cell states across all rows."
            },
            {
              "kind": "method",
              "name": "isCellInvalid",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "rowId",
                  "type": {
                    "text": "string"
                  },
                  "description": "The row ID (from getRowId)"
                },
                {
                  "name": "field",
                  "type": {
                    "text": "string"
                  },
                  "description": "The field name"
                }
              ],
              "description": "Check if a specific cell is marked as invalid."
            },
            {
              "kind": "method",
              "name": "getInvalidMessage",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "rowId",
                  "type": {
                    "text": "string"
                  },
                  "description": "The row ID (from getRowId)"
                },
                {
                  "name": "field",
                  "type": {
                    "text": "string"
                  },
                  "description": "The field name"
                }
              ],
              "description": "Get the validation message for an invalid cell."
            },
            {
              "kind": "method",
              "name": "hasInvalidCells",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "rowId",
                  "type": {
                    "text": "string"
                  },
                  "description": "The row ID (from getRowId)"
                }
              ],
              "description": "Check if a row has any invalid cells."
            },
            {
              "kind": "method",
              "name": "getInvalidFields",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "rowId",
                  "type": {
                    "text": "string"
                  },
                  "description": "The row ID (from getRowId)"
                }
              ],
              "description": "Get all invalid fields for a row."
            },
            {
              "kind": "method",
              "name": "#syncInvalidCellAttribute",
              "privacy": "private",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "rowId",
                  "type": {
                    "text": "string"
                  }
                },
                {
                  "name": "field",
                  "type": {
                    "text": "string"
                  }
                },
                {
                  "name": "invalid",
                  "type": {
                    "text": "boolean"
                  }
                }
              ],
              "description": "Sync the data-invalid attribute on a cell element."
            },
            {
              "kind": "method",
              "name": "resetChangedRows",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "silent",
                  "optional": true,
                  "type": {
                    "text": "boolean"
                  },
                  "description": "If true, suppresses the `changed-rows-reset` event"
                }
              ],
              "description": "Reset all change tracking."
            },
            {
              "kind": "method",
              "name": "beginCellEdit",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "rowIndex",
                  "type": {
                    "text": "number"
                  },
                  "description": "Index of the row to edit"
                },
                {
                  "name": "field",
                  "type": {
                    "text": "string"
                  },
                  "description": "Field name of the column to edit"
                }
              ],
              "description": "Programmatically begin editing a cell."
            },
            {
              "kind": "method",
              "name": "beginBulkEdit",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "rowIndex",
                  "type": {
                    "text": "number"
                  },
                  "description": "Index of the row to edit"
                }
              ],
              "description": "Programmatically begin editing all editable cells in a row."
            },
            {
              "kind": "method",
              "name": "commitActiveRowEdit",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "description": "Commit the currently active row edit."
            },
            {
              "kind": "method",
              "name": "cancelActiveRowEdit",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "description": "Cancel the currently active row edit."
            },
            {
              "kind": "method",
              "name": "#beginCellEdit",
              "privacy": "private",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "rowIndex",
                  "type": {
                    "text": "number"
                  }
                },
                {
                  "name": "colIndex",
                  "type": {
                    "text": "number"
                  }
                },
                {
                  "name": "cellEl",
                  "type": {
                    "text": "HTMLElement"
                  }
                }
              ],
              "description": "Begin editing a single cell."
            },
            {
              "kind": "method",
              "name": "#handleTabNavigation",
              "privacy": "private",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "forward",
                  "type": {
                    "text": "boolean"
                  }
                }
              ],
              "description": "Handle Tab/Shift+Tab navigation while editing.\nMoves to next/previous editable cell, staying in edit mode.\nWraps to next/previous row when reaching row boundaries."
            },
            {
              "kind": "method",
              "name": "#syncGridEditState",
              "privacy": "private",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "description": "Sync the internal grid state with the plugin's editing state."
            },
            {
              "kind": "method",
              "name": "#startRowEdit",
              "privacy": "private",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "rowIndex",
                  "type": {
                    "text": "number"
                  }
                },
                {
                  "name": "rowData",
                  "type": {
                    "text": "T"
                  }
                }
              ],
              "description": "Snapshot original row data and mark as editing."
            },
            {
              "kind": "method",
              "name": "#exitRowEdit",
              "privacy": "private",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "rowIndex",
                  "type": {
                    "text": "number"
                  }
                },
                {
                  "name": "revert",
                  "type": {
                    "text": "boolean"
                  }
                }
              ],
              "description": "Exit editing for a row."
            },
            {
              "kind": "method",
              "name": "#commitCellValue",
              "privacy": "private",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "rowIndex",
                  "type": {
                    "text": "number"
                  }
                },
                {
                  "name": "column",
                  "type": {
                    "text": "ColumnConfig<T>"
                  }
                },
                {
                  "name": "newValue",
                  "type": {
                    "text": "unknown"
                  }
                },
                {
                  "name": "rowData",
                  "type": {
                    "text": "T"
                  }
                }
              ],
              "description": "Commit a single cell value change.\nUses ID-based change tracking for stability when rows are reordered."
            },
            {
              "kind": "method",
              "name": "#injectEditor",
              "privacy": "private",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "rowData",
                  "type": {
                    "text": "T"
                  }
                },
                {
                  "name": "rowIndex",
                  "type": {
                    "text": "number"
                  }
                },
                {
                  "name": "column",
                  "type": {
                    "text": "ColumnConfig<T>"
                  }
                },
                {
                  "name": "colIndex",
                  "type": {
                    "text": "number"
                  }
                },
                {
                  "name": "cell",
                  "type": {
                    "text": "HTMLElement"
                  }
                },
                {
                  "name": "skipFocus",
                  "type": {
                    "text": "boolean"
                  }
                }
              ],
              "description": "Inject an editor into a cell."
            },
            {
              "kind": "method",
              "name": "#renderTemplateEditor",
              "privacy": "private",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "editorHost",
                  "type": {
                    "text": "HTMLElement"
                  }
                },
                {
                  "name": "column",
                  "type": {
                    "text": "ColumnInternal<T>"
                  }
                },
                {
                  "name": "rowData",
                  "type": {
                    "text": "T"
                  }
                },
                {
                  "name": "originalValue",
                  "type": {
                    "text": "unknown"
                  }
                },
                {
                  "name": "commit",
                  "type": {
                    "text": "(value: unknown) => void"
                  }
                },
                {
                  "name": "cancel",
                  "type": {
                    "text": "() => void"
                  }
                },
                {
                  "name": "skipFocus",
                  "type": {
                    "text": "boolean"
                  }
                },
                {
                  "name": "rowIndex",
                  "type": {
                    "text": "number"
                  }
                }
              ],
              "description": "Render a template-based editor."
            },
            {
              "kind": "method",
              "name": "#hasRowChanged",
              "privacy": "private",
              "return": {
                "type": {
                  "text": "boolean"
                }
              },
              "parameters": [
                {
                  "name": "snapshot",
                  "type": {
                    "text": "T | undefined"
                  }
                },
                {
                  "name": "current",
                  "type": {
                    "text": "T"
                  }
                }
              ],
              "description": "Compare snapshot vs current row to detect if any values changed during this edit session.\nUses shallow comparison of all properties."
            },
            {
              "kind": "method",
              "name": "#restoreCellFocus",
              "privacy": "private",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "internalGrid",
                  "type": {
                    "text": "InternalGrid<T>"
                  }
                }
              ],
              "description": "Restore focus to cell after exiting edit mode."
            },
            {
              "kind": "field",
              "name": "dependencies",
              "type": {
                "text": "PluginDependency[] | undefined"
              },
              "static": true,
              "readonly": true,
              "description": "Plugin dependencies - declare other plugins this one requires.\r\n\r\nDependencies are validated when the plugin is attached.\r\nRequired dependencies throw an error if missing.\r\nOptional dependencies log an info message if missing.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "field",
              "name": "manifest",
              "type": {
                "text": "PluginManifest<any> | undefined"
              },
              "static": true,
              "readonly": true,
              "description": "Plugin manifest - declares owned properties, config rules, and hook priorities.\r\n\r\nThis is read by the configuration validator to:\r\n- Validate that required plugins are loaded when their properties are used\r\n- Execute configRules to detect invalid/conflicting settings\r\n- Order hook execution based on priority",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "field",
              "name": "name",
              "type": {
                "text": "string"
              },
              "readonly": true,
              "description": "Unique plugin identifier (derived from class name by default)",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "field",
              "name": "version",
              "type": {
                "text": "string"
              },
              "readonly": true,
              "description": "Plugin version - defaults to grid version for built-in plugins.\r\nThird-party plugins can override with their own semver.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "field",
              "name": "styles",
              "type": {
                "text": "string | undefined"
              },
              "readonly": true,
              "description": "CSS styles to inject into the grid's shadow DOM",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "field",
              "name": "cellRenderers",
              "type": {
                "text": "Record<string, CellRenderer> | undefined"
              },
              "readonly": true,
              "description": "Custom cell renderers keyed by type name",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "field",
              "name": "headerRenderers",
              "type": {
                "text": "Record<string, HeaderRenderer> | undefined"
              },
              "readonly": true,
              "description": "Custom header renderers keyed by type name",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "field",
              "name": "cellEditors",
              "type": {
                "text": "Record<string, CellEditor> | undefined"
              },
              "readonly": true,
              "description": "Custom cell editors keyed by type name",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "field",
              "name": "grid",
              "type": {
                "text": "GridElement"
              },
              "privacy": "protected",
              "description": "The grid instance this plugin is attached to",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "field",
              "name": "config",
              "type": {
                "text": "TConfig"
              },
              "privacy": "protected",
              "description": "Plugin configuration - merged with defaults in attach()",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "field",
              "name": "userConfig",
              "type": {
                "text": "Partial<TConfig>"
              },
              "privacy": "protected",
              "readonly": true,
              "description": "User-provided configuration from constructor",
              "default": "config",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "field",
              "name": "#abortController",
              "privacy": "private",
              "type": {
                "text": "AbortController | undefined"
              },
              "description": "Plugin-level AbortController for event listener cleanup.\r\nCreated fresh in attach(), aborted in detach().\r\nThis ensures event listeners are properly cleaned up when plugins are re-attached.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "field",
              "name": "defaultConfig",
              "type": {
                "text": "Partial<TConfig>"
              },
              "privacy": "protected",
              "description": "Default configuration - subclasses should override this getter.\r\nNote: This must be a getter (not property initializer) for proper inheritance\r\nsince property initializers run after parent constructor.",
              "readonly": true,
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "attach",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "grid",
                  "type": {
                    "text": "GridElement"
                  }
                }
              ],
              "description": "Called when the plugin is attached to a grid.\r\nOverride to set up event listeners, initialize state, etc.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "detach",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "description": "Called when the plugin is detached from a grid.\r\nOverride to clean up event listeners, timers, etc.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "onPluginAttached",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "name",
                  "type": {
                    "text": "string"
                  },
                  "description": "The name of the plugin that was attached"
                },
                {
                  "name": "plugin",
                  "type": {
                    "text": "BaseGridPlugin"
                  },
                  "description": "The plugin instance (for direct access if needed)"
                }
              ],
              "description": "Called when another plugin is attached to the same grid.\r\nUse for inter-plugin coordination, e.g., to integrate with new plugins.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "onPluginDetached",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "name",
                  "type": {
                    "text": "string"
                  },
                  "description": "The name of the plugin that was detached"
                }
              ],
              "description": "Called when another plugin is detached from the same grid.\r\nUse to clean up inter-plugin references.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "getPlugin",
              "privacy": "protected",
              "return": {
                "type": {
                  "text": "T | undefined"
                }
              },
              "parameters": [
                {
                  "name": "PluginClass",
                  "type": {
                    "text": "new (...args: any[]) => T"
                  }
                }
              ],
              "description": "Get another plugin instance from the same grid.\r\nUse for inter-plugin communication.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "emit",
              "privacy": "protected",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "eventName",
                  "type": {
                    "text": "string"
                  }
                },
                {
                  "name": "detail",
                  "type": {
                    "text": "T"
                  }
                }
              ],
              "description": "Emit a custom event from the grid.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "emitCancelable",
              "privacy": "protected",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "eventName",
                  "type": {
                    "text": "string"
                  }
                },
                {
                  "name": "detail",
                  "type": {
                    "text": "T"
                  }
                }
              ],
              "description": "Emit a cancelable custom event from the grid.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "on",
              "privacy": "protected",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "eventType",
                  "type": {
                    "text": "string"
                  },
                  "description": "The event type to listen for (e.g., 'filter-change')"
                },
                {
                  "name": "callback",
                  "type": {
                    "text": "(detail: T) => void"
                  },
                  "description": "The callback to invoke when the event is emitted"
                }
              ],
              "description": "Subscribe to an event from another plugin.\r\nThe subscription is automatically cleaned up when this plugin is detached.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "off",
              "privacy": "protected",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "eventType",
                  "type": {
                    "text": "string"
                  },
                  "description": "The event type to stop listening for"
                }
              ],
              "description": "Unsubscribe from a plugin event.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "emitPluginEvent",
              "privacy": "protected",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "eventType",
                  "type": {
                    "text": "string"
                  },
                  "description": "The event type to emit (should be declared in manifest.events)"
                },
                {
                  "name": "detail",
                  "type": {
                    "text": "T"
                  },
                  "description": "The event payload"
                }
              ],
              "description": "Emit an event to other plugins via the Event Bus.\r\nThis is for inter-plugin communication only; it does NOT dispatch DOM events.\r\nUse `emit()` to dispatch DOM events that external consumers can listen to.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "requestRender",
              "privacy": "protected",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "description": "Request a re-render of the grid.\r\nUses ROWS phase - does NOT trigger processColumns hooks.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "requestColumnsRender",
              "privacy": "protected",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "description": "Request a columns re-render of the grid.\r\nUses COLUMNS phase - triggers processColumns hooks.\r\nUse this when your plugin needs to reprocess column configuration.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "requestRenderWithFocus",
              "privacy": "protected",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "description": "Request a re-render and restore focus styling afterward.\r\nUse this when a plugin action (like expand/collapse) triggers a render\r\nbut needs to maintain keyboard navigation focus.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "requestAfterRender",
              "privacy": "protected",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "description": "Request a lightweight style update without rebuilding DOM.\r\nUse this instead of requestRender() when only CSS classes need updating.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "field",
              "name": "rows",
              "type": {
                "text": "any[]"
              },
              "privacy": "protected",
              "description": "Get the current rows from the grid.",
              "readonly": true,
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "field",
              "name": "sourceRows",
              "type": {
                "text": "any[]"
              },
              "privacy": "protected",
              "description": "Get the original unfiltered/unprocessed rows from the grid.\r\nUse this when you need all source data regardless of active filters.",
              "readonly": true,
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "field",
              "name": "columns",
              "type": {
                "text": "ColumnConfig[]"
              },
              "privacy": "protected",
              "description": "Get the current columns from the grid.",
              "readonly": true,
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "field",
              "name": "visibleColumns",
              "type": {
                "text": "ColumnConfig[]"
              },
              "privacy": "protected",
              "description": "Get only visible columns from the grid (excludes hidden).\r\nUse this for rendering that needs to match the grid template.",
              "readonly": true,
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "field",
              "name": "gridElement",
              "type": {
                "text": "HTMLElement"
              },
              "privacy": "protected",
              "description": "Get the grid as an HTMLElement for direct DOM operations.\r\nUse sparingly - prefer the typed GridElementRef API when possible.",
              "readonly": true,
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "field",
              "name": "disconnectSignal",
              "type": {
                "text": "AbortSignal"
              },
              "privacy": "protected",
              "description": "Get the disconnect signal for event listener cleanup.\r\nThis signal is aborted when the grid disconnects from the DOM.\r\nUse this when adding event listeners that should be cleaned up automatically.\r\n\r\nBest for:\r\n- Document/window-level listeners added in attach()\r\n- Listeners on the grid element itself\r\n- Any listener that should persist across renders\r\n\r\nNot needed for:\r\n- Listeners on elements created in afterRender() (removed with element)",
              "readonly": true,
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "field",
              "name": "gridIcons",
              "type": {
                "text": "typeof DEFAULT_GRID_ICONS"
              },
              "privacy": "protected",
              "description": "Get the grid-level icons configuration.\r\nReturns merged icons (user config + defaults).",
              "readonly": true,
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "field",
              "name": "isAnimationEnabled",
              "type": {
                "text": "boolean"
              },
              "privacy": "protected",
              "description": "Check if animations are enabled at the grid level.\r\nRespects gridConfig.animation.mode and the CSS variable set by the grid.\r\n\r\nPlugins should use this to skip animations when:\r\n- Animation mode is 'off' or `false`\r\n- User prefers reduced motion and mode is 'reduced-motion' (default)",
              "readonly": true,
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "field",
              "name": "animationDuration",
              "type": {
                "text": "number"
              },
              "privacy": "protected",
              "description": "Get the animation duration in milliseconds from CSS variable.\r\nFalls back to 200ms if not set.\r\n\r\nPlugins can use this for their animation timing to stay consistent\r\nwith the grid-level animation.duration setting.",
              "readonly": true,
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "resolveIcon",
              "privacy": "protected",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "iconKey",
                  "type": {
                    "text": "keyof typeof DEFAULT_GRID_ICONS"
                  },
                  "description": "The icon key in GridIcons (e.g., 'expand', 'collapse')"
                },
                {
                  "name": "pluginOverride",
                  "optional": true,
                  "type": {
                    "text": "IconValue"
                  },
                  "description": "Optional plugin-level override"
                }
              ],
              "description": "Resolve an icon value to string or HTMLElement.\r\nChecks plugin config first, then grid-level icons, then defaults.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "setIcon",
              "privacy": "protected",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "element",
                  "type": {
                    "text": "HTMLElement"
                  },
                  "description": "The element to set the icon on"
                },
                {
                  "name": "icon",
                  "type": {
                    "text": "IconValue"
                  },
                  "description": "The icon value (string or HTMLElement)"
                }
              ],
              "description": "Set an icon value on an element.\r\nHandles both string (text/HTML) and HTMLElement values.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "warn",
              "privacy": "protected",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "message",
                  "type": {
                    "text": "string"
                  }
                }
              ],
              "description": "Log a warning message.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "processRows",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "rows",
                  "type": {
                    "text": "readonly any[]"
                  },
                  "description": "The current rows array (readonly to encourage returning a new array)"
                }
              ],
              "description": "Transform rows before rendering.\r\nCalled during each render cycle before rows are rendered to the DOM.\r\nUse this to filter, sort, or add computed properties to rows.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "processColumns",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "columns",
                  "type": {
                    "text": "readonly ColumnConfig[]"
                  },
                  "description": "The current columns array (readonly to encourage returning a new array)"
                }
              ],
              "description": "Transform columns before rendering.\r\nCalled during each render cycle before column headers and cells are rendered.\r\nUse this to add, remove, or modify column definitions.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "beforeRender",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "description": "Called before each render cycle begins.\r\nUse this to prepare state or cache values needed during rendering.\r\n\r\n**Note:** This hook is currently a placeholder for future implementation.\r\nIt is defined in the interface but not yet invoked by the grid's render pipeline.\r\nIf you need this functionality, please open an issue or contribute an implementation.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "afterRender",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "description": "Called after each render cycle completes.\r\nUse this for DOM manipulation, adding event listeners to rendered elements,\r\nor applying visual effects like selection highlights.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "afterCellRender",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "context",
                  "type": {
                    "text": "AfterCellRenderContext"
                  },
                  "description": "The cell render context with row, column, value, and elements"
                }
              ],
              "description": "Called after each cell is rendered.\r\nThis hook is more efficient than `afterRender()` for cell-level modifications\r\nbecause you receive the cell context directly - no DOM queries needed.\r\n\r\nUse cases:\r\n- Adding selection/highlight classes to specific cells\r\n- Injecting badges or decorations\r\n- Applying conditional styling based on cell value\r\n\r\nPerformance note: Called for every visible cell during render. Keep implementation fast.\r\nThis hook is also called during scroll when cells are recycled.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "afterRowRender",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "context",
                  "type": {
                    "text": "AfterRowRenderContext"
                  },
                  "description": "The row render context with row data and element"
                }
              ],
              "description": "Called after a row is fully rendered (all cells complete).\r\nUse this for row-level decorations, styling, or ARIA attributes.\r\n\r\nCommon use cases:\r\n- Adding selection classes to entire rows (row-focus, selected)\r\n- Setting row-level ARIA attributes\r\n- Applying row validation highlighting\r\n- Tree indentation styling\r\n\r\nPerformance note: Called for every visible row during render. Keep implementation fast.\r\nThis hook is also called during scroll when rows are recycled.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "onScrollRender",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "description": "Called after scroll-triggered row rendering completes.\r\nThis is a lightweight hook for applying visual state to recycled DOM elements.\r\nUse this instead of afterRender when you need to reapply styling during scroll.\r\n\r\nPerformance note: This is called frequently during scroll. Keep implementation fast.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "getExtraHeight",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "description": "Return extra height contributed by this plugin (e.g., expanded detail rows).\r\nUsed to adjust scrollbar height calculations for virtualization.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "getExtraHeightBefore",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "beforeRowIndex",
                  "type": {
                    "text": "number"
                  },
                  "description": "The row index to calculate extra height before"
                }
              ],
              "description": "Return extra height that appears before a given row index.\r\nUsed by virtualization to correctly calculate scroll positions when\r\nthere's variable height content (like expanded detail rows) above the viewport.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "adjustVirtualStart",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "start",
                  "type": {
                    "text": "number"
                  },
                  "description": "The calculated start row index"
                },
                {
                  "name": "scrollTop",
                  "type": {
                    "text": "number"
                  },
                  "description": "The current scroll position"
                },
                {
                  "name": "rowHeight",
                  "type": {
                    "text": "number"
                  },
                  "description": "The height of a single row"
                }
              ],
              "description": "Adjust the virtualization start index to render additional rows before the visible range.\r\nUse this when expanded content (like detail rows) needs its parent row to remain rendered\r\neven when the parent row itself has scrolled above the viewport.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "renderRow",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "row",
                  "type": {
                    "text": "any"
                  },
                  "description": "The row data object"
                },
                {
                  "name": "rowEl",
                  "type": {
                    "text": "HTMLElement"
                  },
                  "description": "The row DOM element to render into"
                },
                {
                  "name": "rowIndex",
                  "type": {
                    "text": "number"
                  },
                  "description": "The index of the row in the data array"
                }
              ],
              "description": "Render a custom row, bypassing the default row rendering.\r\nUse this for special row types like group headers, detail rows, or footers.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "onPluginQuery",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "query",
                  "type": {
                    "text": "PluginQuery"
                  },
                  "description": "The query object with type and context"
                }
              ],
              "description": "Handle queries from other plugins.\r\nThis is the generic mechanism for inter-plugin communication.\r\nPlugins can respond to well-known query types or define their own.\r\n\r\n**Prefer `handleQuery` for new plugins** - it has the same signature but\r\na clearer name. `onPluginQuery` is kept for backwards compatibility.",
              "deprecated": "Use `handleQuery` instead for new plugins.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "handleQuery",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "query",
                  "type": {
                    "text": "PluginQuery"
                  },
                  "description": "The query object with type and context"
                }
              ],
              "description": "Handle queries from other plugins or the grid.\r\n\r\nQueries are declared in `manifest.queries` and dispatched via `grid.query()`.\r\nThis enables type-safe, discoverable inter-plugin communication.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "onKeyDown",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "event",
                  "type": {
                    "text": "KeyboardEvent"
                  },
                  "description": "The native KeyboardEvent"
                }
              ],
              "description": "Handle keyboard events on the grid.\r\nCalled when a key is pressed while the grid or a cell has focus.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "onCellClick",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "event",
                  "type": {
                    "text": "CellClickEvent"
                  },
                  "description": "Cell click event with row/column context"
                }
              ],
              "description": "Handle cell click events.\r\nCalled when a data cell is clicked (not headers).",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "onRowClick",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "event",
                  "type": {
                    "text": "RowClickEvent"
                  },
                  "description": "Row click event with row context"
                }
              ],
              "description": "Handle row click events.\r\nCalled when any part of a data row is clicked.\r\nNote: This is called in addition to onCellClick, not instead of.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "onHeaderClick",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "event",
                  "type": {
                    "text": "HeaderClickEvent"
                  },
                  "description": "Header click event with column context"
                }
              ],
              "description": "Handle header click events.\r\nCalled when a column header is clicked. Commonly used for sorting.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "onScroll",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "event",
                  "type": {
                    "text": "ScrollEvent"
                  },
                  "description": "Scroll event with scroll position and viewport dimensions"
                }
              ],
              "description": "Handle scroll events on the grid viewport.\r\nCalled during scrolling. Note: This may be called frequently; debounce if needed.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "onCellMouseDown",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "event",
                  "type": {
                    "text": "CellMouseEvent"
                  },
                  "description": "Mouse event with cell context"
                }
              ],
              "description": "Handle cell mousedown events.\r\nUsed for initiating drag operations like range selection or column resize.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "onCellMouseMove",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "event",
                  "type": {
                    "text": "CellMouseEvent"
                  },
                  "description": "Mouse event with current cell context"
                }
              ],
              "description": "Handle cell mousemove events during drag operations.\r\nOnly called when a drag is in progress (after mousedown returned true).",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "onCellMouseUp",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "event",
                  "type": {
                    "text": "CellMouseEvent"
                  },
                  "description": "Mouse event with final cell context"
                }
              ],
              "description": "Handle cell mouseup events to end drag operations.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "getColumnState",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "field",
                  "type": {
                    "text": "string"
                  },
                  "description": "The field name of the column"
                }
              ],
              "description": "Contribute plugin-specific state for a column.\r\nCalled by the grid when collecting column state for serialization.\r\nPlugins can add their own properties to the column state.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "applyColumnState",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "field",
                  "type": {
                    "text": "string"
                  },
                  "description": "The field name of the column"
                },
                {
                  "name": "state",
                  "type": {
                    "text": "ColumnState"
                  },
                  "description": "The column state to apply (may contain plugin-specific properties)"
                }
              ],
              "description": "Apply plugin-specific state to a column.\r\nCalled by the grid when restoring column state from serialized data.\r\nPlugins should restore their internal state based on the provided state.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "getHorizontalScrollOffsets",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "rowEl",
                  "optional": true,
                  "type": {
                    "text": "HTMLElement"
                  },
                  "description": "The row element (optional, for calculating widths from rendered cells)"
                },
                {
                  "name": "focusedCell",
                  "optional": true,
                  "type": {
                    "text": "HTMLElement"
                  },
                  "description": "The currently focused cell element (optional, to determine if scrolling should be skipped)"
                }
              ],
              "description": "Report horizontal scroll boundary offsets for this plugin.\r\nPlugins that obscure part of the scroll area (e.g., pinned/sticky columns)\r\nshould return how much space they occupy on each side.\r\nThe keyboard navigation uses this to ensure focused cells are fully visible.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "getToolPanel",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "description": "Register a tool panel for this plugin.\r\nReturn undefined if plugin has no tool panel.\r\nThe shell will create a toolbar toggle button and render the panel content\r\nwhen the user opens the panel.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "getHeaderContent",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "description": "Register content for the shell header center section.\r\nReturn undefined if plugin has no header content.\r\nExamples: search input, selection summary, status indicators.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            }
          ],
          "superclass": {
            "name": "BaseGridPlugin",
            "module": "/src/lib/core/plugin/base-plugin"
          }
        },
        {
          "kind": "variable",
          "name": "column",
          "default": "internalGrid._visibleColumns[focusCol]"
        },
        {
          "kind": "variable",
          "name": "value"
        },
        {
          "kind": "variable",
          "name": "updateRow",
          "type": {
            "text": "(changes: Partial<T>) => void"
          }
        },
        {
          "kind": "function",
          "name": "commit",
          "parameters": [
            {
              "name": "newValue",
              "type": {
                "text": "unknown"
              }
            }
          ]
        },
        {
          "kind": "function",
          "name": "cancel"
        }
      ],
      "exports": [
        {
          "kind": "js",
          "name": "FOCUSABLE_EDITOR_SELECTOR",
          "declaration": {
            "name": "FOCUSABLE_EDITOR_SELECTOR",
            "module": "src/lib/plugins/editing/EditingPlugin.ts"
          }
        },
        {
          "kind": "js",
          "name": "hasEditingCells",
          "declaration": {
            "name": "hasEditingCells",
            "module": "src/lib/plugins/editing/EditingPlugin.ts"
          }
        },
        {
          "kind": "js",
          "name": "clearEditingState",
          "declaration": {
            "name": "clearEditingState",
            "module": "src/lib/plugins/editing/EditingPlugin.ts"
          }
        },
        {
          "kind": "js",
          "name": "EditingPlugin",
          "declaration": {
            "name": "EditingPlugin",
            "module": "src/lib/plugins/editing/EditingPlugin.ts"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/editing/editors.ts",
      "declarations": [
        {
          "kind": "function",
          "name": "defaultEditorFor",
          "return": {
            "type": {
              "text": "(ctx: EditorContext) => HTMLElement | string"
            }
          },
          "parameters": [
            {
              "name": "column",
              "type": {
                "text": "AnyColumn"
              }
            }
          ],
          "description": "Returns a default editor factory function for the given column type.\r\nEach editor handles commit on blur/Enter, and cancel on Escape.\r\n\r\nNote: Focus is NOT called here - the calling code handles focusing after DOM insertion."
        },
        {
          "kind": "function",
          "name": "getInputValue",
          "return": {
            "type": {
              "text": "unknown"
            }
          },
          "parameters": [
            {
              "name": "input",
              "type": {
                "text": "HTMLInputElement | HTMLTextAreaElement | HTMLSelectElement"
              }
            },
            {
              "name": "col",
              "type": {
                "text": "AnyColumn"
              }
            }
          ],
          "description": "Gets the current value from an input element, with type coercion based on column type."
        }
      ],
      "exports": [
        {
          "kind": "js",
          "name": "defaultEditorFor",
          "declaration": {
            "name": "defaultEditorFor",
            "module": "src/lib/plugins/editing/editors.ts"
          }
        },
        {
          "kind": "js",
          "name": "getInputValue",
          "declaration": {
            "name": "getInputValue",
            "module": "src/lib/plugins/editing/editors.ts"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/editing/index.ts",
      "declarations": [],
      "exports": [
        {
          "kind": "js",
          "name": "EditingPlugin",
          "declaration": {
            "name": "EditingPlugin",
            "module": "./EditingPlugin"
          }
        },
        {
          "kind": "js",
          "name": "defaultEditorFor",
          "declaration": {
            "name": "defaultEditorFor",
            "module": "./editors"
          }
        },
        {
          "kind": "js",
          "name": "CellCommitDetail",
          "declaration": {
            "name": "CellCommitDetail",
            "module": "./types"
          }
        },
        {
          "kind": "js",
          "name": "ChangedRowsResetDetail",
          "declaration": {
            "name": "ChangedRowsResetDetail",
            "module": "./types"
          }
        },
        {
          "kind": "js",
          "name": "DateEditorParams",
          "declaration": {
            "name": "DateEditorParams",
            "module": "./types"
          }
        },
        {
          "kind": "js",
          "name": "EditingConfig",
          "declaration": {
            "name": "EditingConfig",
            "module": "./types"
          }
        },
        {
          "kind": "js",
          "name": "EditorContext",
          "declaration": {
            "name": "EditorContext",
            "module": "./types"
          }
        },
        {
          "kind": "js",
          "name": "EditorParams",
          "declaration": {
            "name": "EditorParams",
            "module": "./types"
          }
        },
        {
          "kind": "js",
          "name": "NumberEditorParams",
          "declaration": {
            "name": "NumberEditorParams",
            "module": "./types"
          }
        },
        {
          "kind": "js",
          "name": "RowCommitDetail",
          "declaration": {
            "name": "RowCommitDetail",
            "module": "./types"
          }
        },
        {
          "kind": "js",
          "name": "SelectEditorParams",
          "declaration": {
            "name": "SelectEditorParams",
            "module": "./types"
          }
        },
        {
          "kind": "js",
          "name": "TextEditorParams",
          "declaration": {
            "name": "TextEditorParams",
            "module": "./types"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/editing/types.ts",
      "declarations": [],
      "exports": []
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/filtering/filter-model.ts",
      "declarations": [
        {
          "kind": "function",
          "name": "matchesFilter",
          "return": {
            "type": {
              "text": ""
            }
          },
          "parameters": [
            {
              "name": "row",
              "type": {
                "text": "Record<string, unknown>"
              },
              "description": "The row data object"
            },
            {
              "name": "filter",
              "type": {
                "text": "FilterModel"
              },
              "description": "The filter to apply"
            },
            {
              "name": "caseSensitive",
              "default": "false",
              "description": "Whether text comparisons are case sensitive"
            }
          ],
          "description": "Check if a single row matches a filter condition."
        },
        {
          "kind": "function",
          "name": "filterRows",
          "return": {
            "type": {
              "text": ""
            }
          },
          "parameters": [
            {
              "name": "rows",
              "type": {
                "text": "T[]"
              },
              "description": "The rows to filter"
            },
            {
              "name": "filters",
              "type": {
                "text": "FilterModel[]"
              },
              "description": "Array of filters to apply"
            },
            {
              "name": "caseSensitive",
              "default": "false",
              "description": "Whether text comparisons are case sensitive"
            }
          ],
          "description": "Filter rows based on multiple filter conditions (AND logic).\r\nAll filters must match for a row to be included."
        },
        {
          "kind": "function",
          "name": "computeFilterCacheKey",
          "return": {
            "type": {
              "text": ""
            }
          },
          "parameters": [
            {
              "name": "filters",
              "type": {
                "text": "FilterModel[]"
              },
              "description": "Array of filters"
            }
          ],
          "description": "Compute a cache key for a set of filters.\r\nUsed for memoization of filter results."
        },
        {
          "kind": "function",
          "name": "getUniqueValues",
          "return": {
            "type": {
              "text": ""
            }
          },
          "parameters": [
            {
              "name": "rows",
              "type": {
                "text": "T[]"
              },
              "description": "The rows to extract values from"
            },
            {
              "name": "field",
              "type": {
                "text": "string"
              },
              "description": "The field name"
            }
          ],
          "description": "Extract unique values from a field across all rows.\r\nUseful for populating \"set\" filter dropdowns."
        }
      ],
      "exports": [
        {
          "kind": "js",
          "name": "matchesFilter",
          "declaration": {
            "name": "matchesFilter",
            "module": "src/lib/plugins/filtering/filter-model.ts"
          }
        },
        {
          "kind": "js",
          "name": "filterRows",
          "declaration": {
            "name": "filterRows",
            "module": "src/lib/plugins/filtering/filter-model.ts"
          }
        },
        {
          "kind": "js",
          "name": "computeFilterCacheKey",
          "declaration": {
            "name": "computeFilterCacheKey",
            "module": "src/lib/plugins/filtering/filter-model.ts"
          }
        },
        {
          "kind": "js",
          "name": "getUniqueValues",
          "declaration": {
            "name": "getUniqueValues",
            "module": "src/lib/plugins/filtering/filter-model.ts"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/filtering/filtering.spec.ts",
      "declarations": [],
      "exports": []
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/filtering/filtering.stories.ts",
      "declarations": [
        {
          "kind": "variable",
          "name": "meta",
          "type": {
            "text": "Meta"
          },
          "default": "{ title: 'Grid/Plugins/Filtering', tags: ['!dev'], parameters: { layout: 'fullscreen' }, argTypes: { debounceMs: { control: { type: 'range', min: 0, max: 1000, step: 50 }, description: 'Debounce delay in ms for filter search', table: { category: 'Filtering', defaultValue: { summary: '150' } }, }, caseSensitive: { control: { type: 'boolean' }, description: 'Case-sensitive text filtering', table: { category: 'Filtering', defaultValue: { summary: 'false' } }, }, }, args: { debounceMs: 150, caseSensitive: false, }, }"
        },
        {
          "kind": "variable",
          "name": "Default",
          "type": {
            "text": "Story"
          },
          "default": "{ parameters: { docs: { source: { code: ` <!-- HTML --> <tbw-grid style=\"height: 400px;\"></tbw-grid> <script type=\"module\"> import '@toolbox-web/grid'; import { FilteringPlugin } from '@toolbox-web/grid/plugins/filtering'; const grid = document.querySelector('tbw-grid'); grid.gridConfig = { columns: [ { field: 'id', header: 'ID', type: 'number' }, { field: 'name', header: 'Name' }, { field: 'department', header: 'Department' }, { field: 'status', header: 'Status' }, ], plugins: [ new FilteringPlugin({ debounceMs: 150, caseSensitive: false, }), ], }; grid.rows = [...]; </script> `, language: 'html', }, }, }, render: (args: FilteringArgs) => { const grid = document.createElement('tbw-grid') as GridElement; grid.style.height = '400px'; grid.gridConfig = { columns, plugins: [ new FilteringPlugin({ debounceMs: args.debounceMs, caseSensitive: args.caseSensitive, }), ], }; grid.rows = sampleData; return grid; }, }",
          "description": "Basic filtering with built-in checkbox panel. Click the filter icon (⊻)\nin any column header to open the filter panel. Use the controls to adjust\ndebounce timing and case sensitivity."
        },
        {
          "kind": "variable",
          "name": "CustomFilterPanel",
          "type": {
            "text": "Story"
          },
          "default": "{ parameters: { docs: { source: { code: ` <!-- HTML --> <tbw-grid style=\"height: 400px;\"></tbw-grid> <script type=\"module\"> import '@toolbox-web/grid'; import { FilteringPlugin } from '@toolbox-web/grid/plugins/filtering'; const grid = document.querySelector('tbw-grid'); // Custom filter panel for Status column (radio-button style) const statusFilterPanel = (container, params) => { container.innerHTML = \\` <div style=\"padding: 8px; min-width: 140px;\"> <div style=\"font-weight: 600; margin-bottom: 8px;\">Filter by Status</div> <div class=\"status-options\"></div> <button class=\"clear-btn\" style=\"margin-top: 8px; width: 100%; padding: 6px; cursor: pointer;\">Clear</button> </div> \\`; const optionsDiv = container.querySelector('.status-options'); const options = ['All', ...params.uniqueValues.map(v => String(v))]; options.forEach(opt => { const label = document.createElement('label'); label.style.cssText = 'display: flex; align-items: center; gap: 6px; padding: 4px 0; cursor: pointer;'; const isAll = opt === 'All'; label.innerHTML = \\`<input type=\"radio\" name=\"status\" value=\"\\${opt}\" \\${isAll && params.excludedValues.size === 0 ? 'checked' : ''}> \\${opt}\\`; const input = label.querySelector('input'); input.addEventListener('change', () => { if (isAll) { params.clearFilter(); } else { // Exclude all except selected const excluded = params.uniqueValues.filter(v => String(v) !== opt); params.applySetFilter(excluded); } }); optionsDiv.appendChild(label); }); container.querySelector('.clear-btn').addEventListener('click', () => params.clearFilter()); }; grid.gridConfig = { columns: [ { field: 'id', header: 'ID', type: 'number', filterable: false }, { field: 'name', header: 'Name' }, { field: 'department', header: 'Department' }, { field: 'salary', header: 'Salary', type: 'number' }, { field: 'status', header: 'Status' }, ], plugins: [ new FilteringPlugin({ debounceMs: 150, caseSensitive: false, filterPanelRenderer: (container, params) => { if (params.field === 'status') { statusFilterPanel(container, params); } else { return undefined; // Use default panel for other columns } }, }), ], }; grid.rows = [ { id: 1, name: 'Alice Johnson', department: 'Engineering', salary: 95000, status: 'Active' }, { id: 2, name: 'Bob Smith', department: 'Marketing', salary: 75000, status: 'Active' }, { id: 3, name: 'Carol Williams', department: 'Engineering', salary: 105000, status: 'On Leave' }, { id: 4, name: 'Dan Brown', department: 'Sales', salary: 85000, status: 'Active' }, { id: 5, name: 'Eve Davis', department: 'Marketing', salary: 72000, status: 'Inactive' }, // ... ]; </script> `, language: 'html', }, }, }, render: (args: FilteringArgs) => { const grid = document.createElement('tbw-grid') as GridElement; grid.style.height = '400px'; // Custom filter panel for Status column (radio-button style) const statusFilterPanel = (container: HTMLElement, params: FilterPanelParams) => { container.innerHTML = ` <div style=\"padding: 8px; min-width: 140px;\"> <div style=\"font-weight: 600; margin-bottom: 8px; color: var(--tbw-color-fg);\"> Filter by Status </div> <div class=\"status-options\"></div> <button class=\"clear-btn\" style=\"margin-top: 8px; width: 100%; padding: 6px; cursor: pointer;\"> Clear </button> </div> `; const optionsDiv = container.querySelector('.status-options'); if (!optionsDiv) return; const options = ['All', ...params.uniqueValues.map((v) => String(v))]; options.forEach((opt) => { const label = document.createElement('label'); label.style.cssText = 'display: flex; align-items: center; gap: 6px; padding: 4px 0; cursor: pointer;'; const isAll = opt === 'All'; label.innerHTML = `<input type=\"radio\" name=\"status\" value=\"${opt}\" ${ isAll && params.excludedValues.size === 0 ? 'checked' : '' }> ${opt}`; const input = label.querySelector('input'); if (input) { input.addEventListener('change', () => { if (isAll) { params.clearFilter(); } else { // Exclude all except selected const excluded = params.uniqueValues.filter((v) => String(v) !== opt); params.applySetFilter(excluded); } }); } optionsDiv.appendChild(label); }); const clearBtn = container.querySelector('.clear-btn'); if (clearBtn) { clearBtn.addEventListener('click', () => params.clearFilter()); } }; grid.gridConfig = { columns, plugins: [ new FilteringPlugin({ debounceMs: args.debounceMs, caseSensitive: args.caseSensitive, filterPanelRenderer: (container, params) => { if (params.field === 'status') { statusFilterPanel(container, params); } else { return undefined; // Use default panel } }, }), ], }; grid.rows = sampleData; return grid; }, }",
          "description": "Custom filter panel renderer example. The Status column uses a custom\nradio-button style filter panel instead of the default checkbox list."
        },
        {
          "kind": "variable",
          "name": "CaseSensitive",
          "type": {
            "text": "Story"
          },
          "default": "{ args: { caseSensitive: true, debounceMs: 150, }, render: (args: FilteringArgs) => { const grid = document.createElement('tbw-grid') as GridElement; grid.style.height = '400px'; grid.gridConfig = { columns, plugins: [ new FilteringPlugin({ debounceMs: args.debounceMs, caseSensitive: args.caseSensitive, }), ], }; grid.rows = sampleData; return grid; }, }",
          "description": "Filtering with case-sensitive search enabled."
        },
        {
          "kind": "variable",
          "name": "NoDebounce",
          "type": {
            "text": "Story"
          },
          "default": "{ args: { debounceMs: 0, caseSensitive: false, }, render: (args: FilteringArgs) => { const grid = document.createElement('tbw-grid') as GridElement; grid.style.height = '400px'; grid.gridConfig = { columns, plugins: [ new FilteringPlugin({ debounceMs: args.debounceMs, caseSensitive: args.caseSensitive, }), ], }; grid.rows = sampleData; return grid; }, }",
          "description": "Instant filtering with no debounce delay (debounceMs: 0)."
        },
        {
          "kind": "variable",
          "name": "AsyncFiltering",
          "type": {
            "text": "StoryObj"
          },
          "default": "{ name: 'Async/Server-Side Filtering', parameters: { docs: { description: { story: `For large or server-side datasets, use \\`valuesHandler\\` to fetch unique values from the server and \\`filterHandler\\` to apply filters remotely. The filter panel shows a loading indicator while fetching values.`, }, source: { code: ` <!-- HTML --> <tbw-grid style=\"height: 400px;\"></tbw-grid> <script type=\"module\"> import '@toolbox-web/grid'; import { FilteringPlugin } from '@toolbox-web/grid/plugins/filtering'; const grid = document.querySelector('tbw-grid'); grid.gridConfig = { columns: [ { field: 'id', header: 'ID', type: 'number' }, { field: 'name', header: 'Name' }, { field: 'department', header: 'Department' }, { field: 'status', header: 'Status' }, ], plugins: [ new FilteringPlugin({ // Fetch unique values from server valuesHandler: async (field, column) => { const response = await fetch(\\`/api/distinct-values?field=\\${field}\\`); return response.json(); }, // Apply filters on server filterHandler: async (filters, currentRows) => { const response = await fetch('/api/data', { method: 'POST', body: JSON.stringify({ filters }), }); return response.json(); }, }), ], }; grid.rows = [...]; // Initial data </script> `, language: 'html', }, }, }, render: () => { const grid = document.createElement('tbw-grid') as GridElement; grid.style.height = '400px'; const serverData = generateMockData(1000); // Simulate server-side unique value extraction const getUniqueValues = async (field: string): Promise<unknown[]> => { await new Promise((r) => setTimeout(r, 200)); const values = [...new Set(serverData.map((row) => (row as Record<string, unknown>)[field]))]; return values.sort(); }; // Simulate server-side filtering // FilterModel uses { field, operator: 'notIn', value: excludedValues[] } const applyServerFilters = async ( filters: { field: string; operator: string; value: unknown }[], ): Promise<typeof serverData> => { await new Promise((r) => setTimeout(r, 300)); if (filters.length === 0) return serverData; return serverData.filter((row) => { return filters.every((filter) => { const excludedValues = filter.value as unknown[]; if (!excludedValues || excludedValues.length === 0) return true; const val = (row as Record<string, unknown>)[filter.field]; // 'notIn' means exclude these values, so row passes if value is NOT in excluded list return !excludedValues.includes(val); }); }); }; grid.gridConfig = { columns, plugins: [ new FilteringPlugin({ valuesHandler: getUniqueValues, filterHandler: applyServerFilters, }), ], }; grid.rows = serverData; return grid; }, }",
          "description": "Async filtering with server-side handlers. Use `valuesHandler` to fetch\nunique filter values from a server, and `filterHandler` to apply filters\nremotely. Ideal for large datasets where not all data is loaded locally."
        },
        {
          "kind": "variable",
          "name": "FilterEvents",
          "type": {
            "text": "StoryObj"
          },
          "default": "{ parameters: { docs: { source: { code: ` const grid = document.querySelector('tbw-grid'); grid.addEventListener('filter-change', (e) => { console.log('Active filters:', e.detail.filters); console.log('Visible rows:', e.detail.visibleRowCount); }); `, language: 'typescript', }, }, }, render: () => { const container = document.createElement('div'); container.style.cssText = 'display: grid; grid-template-columns: 1fr 320px; gap: 16px;'; const grid = document.createElement('tbw-grid') as GridElement; grid.id = 'filter-events-grid'; grid.style.height = '300px'; grid.gridConfig = { columns: [ { field: 'name', header: 'Name' }, { field: 'department', header: 'Department' }, { field: 'status', header: 'Status' }, ], plugins: [new FilteringPlugin({ debounceMs: 300 })], }; grid.rows = sampleData; // Event log panel const logPanel = document.createElement('div'); logPanel.style.cssText = 'border: 1px solid var(--sb-border); padding: 12px; border-radius: 4px; background: var(--sbdocs-bg); overflow-y: auto; max-height: 300px;'; logPanel.innerHTML = ` <div style=\"display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px;\"> <strong>Event Log:</strong> <button id=\"clear-log\" style=\"padding: 4px 8px; cursor: pointer; font-size: 12px;\">Clear</button> </div> <div id=\"event-log\" style=\"font-family: monospace; font-size: 11px; color: var(--sbdocs-fg);\"></div> `; container.appendChild(grid); container.appendChild(logPanel); // Setup event listeners setTimeout(() => { const log = container.querySelector('#event-log'); const clearBtn = container.querySelector('#clear-log'); if (!log) return; const addLog = (type: string, detail: string) => { const msg = document.createElement('div'); msg.style.cssText = 'padding: 2px 0; border-bottom: 1px solid var(--sb-border);'; msg.innerHTML = `<span style=\"color: var(--sb-accent-color);\">[${type}]</span> ${detail}`; log.insertBefore(msg, log.firstChild); while (log.children.length > 15) { log.lastChild?.remove(); } }; clearBtn?.addEventListener('click', () => { log.innerHTML = ''; }); grid.addEventListener('filter-change', (e: CustomEvent) => { const d = e.detail; const filterCount = d.filters?.length || 0; const fields = d.filters?.map((f: { field: string }) => f.field).join(', ') || 'none'; addLog('filter-change', `${filterCount} filter(s) on: ${fields}`); }); }, 50); return container; }, }",
          "description": "## Filter Events\n\nThe FilteringPlugin emits events when filter state changes:\n- `filter-change` - Fired when filters are applied, changed, or cleared\n\nOpen filter panels and apply filters to see the events."
        },
        {
          "kind": "variable",
          "name": "TypeSpecificFilters",
          "type": {
            "text": "Story"
          },
          "default": "{ parameters: { docs: { source: { code: ` <!-- HTML --> <tbw-grid style=\"height: 400px;\"></tbw-grid> <script type=\"module\"> import '@toolbox-web/grid'; import { FilteringPlugin } from '@toolbox-web/grid/plugins/filtering'; const grid = document.querySelector('tbw-grid'); grid.gridConfig = { columns: [ { field: 'id', header: 'ID', type: 'number', filterable: false }, { field: 'name', header: 'Name' }, // Set filter (default) { field: 'salary', header: 'Salary', type: 'number', // Range slider filter filterParams: { min: 50000, max: 150000, step: 5000 }, }, { field: 'hireDate', header: 'Hire Date', type: 'date', // Date range picker filter filterParams: { min: '2015-01-01', max: '2025-12-31' }, }, { field: 'rating', header: 'Rating', type: 'number', // Range slider with smaller step filterParams: { min: 1, max: 5, step: 0.1 }, }, ], plugins: [new FilteringPlugin()], }; grid.rows = [ { id: 1, name: 'Alice Johnson', salary: 95000, hireDate: '2020-03-15', rating: 4.5 }, { id: 2, name: 'Bob Smith', salary: 75000, hireDate: '2019-07-22', rating: 3.8 }, // ... ]; </script> `, language: 'html', }, }, }, render: () => { const grid = document.createElement('tbw-grid') as GridElement; grid.style.height = '400px'; grid.gridConfig = { columns: [ { field: 'id', header: 'ID', type: 'number' as const, filterable: false }, { field: 'name', header: 'Name' }, // Set filter (default) { field: 'salary', header: 'Salary', type: 'number' as const, // Range slider filter filterParams: { min: 50000, max: 150000, step: 5000 }, }, { field: 'hireDate', header: 'Hire Date', type: 'date' as const, // Date range picker filter filterParams: { min: '2015-01-01', max: '2025-12-31' }, }, { field: 'rating', header: 'Rating', type: 'number' as const, // Range slider with smaller step filterParams: { min: 1, max: 5, step: 0.1 }, }, ], plugins: [new FilteringPlugin()], }; grid.rows = typedData; return grid; }, }",
          "description": "Type-specific filter panels automatically display appropriate UI based on\ncolumn type:\n- **Number columns**: Range slider with min/max inputs\n- **Date columns**: Date range picker with from/to date inputs\n- **Other columns**: Standard checkbox set filter\n\nThe filter parameters (min, max, step) can be configured via `filterParams`\non the column, or will fall back to `editorParams` if set, or auto-detect\nfrom the data."
        }
      ],
      "exports": [
        {
          "kind": "js",
          "name": "default",
          "declaration": {
            "name": "meta",
            "module": "src/lib/plugins/filtering/filtering.stories.ts"
          }
        },
        {
          "kind": "js",
          "name": "Default",
          "declaration": {
            "name": "Default",
            "module": "src/lib/plugins/filtering/filtering.stories.ts"
          }
        },
        {
          "kind": "js",
          "name": "CustomFilterPanel",
          "declaration": {
            "name": "CustomFilterPanel",
            "module": "src/lib/plugins/filtering/filtering.stories.ts"
          }
        },
        {
          "kind": "js",
          "name": "CaseSensitive",
          "declaration": {
            "name": "CaseSensitive",
            "module": "src/lib/plugins/filtering/filtering.stories.ts"
          }
        },
        {
          "kind": "js",
          "name": "NoDebounce",
          "declaration": {
            "name": "NoDebounce",
            "module": "src/lib/plugins/filtering/filtering.stories.ts"
          }
        },
        {
          "kind": "js",
          "name": "AsyncFiltering",
          "declaration": {
            "name": "AsyncFiltering",
            "module": "src/lib/plugins/filtering/filtering.stories.ts"
          }
        },
        {
          "kind": "js",
          "name": "FilterEvents",
          "declaration": {
            "name": "FilterEvents",
            "module": "src/lib/plugins/filtering/filtering.stories.ts"
          }
        },
        {
          "kind": "js",
          "name": "TypeSpecificFilters",
          "declaration": {
            "name": "TypeSpecificFilters",
            "module": "src/lib/plugins/filtering/filtering.stories.ts"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/filtering/FilteringPlugin.ts",
      "declarations": [
        {
          "kind": "variable",
          "name": "field"
        },
        {
          "kind": "variable",
          "name": "uniqueValues"
        }
      ],
      "exports": []
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/filtering/index.ts",
      "declarations": [],
      "exports": [
        {
          "kind": "js",
          "name": "FilteringPlugin",
          "declaration": {
            "name": "FilteringPlugin",
            "module": "./FilteringPlugin"
          }
        },
        {
          "kind": "js",
          "name": "FilterChangeDetail",
          "declaration": {
            "name": "FilterChangeDetail",
            "module": "./types"
          }
        },
        {
          "kind": "js",
          "name": "FilterConfig",
          "declaration": {
            "name": "FilterConfig",
            "module": "./types"
          }
        },
        {
          "kind": "js",
          "name": "FilterModel",
          "declaration": {
            "name": "FilterModel",
            "module": "./types"
          }
        },
        {
          "kind": "js",
          "name": "FilterOperator",
          "declaration": {
            "name": "FilterOperator",
            "module": "./types"
          }
        },
        {
          "kind": "js",
          "name": "FilterParams",
          "declaration": {
            "name": "FilterParams",
            "module": "./types"
          }
        },
        {
          "kind": "js",
          "name": "FilterType",
          "declaration": {
            "name": "FilterType",
            "module": "./types"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/filtering/types.ts",
      "declarations": [],
      "exports": []
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/grouping-columns/grouping-columns-integration.spec.ts",
      "declarations": [],
      "exports": []
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/grouping-columns/grouping-columns.spec.ts",
      "declarations": [],
      "exports": []
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/grouping-columns/grouping-columns.stories.ts",
      "declarations": [
        {
          "kind": "variable",
          "name": "meta",
          "type": {
            "text": "Meta"
          },
          "default": "{ title: 'Grid/Plugins/Column Grouping', tags: ['!dev'], parameters: { layout: 'fullscreen' }, argTypes: { showGroupBorders: { control: { type: 'boolean' }, description: 'Show borders between column groups', table: { category: 'Column Groups', defaultValue: { summary: 'true' } }, }, }, args: { showGroupBorders: true, }, }"
        },
        {
          "kind": "variable",
          "name": "Default",
          "type": {
            "text": "Story"
          },
          "default": "{ parameters: { docs: { source: { code: ` <!-- HTML --> <tbw-grid style=\"height: 350px;\"></tbw-grid> <script type=\"module\"> import '@toolbox-web/grid'; import { GroupingColumnsPlugin } from '@toolbox-web/grid/plugins/grouping-columns'; const grid = document.querySelector('tbw-grid'); grid.gridConfig = { columns: [ { field: 'id', header: 'ID', type: 'number' }, { field: 'firstName', header: 'First Name', group: { id: 'personal', label: 'Personal Info' } }, { field: 'lastName', header: 'Last Name', group: { id: 'personal', label: 'Personal Info' } }, { field: 'email', header: 'Email', group: { id: 'personal', label: 'Personal Info' } }, { field: 'department', header: 'Department', group: { id: 'work', label: 'Work Info' } }, { field: 'title', header: 'Title', group: { id: 'work', label: 'Work Info' } }, { field: 'salary', header: 'Salary', type: 'number', group: { id: 'work', label: 'Work Info' } }, ], plugins: [new GroupingColumnsPlugin({ showGroupBorders: true })], }; grid.rows = [ { id: 1, firstName: 'Alice', lastName: 'Johnson', email: 'alice@example.com', department: 'Engineering', title: 'Senior Engineer', salary: 95000 }, { id: 2, firstName: 'Bob', lastName: 'Smith', email: 'bob@example.com', department: 'Marketing', title: 'Marketing Manager', salary: 85000 }, { id: 3, firstName: 'Carol', lastName: 'Williams', email: 'carol@example.com', department: 'Engineering', title: 'Lead Engineer', salary: 115000 }, ]; </script> `, language: 'html', }, }, }, render: (args: GroupingColumnsArgs) => { const grid = document.createElement('tbw-grid') as GridElement; grid.style.height = '350px'; grid.gridConfig = { columns: [ { field: 'id', header: 'ID', type: 'number' }, { field: 'firstName', header: 'First Name', group: { id: 'personal', label: 'Personal Info' } }, { field: 'lastName', header: 'Last Name', group: { id: 'personal', label: 'Personal Info' } }, { field: 'email', header: 'Email', group: { id: 'personal', label: 'Personal Info' } }, { field: 'department', header: 'Department', group: { id: 'work', label: 'Work Info' } }, { field: 'title', header: 'Title', group: { id: 'work', label: 'Work Info' } }, { field: 'salary', header: 'Salary', type: 'number', group: { id: 'work', label: 'Work Info' } }, ], plugins: [new GroupingColumnsPlugin({ showGroupBorders: args.showGroupBorders })], }; grid.rows = sampleData; return grid; }, }",
          "description": "Group related columns under a shared header row. Columns with the same\r\ngroup ID are grouped together."
        },
        {
          "kind": "variable",
          "name": "NoBorders",
          "type": {
            "text": "Story"
          },
          "default": "{ parameters: { docs: { source: { code: ` <!-- HTML --> <tbw-grid style=\"height: 350px;\"></tbw-grid> <script type=\"module\"> import '@toolbox-web/grid'; import { GroupingColumnsPlugin } from '@toolbox-web/grid/plugins/grouping-columns'; const grid = document.querySelector('tbw-grid'); grid.gridConfig = { columns: [ { field: 'id', header: 'ID', type: 'number' }, { field: 'firstName', header: 'First Name', group: { id: 'personal', label: 'Personal Info' } }, { field: 'lastName', header: 'Last Name', group: { id: 'personal', label: 'Personal Info' } }, { field: 'email', header: 'Email', group: { id: 'personal', label: 'Personal Info' } }, { field: 'department', header: 'Department', group: { id: 'work', label: 'Work Info' } }, { field: 'title', header: 'Title', group: { id: 'work', label: 'Work Info' } }, { field: 'salary', header: 'Salary', type: 'number', group: { id: 'work', label: 'Work Info' } }, ], plugins: [new GroupingColumnsPlugin({ showGroupBorders: false })], }; grid.rows = [ { id: 1, firstName: 'Alice', lastName: 'Johnson', email: 'alice@example.com', department: 'Engineering', title: 'Senior Engineer', salary: 95000 }, { id: 2, firstName: 'Bob', lastName: 'Smith', email: 'bob@example.com', department: 'Marketing', title: 'Marketing Manager', salary: 85000 }, { id: 3, firstName: 'Carol', lastName: 'Williams', email: 'carol@example.com', department: 'Engineering', title: 'Lead Engineer', salary: 115000 }, ]; </script> `, language: 'html', }, }, }, args: { showGroupBorders: false, }, render: (args: GroupingColumnsArgs) => { const grid = document.createElement('tbw-grid') as GridElement; grid.style.height = '350px'; grid.gridConfig = { columns: [ { field: 'id', header: 'ID', type: 'number' }, { field: 'firstName', header: 'First Name', group: { id: 'personal', label: 'Personal Info' } }, { field: 'lastName', header: 'Last Name', group: { id: 'personal', label: 'Personal Info' } }, { field: 'email', header: 'Email', group: { id: 'personal', label: 'Personal Info' } }, { field: 'department', header: 'Department', group: { id: 'work', label: 'Work Info' } }, { field: 'title', header: 'Title', group: { id: 'work', label: 'Work Info' } }, { field: 'salary', header: 'Salary', type: 'number', group: { id: 'work', label: 'Work Info' } }, ], plugins: [new GroupingColumnsPlugin({ showGroupBorders: args.showGroupBorders })], }; grid.rows = sampleData; return grid; }, }",
          "description": "Groups without visible borders."
        }
      ],
      "exports": [
        {
          "kind": "js",
          "name": "default",
          "declaration": {
            "name": "meta",
            "module": "src/lib/plugins/grouping-columns/grouping-columns.stories.ts"
          }
        },
        {
          "kind": "js",
          "name": "Default",
          "declaration": {
            "name": "Default",
            "module": "src/lib/plugins/grouping-columns/grouping-columns.stories.ts"
          }
        },
        {
          "kind": "js",
          "name": "NoBorders",
          "declaration": {
            "name": "NoBorders",
            "module": "src/lib/plugins/grouping-columns/grouping-columns.stories.ts"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/grouping-columns/grouping-columns.ts",
      "declarations": [
        {
          "kind": "function",
          "name": "computeColumnGroups",
          "return": {
            "type": {
              "text": ""
            }
          },
          "parameters": [
            {
              "name": "columns",
              "type": {
                "text": "ColumnConfig<T>[]"
              },
              "description": "Array of column configurations"
            }
          ],
          "description": "Compute column groups from column configuration.\r\nHandles explicit groups (via column.group) and creates implicit groups for ungrouped columns."
        },
        {
          "kind": "function",
          "name": "applyGroupedHeaderCellClasses",
          "return": {
            "type": {
              "text": "void"
            }
          },
          "parameters": [
            {
              "name": "headerRowEl",
              "type": {
                "text": "HTMLElement | null"
              },
              "description": "The header row element"
            },
            {
              "name": "groups",
              "type": {
                "text": "ColumnGroup[]"
              },
              "description": "The computed column groups"
            },
            {
              "name": "columns",
              "type": {
                "text": "ColumnConfig[]"
              },
              "description": "The column configurations"
            }
          ],
          "description": "Apply CSS classes to header cells based on their group membership."
        },
        {
          "kind": "function",
          "name": "buildGroupHeaderRow",
          "return": {
            "type": {
              "text": ""
            }
          },
          "parameters": [
            {
              "name": "groups",
              "type": {
                "text": "ColumnGroup[]"
              },
              "description": "The computed column groups"
            },
            {
              "name": "columns",
              "type": {
                "text": "ColumnConfig[]"
              },
              "description": "The column configurations (final array including any plugin-added columns)"
            }
          ],
          "description": "Build the group header row element."
        },
        {
          "kind": "function",
          "name": "hasColumnGroups",
          "return": {
            "type": {
              "text": ""
            }
          },
          "parameters": [
            {
              "name": "columns",
              "type": {
                "text": "ColumnConfig[]"
              },
              "description": "The column configurations"
            }
          ],
          "description": "Check if any columns have group configuration."
        },
        {
          "kind": "function",
          "name": "getColumnGroupId",
          "return": {
            "type": {
              "text": ""
            }
          },
          "parameters": [
            {
              "name": "column",
              "type": {
                "text": "ColumnConfig"
              },
              "description": "The column configuration"
            }
          ],
          "description": "Get group ID for a specific column."
        }
      ],
      "exports": [
        {
          "kind": "js",
          "name": "computeColumnGroups",
          "declaration": {
            "name": "computeColumnGroups",
            "module": "src/lib/plugins/grouping-columns/grouping-columns.ts"
          }
        },
        {
          "kind": "js",
          "name": "applyGroupedHeaderCellClasses",
          "declaration": {
            "name": "applyGroupedHeaderCellClasses",
            "module": "src/lib/plugins/grouping-columns/grouping-columns.ts"
          }
        },
        {
          "kind": "js",
          "name": "buildGroupHeaderRow",
          "declaration": {
            "name": "buildGroupHeaderRow",
            "module": "src/lib/plugins/grouping-columns/grouping-columns.ts"
          }
        },
        {
          "kind": "js",
          "name": "hasColumnGroups",
          "declaration": {
            "name": "hasColumnGroups",
            "module": "src/lib/plugins/grouping-columns/grouping-columns.ts"
          }
        },
        {
          "kind": "js",
          "name": "getColumnGroupId",
          "declaration": {
            "name": "getColumnGroupId",
            "module": "src/lib/plugins/grouping-columns/grouping-columns.ts"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/grouping-columns/GroupingColumnsPlugin.ts",
      "declarations": [],
      "exports": []
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/grouping-columns/index.ts",
      "declarations": [],
      "exports": [
        {
          "kind": "js",
          "name": "GroupingColumnsPlugin",
          "declaration": {
            "name": "GroupingColumnsPlugin",
            "module": "./GroupingColumnsPlugin"
          }
        },
        {
          "kind": "js",
          "name": "ColumnGroup",
          "declaration": {
            "name": "ColumnGroup",
            "module": "./types"
          }
        },
        {
          "kind": "js",
          "name": "ColumnGroupDefinition",
          "declaration": {
            "name": "ColumnGroupDefinition",
            "module": "./types"
          }
        },
        {
          "kind": "js",
          "name": "GroupingColumnsConfig",
          "declaration": {
            "name": "GroupingColumnsConfig",
            "module": "./types"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/grouping-columns/types.ts",
      "declarations": [],
      "exports": []
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/export/csv.ts",
      "declarations": [
        {
          "kind": "function",
          "name": "formatCsvValue",
          "return": {
            "type": {
              "text": "string"
            }
          },
          "parameters": [
            {
              "name": "value",
              "type": {
                "text": "any"
              }
            },
            {
              "name": "quote",
              "default": "true"
            }
          ],
          "description": "Format a value for CSV output.\r\nHandles null, Date, objects, and strings with special characters."
        },
        {
          "kind": "function",
          "name": "buildCsv",
          "return": {
            "type": {
              "text": "string"
            }
          },
          "parameters": [
            {
              "name": "rows",
              "type": {
                "text": "any[]"
              }
            },
            {
              "name": "columns",
              "type": {
                "text": "ColumnConfig[]"
              }
            },
            {
              "name": "params",
              "type": {
                "text": "ExportParams"
              }
            },
            {
              "name": "options",
              "default": "{}",
              "type": {
                "text": "CsvOptions"
              }
            }
          ],
          "description": "Build CSV content from rows and columns."
        },
        {
          "kind": "function",
          "name": "downloadBlob",
          "return": {
            "type": {
              "text": "void"
            }
          },
          "parameters": [
            {
              "name": "blob",
              "type": {
                "text": "Blob"
              }
            },
            {
              "name": "fileName",
              "type": {
                "text": "string"
              }
            }
          ],
          "description": "Download a Blob as a file."
        },
        {
          "kind": "function",
          "name": "downloadCsv",
          "return": {
            "type": {
              "text": "void"
            }
          },
          "parameters": [
            {
              "name": "content",
              "type": {
                "text": "string"
              }
            },
            {
              "name": "fileName",
              "type": {
                "text": "string"
              }
            }
          ],
          "description": "Download CSV content as a file."
        }
      ],
      "exports": [
        {
          "kind": "js",
          "name": "formatCsvValue",
          "declaration": {
            "name": "formatCsvValue",
            "module": "src/lib/plugins/export/csv.ts"
          }
        },
        {
          "kind": "js",
          "name": "buildCsv",
          "declaration": {
            "name": "buildCsv",
            "module": "src/lib/plugins/export/csv.ts"
          }
        },
        {
          "kind": "js",
          "name": "downloadBlob",
          "declaration": {
            "name": "downloadBlob",
            "module": "src/lib/plugins/export/csv.ts"
          }
        },
        {
          "kind": "js",
          "name": "downloadCsv",
          "declaration": {
            "name": "downloadCsv",
            "module": "src/lib/plugins/export/csv.ts"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/export/excel.ts",
      "declarations": [
        {
          "kind": "function",
          "name": "buildExcelXml",
          "return": {
            "type": {
              "text": "string"
            }
          },
          "parameters": [
            {
              "name": "rows",
              "type": {
                "text": "any[]"
              }
            },
            {
              "name": "columns",
              "type": {
                "text": "ColumnConfig[]"
              }
            },
            {
              "name": "params",
              "type": {
                "text": "ExportParams"
              }
            }
          ],
          "description": "Build Excel XML content from rows and columns.\r\nUses XML Spreadsheet 2003 format for broad compatibility."
        },
        {
          "kind": "function",
          "name": "downloadExcel",
          "return": {
            "type": {
              "text": "void"
            }
          },
          "parameters": [
            {
              "name": "content",
              "type": {
                "text": "string"
              }
            },
            {
              "name": "fileName",
              "type": {
                "text": "string"
              }
            }
          ],
          "description": "Download Excel XML content as a file."
        }
      ],
      "exports": [
        {
          "kind": "js",
          "name": "buildExcelXml",
          "declaration": {
            "name": "buildExcelXml",
            "module": "src/lib/plugins/export/excel.ts"
          }
        },
        {
          "kind": "js",
          "name": "downloadExcel",
          "declaration": {
            "name": "downloadExcel",
            "module": "src/lib/plugins/export/excel.ts"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/export/export.spec.ts",
      "declarations": [],
      "exports": []
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/export/export.stories.ts",
      "declarations": [
        {
          "kind": "variable",
          "name": "meta",
          "type": {
            "text": "Meta"
          },
          "default": "{ title: 'Grid/Plugins/Export', tags: ['!dev'], parameters: { layout: 'fullscreen' }, argTypes: { includeHeaders: { control: { type: 'boolean' }, description: 'Include column headers in export', table: { category: 'Export', defaultValue: { summary: 'true' } }, }, onlyVisible: { control: { type: 'boolean' }, description: 'Only export visible columns', table: { category: 'Export', defaultValue: { summary: 'true' } }, }, onlySelected: { control: { type: 'boolean' }, description: 'Only export selected rows', table: { category: 'Export', defaultValue: { summary: 'false' } }, }, }, args: { includeHeaders: true, onlyVisible: true, onlySelected: false, }, }"
        },
        {
          "kind": "variable",
          "name": "Default",
          "type": {
            "text": "Story"
          },
          "default": "{ parameters: { docs: { source: { code: ` <!-- HTML --> <div> <div class=\"export-controls\" style=\"padding: 8px; display: flex; gap: 8px;\"> <button class=\"export-csv\" style=\"padding: 6px 12px; cursor: pointer;\">Export CSV</button> <button class=\"export-excel\" style=\"padding: 6px 12px; cursor: pointer;\">Export Excel</button> <button class=\"export-json\" style=\"padding: 6px 12px; cursor: pointer;\">Export JSON</button> </div> <tbw-grid style=\"height: 350px;\"></tbw-grid> </div> <script type=\"module\"> import '@toolbox-web/grid'; import { SelectionPlugin } from '@toolbox-web/grid/plugins/selection'; import { ExportPlugin } from '@toolbox-web/grid/plugins/export'; const grid = document.querySelector('tbw-grid'); const exportPlugin = new ExportPlugin({ includeHeaders: true, onlyVisible: true, onlySelected: false, fileName: 'grid-export', }); grid.gridConfig = { columns: [ { field: 'id', header: 'ID', type: 'number' }, { field: 'name', header: 'Name' }, { field: 'department', header: 'Department' }, { field: 'salary', header: 'Salary', type: 'number' }, { field: 'startDate', header: 'Start Date' }, ], plugins: [ new SelectionPlugin({ mode: 'range' }), exportPlugin, ], }; grid.rows = [ { id: 1, name: 'Alice Johnson', department: 'Engineering', salary: 95000, startDate: '2023-01-15' }, { id: 2, name: 'Bob Smith', department: 'Marketing', salary: 75000, startDate: '2022-06-20' }, { id: 3, name: 'Carol Williams', department: 'Engineering', salary: 105000, startDate: '2021-03-10' }, { id: 4, name: 'Dan Brown', department: 'Sales', salary: 85000, startDate: '2023-08-05' }, ]; // Wire up export buttons document.querySelector('.export-csv').addEventListener('click', () => exportPlugin.exportCsv()); document.querySelector('.export-excel').addEventListener('click', () => exportPlugin.exportExcel()); document.querySelector('.export-json').addEventListener('click', () => exportPlugin.exportJson()); </script> `, language: 'html', }, }, }, render: (args: ExportArgs) => { const container = document.createElement('div'); // Create export buttons const controls = document.createElement('div'); controls.style.cssText = 'padding: 8px; display: flex; gap: 8px; flex-wrap: wrap;'; controls.innerHTML = ` <button class=\"export-csv\" style=\"padding: 6px 12px; cursor: pointer;\">Export CSV</button> <button class=\"export-excel\" style=\"padding: 6px 12px; cursor: pointer;\">Export Excel</button> <button class=\"export-json\" style=\"padding: 6px 12px; cursor: pointer;\">Export JSON</button> `; container.appendChild(controls); const grid = document.createElement('tbw-grid') as GridElement; grid.style.height = '350px'; container.appendChild(grid); const plugin = new ExportPlugin({ includeHeaders: args.includeHeaders, onlyVisible: args.onlyVisible, onlySelected: args.onlySelected, fileName: 'grid-export', }); grid.gridConfig = { columns, plugins: [new SelectionPlugin({ mode: 'range' }), plugin], }; grid.rows = sampleData; // Wire up export buttons controls.querySelector('.export-csv')?.addEventListener('click', () => plugin.exportCsv()); controls.querySelector('.export-excel')?.addEventListener('click', () => plugin.exportExcel()); controls.querySelector('.export-json')?.addEventListener('click', () => plugin.exportJson()); return container; }, }",
          "description": "Export grid data to CSV, Excel, or JSON formats. Click the export buttons\r\nabove the grid to download data."
        },
        {
          "kind": "variable",
          "name": "ExportSelected",
          "type": {
            "text": "Story"
          },
          "default": "{ parameters: { docs: { source: { code: ` <!-- HTML --> <div> <div style=\"padding: 8px;\"> <button class=\"export-csv\" style=\"padding: 6px 12px; cursor: pointer;\">Export Selected (CSV)</button> </div> <tbw-grid style=\"height: 350px;\"></tbw-grid> </div> <script type=\"module\"> import '@toolbox-web/grid'; import { SelectionPlugin } from '@toolbox-web/grid/plugins/selection'; import { ExportPlugin } from '@toolbox-web/grid/plugins/export'; const grid = document.querySelector('tbw-grid'); const exportPlugin = new ExportPlugin({ includeHeaders: true, onlyVisible: true, onlySelected: true, // Only export selected rows fileName: 'selected-export', }); grid.gridConfig = { columns: [ { field: 'id', header: 'ID', type: 'number' }, { field: 'name', header: 'Name' }, { field: 'department', header: 'Department' }, { field: 'salary', header: 'Salary', type: 'number' }, { field: 'startDate', header: 'Start Date' }, ], plugins: [ new SelectionPlugin({ mode: 'range' }), // Enable range selection exportPlugin, ], }; grid.rows = [ { id: 1, name: 'Alice Johnson', department: 'Engineering', salary: 95000, startDate: '2023-01-15' }, { id: 2, name: 'Bob Smith', department: 'Marketing', salary: 75000, startDate: '2022-06-20' }, { id: 3, name: 'Carol Williams', department: 'Engineering', salary: 105000, startDate: '2021-03-10' }, { id: 4, name: 'Dan Brown', department: 'Sales', salary: 85000, startDate: '2023-08-05' }, ]; // Select rows first, then export document.querySelector('.export-csv').addEventListener('click', () => exportPlugin.exportCsv()); </script> `, language: 'html', }, }, }, args: { includeHeaders: true, onlyVisible: true, onlySelected: true, }, render: (args: ExportArgs) => { const container = document.createElement('div'); const controls = document.createElement('div'); controls.style.cssText = 'padding: 8px; display: flex; gap: 8px; flex-wrap: wrap;'; controls.innerHTML = ` <button class=\"export-csv\" style=\"padding: 6px 12px; cursor: pointer;\">Export Selected (CSV)</button> `; container.appendChild(controls); const grid = document.createElement('tbw-grid') as GridElement; grid.style.height = '350px'; container.appendChild(grid); const plugin = new ExportPlugin({ includeHeaders: args.includeHeaders, onlyVisible: args.onlyVisible, onlySelected: args.onlySelected, fileName: 'selected-export', }); grid.gridConfig = { columns, plugins: [new SelectionPlugin({ mode: 'range' }), plugin], }; grid.rows = sampleData; controls.querySelector('.export-csv')?.addEventListener('click', () => plugin.exportCsv()); return container; }, }",
          "description": "Export only selected rows. Select rows first, then click export."
        }
      ],
      "exports": [
        {
          "kind": "js",
          "name": "default",
          "declaration": {
            "name": "meta",
            "module": "src/lib/plugins/export/export.stories.ts"
          }
        },
        {
          "kind": "js",
          "name": "Default",
          "declaration": {
            "name": "Default",
            "module": "src/lib/plugins/export/export.stories.ts"
          }
        },
        {
          "kind": "js",
          "name": "ExportSelected",
          "declaration": {
            "name": "ExportSelected",
            "module": "src/lib/plugins/export/export.stories.ts"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/export/ExportPlugin.ts",
      "declarations": [],
      "exports": []
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/export/index.ts",
      "declarations": [],
      "exports": [
        {
          "kind": "js",
          "name": "ExportPlugin",
          "declaration": {
            "name": "ExportPlugin",
            "module": "./ExportPlugin"
          }
        },
        {
          "kind": "js",
          "name": "ExportCompleteDetail",
          "declaration": {
            "name": "ExportCompleteDetail",
            "module": "./types"
          }
        },
        {
          "kind": "js",
          "name": "ExportConfig",
          "declaration": {
            "name": "ExportConfig",
            "module": "./types"
          }
        },
        {
          "kind": "js",
          "name": "ExportFormat",
          "declaration": {
            "name": "ExportFormat",
            "module": "./types"
          }
        },
        {
          "kind": "js",
          "name": "ExportParams",
          "declaration": {
            "name": "ExportParams",
            "module": "./types"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/export/types.ts",
      "declarations": [],
      "exports": []
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/grouping-rows/grouping-rows-plugin.spec.ts",
      "declarations": [],
      "exports": []
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/grouping-rows/grouping-rows.spec.ts",
      "declarations": [],
      "exports": []
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/grouping-rows/grouping-rows.stories.ts",
      "declarations": [
        {
          "kind": "variable",
          "name": "meta",
          "type": {
            "text": "Meta"
          },
          "default": "{ title: 'Grid/Plugins/Row Grouping', tags: ['!dev'], parameters: { layout: 'fullscreen' }, argTypes: { animation: { control: { type: 'select' }, options: [false, 'slide', 'fade'], description: 'Animation style for expand/collapse', table: { category: 'Row Grouping', defaultValue: { summary: \"'slide'\" } }, }, defaultExpanded: { control: { type: 'boolean' }, description: 'Initial expanded state: `true` (all), `false` (none), `number` (by index), `string` (by key), `string[]` (multiple keys)', table: { category: 'Row Grouping', defaultValue: { summary: 'false' } }, }, showRowCount: { control: { type: 'boolean' }, description: 'Show row count in group headers', table: { category: 'Row Grouping', defaultValue: { summary: 'true' } }, }, indentWidth: { control: { type: 'range', min: 10, max: 40, step: 5 }, description: 'Indentation width per depth level in pixels', table: { category: 'Row Grouping', defaultValue: { summary: '20' } }, }, fullWidth: { control: { type: 'boolean' }, description: 'Group row spans full width (vs per-column)', table: { category: 'Row Grouping', defaultValue: { summary: 'true' } }, }, accordion: { control: { type: 'boolean' }, description: 'Only one group can be open at a time', table: { category: 'Row Grouping', defaultValue: { summary: 'false' } }, }, showAggregators: { control: { type: 'boolean' }, description: 'Show aggregate values (sum of salary) in group headers', table: { category: 'Row Grouping', defaultValue: { summary: 'false' } }, }, }, args: { animation: 'slide' as const, defaultExpanded: false, showRowCount: true, indentWidth: 20, fullWidth: true, accordion: false, showAggregators: false, }, }"
        },
        {
          "kind": "variable",
          "name": "Default",
          "type": {
            "text": "Story"
          },
          "default": "{ parameters: { docs: { source: { code: ` <!-- HTML --> <tbw-grid style=\"height: 400px;\"></tbw-grid> <script type=\"module\"> import '@toolbox-web/grid'; import { GroupingRowsPlugin } from '@toolbox-web/grid/plugins/grouping-rows'; const grid = document.querySelector('tbw-grid'); grid.gridConfig = { columns: [ { field: 'id', header: 'ID', type: 'number' }, { field: 'name', header: 'Name' }, { field: 'department', header: 'Department' }, { field: 'salary', header: 'Salary', type: 'number' }, ], plugins: [ new GroupingRowsPlugin({ groupOn: (row) => row.department, defaultExpanded: false, showRowCount: true, indentWidth: 20, }), ], }; grid.rows = [ { id: 1, name: 'Alice', department: 'Engineering', salary: 95000 }, { id: 2, name: 'Bob', department: 'Marketing', salary: 75000 }, { id: 3, name: 'Carol', department: 'Engineering', salary: 105000 }, { id: 4, name: 'Dan', department: 'Sales', salary: 85000 }, { id: 5, name: 'Eve', department: 'Marketing', salary: 72000 }, { id: 6, name: 'Frank', department: 'Engineering', salary: 98000 }, { id: 7, name: 'Grace', department: 'Sales', salary: 88000 }, ]; </script> `, language: 'html', }, }, }, render: (args: GroupingRowsArgs) => { const grid = document.createElement('tbw-grid') as GridElement; grid.style.height = '400px'; grid.gridConfig = { columns, plugins: [ new GroupingRowsPlugin({ animation: args.animation, groupOn: (row: { department: string }) => row.department, defaultExpanded: args.defaultExpanded, showRowCount: args.showRowCount, indentWidth: args.indentWidth, fullWidth: args.fullWidth, accordion: args.accordion, aggregators: args.showAggregators ? { salary: 'sum' } : undefined, }), ], }; grid.rows = sampleData; return grid; }, }",
          "description": "Group rows by a field value. Click group headers to expand/collapse."
        },
        {
          "kind": "variable",
          "name": "ExpandedByDefault",
          "type": {
            "text": "Story"
          },
          "default": "{ parameters: { docs: { source: { code: ` <!-- HTML --> <tbw-grid style=\"height: 400px;\"></tbw-grid> <script type=\"module\"> import '@toolbox-web/grid'; import { GroupingRowsPlugin } from '@toolbox-web/grid/plugins/grouping-rows'; const grid = document.querySelector('tbw-grid'); grid.gridConfig = { columns: [ { field: 'id', header: 'ID', type: 'number' }, { field: 'name', header: 'Name' }, { field: 'department', header: 'Department' }, { field: 'salary', header: 'Salary', type: 'number' }, ], plugins: [ new GroupingRowsPlugin({ groupOn: (row) => row.department, defaultExpanded: true, // All groups expanded initially }), ], }; grid.rows = [ { id: 1, name: 'Alice', department: 'Engineering', salary: 95000 }, { id: 2, name: 'Bob', department: 'Marketing', salary: 75000 }, { id: 3, name: 'Carol', department: 'Engineering', salary: 105000 }, // ... ]; </script> `, language: 'html', }, }, }, args: { defaultExpanded: true, showRowCount: true, indentWidth: 20, }, render: (args: GroupingRowsArgs) => { const grid = document.createElement('tbw-grid') as GridElement; grid.style.height = '400px'; grid.gridConfig = { columns, plugins: [ new GroupingRowsPlugin({ groupOn: (row: { department: string }) => row.department, defaultExpanded: args.defaultExpanded, showRowCount: args.showRowCount, indentWidth: args.indentWidth, }), ], }; grid.rows = sampleData; return grid; }, }",
          "description": "Groups expanded by default."
        },
        {
          "kind": "variable",
          "name": "NoRowCount",
          "type": {
            "text": "Story"
          },
          "default": "{ parameters: { docs: { source: { code: ` <!-- HTML --> <tbw-grid style=\"height: 400px;\"></tbw-grid> <script type=\"module\"> import '@toolbox-web/grid'; import { GroupingRowsPlugin } from '@toolbox-web/grid/plugins/grouping-rows'; const grid = document.querySelector('tbw-grid'); grid.gridConfig = { columns: [ { field: 'id', header: 'ID', type: 'number' }, { field: 'name', header: 'Name' }, { field: 'department', header: 'Department' }, { field: 'salary', header: 'Salary', type: 'number' }, ], plugins: [ new GroupingRowsPlugin({ groupOn: (row) => row.department, showRowCount: false, // Hide row count in headers }), ], }; grid.rows = [ { id: 1, name: 'Alice', department: 'Engineering', salary: 95000 }, { id: 2, name: 'Bob', department: 'Marketing', salary: 75000 }, // ... ]; </script> `, language: 'html', }, }, }, args: { defaultExpanded: false, showRowCount: false, indentWidth: 20, }, render: (args: GroupingRowsArgs) => { const grid = document.createElement('tbw-grid') as GridElement; grid.style.height = '400px'; grid.gridConfig = { columns, plugins: [ new GroupingRowsPlugin({ groupOn: (row: { department: string }) => row.department, defaultExpanded: args.defaultExpanded, showRowCount: args.showRowCount, indentWidth: args.indentWidth, }), ], }; grid.rows = sampleData; return grid; }, }",
          "description": "Row count hidden in group headers."
        },
        {
          "kind": "variable",
          "name": "AccordionMode",
          "type": {
            "text": "Story"
          },
          "default": "{ parameters: { docs: { source: { code: ` <!-- HTML --> <tbw-grid style=\"height: 400px;\"></tbw-grid> <script type=\"module\"> import '@toolbox-web/grid'; import { GroupingRowsPlugin } from '@toolbox-web/grid/plugins/grouping-rows'; const grid = document.querySelector('tbw-grid'); grid.gridConfig = { columns: [ { field: 'id', header: 'ID', type: 'number' }, { field: 'name', header: 'Name' }, { field: 'department', header: 'Department' }, { field: 'salary', header: 'Salary', type: 'number' }, ], plugins: [ new GroupingRowsPlugin({ groupOn: (row) => row.department, accordion: true, // Only one group open at a time }), ], }; grid.rows = [ { id: 1, name: 'Alice', department: 'Engineering', salary: 95000 }, { id: 2, name: 'Bob', department: 'Marketing', salary: 75000 }, // ... ]; </script> `, language: 'html', }, }, }, args: { defaultExpanded: false, showRowCount: true, indentWidth: 20, }, render: (args: GroupingRowsArgs) => { const grid = document.createElement('tbw-grid') as GridElement; grid.style.height = '400px'; grid.gridConfig = { columns, plugins: [ new GroupingRowsPlugin({ groupOn: (row: { department: string }) => row.department, accordion: true, defaultExpanded: args.defaultExpanded, showRowCount: args.showRowCount, indentWidth: args.indentWidth, }), ], }; grid.rows = sampleData; return grid; }, }",
          "description": "Accordion mode - only one group can be open at a time.\r\nExpanding a group automatically collapses all other groups."
        },
        {
          "kind": "variable",
          "name": "WithAggregators",
          "type": {
            "text": "Story"
          },
          "default": "{ parameters: { docs: { source: { code: ` <!-- HTML --> <tbw-grid style=\"height: 400px;\"></tbw-grid> <script type=\"module\"> import '@toolbox-web/grid'; import { GroupingRowsPlugin } from '@toolbox-web/grid/plugins/grouping-rows'; const grid = document.querySelector('tbw-grid'); grid.gridConfig = { columns: [ { field: 'id', header: 'ID', type: 'number' }, { field: 'name', header: 'Name' }, { field: 'department', header: 'Department' }, { field: 'salary', header: 'Salary', type: 'number' }, ], plugins: [ new GroupingRowsPlugin({ groupOn: (row) => row.department, aggregators: { salary: 'sum', // Sum of salaries in each group }, }), ], }; grid.rows = [ { id: 1, name: 'Alice', department: 'Engineering', salary: 95000 }, { id: 2, name: 'Bob', department: 'Marketing', salary: 75000 }, // ... ]; </script> `, language: 'html', }, }, }, args: { defaultExpanded: false, showRowCount: true, indentWidth: 20, }, render: (args: GroupingRowsArgs) => { const grid = document.createElement('tbw-grid') as GridElement; grid.style.height = '400px'; grid.gridConfig = { columns, plugins: [ new GroupingRowsPlugin({ groupOn: (row: { department: string }) => row.department, defaultExpanded: args.defaultExpanded, showRowCount: args.showRowCount, indentWidth: args.indentWidth, aggregators: { salary: 'sum', }, }), ], }; grid.rows = sampleData; return grid; }, }",
          "description": "Group rows with aggregated values displayed in the group header.\r\nAggregators can show sum, avg, count, min, max, etc."
        },
        {
          "kind": "variable",
          "name": "DefaultExpandedByKey",
          "type": {
            "text": "Story"
          },
          "default": "{ parameters: { docs: { source: { code: ` <!-- HTML --> <tbw-grid style=\"height: 400px;\"></tbw-grid> <script type=\"module\"> import '@toolbox-web/grid'; import { GroupingRowsPlugin } from '@toolbox-web/grid/plugins/grouping-rows'; const grid = document.querySelector('tbw-grid'); grid.gridConfig = { columns: [...], plugins: [ new GroupingRowsPlugin({ groupOn: (row) => row.department, // Expand only the \"Engineering\" group by default defaultExpanded: 'Engineering', }), ], }; grid.rows = [...]; </script> `, language: 'html', }, }, }, args: { showRowCount: true, indentWidth: 20, }, render: (args: GroupingRowsArgs) => { const grid = document.createElement('tbw-grid') as GridElement; grid.style.height = '400px'; grid.gridConfig = { columns, plugins: [ new GroupingRowsPlugin({ groupOn: (row: { department: string }) => row.department, defaultExpanded: 'Engineering', // Expand only Engineering showRowCount: args.showRowCount, indentWidth: args.indentWidth, }), ], }; grid.rows = sampleData; return grid; }, }",
          "description": "The `defaultExpanded` option supports multiple value types:\r\n- `true`: Expand all groups\r\n- `false`: Collapse all groups (default)\r\n- `number`: Expand group at this index (0-based)\r\n- `string`: Expand group with this key\r\n- `string[]`: Expand multiple groups by key\r\n\r\nThis example expands only the \"Engineering\" group by default."
        }
      ],
      "exports": [
        {
          "kind": "js",
          "name": "default",
          "declaration": {
            "name": "meta",
            "module": "src/lib/plugins/grouping-rows/grouping-rows.stories.ts"
          }
        },
        {
          "kind": "js",
          "name": "Default",
          "declaration": {
            "name": "Default",
            "module": "src/lib/plugins/grouping-rows/grouping-rows.stories.ts"
          }
        },
        {
          "kind": "js",
          "name": "ExpandedByDefault",
          "declaration": {
            "name": "ExpandedByDefault",
            "module": "src/lib/plugins/grouping-rows/grouping-rows.stories.ts"
          }
        },
        {
          "kind": "js",
          "name": "NoRowCount",
          "declaration": {
            "name": "NoRowCount",
            "module": "src/lib/plugins/grouping-rows/grouping-rows.stories.ts"
          }
        },
        {
          "kind": "js",
          "name": "AccordionMode",
          "declaration": {
            "name": "AccordionMode",
            "module": "src/lib/plugins/grouping-rows/grouping-rows.stories.ts"
          }
        },
        {
          "kind": "js",
          "name": "WithAggregators",
          "declaration": {
            "name": "WithAggregators",
            "module": "src/lib/plugins/grouping-rows/grouping-rows.stories.ts"
          }
        },
        {
          "kind": "js",
          "name": "DefaultExpandedByKey",
          "declaration": {
            "name": "DefaultExpandedByKey",
            "module": "src/lib/plugins/grouping-rows/grouping-rows.stories.ts"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/grouping-rows/grouping-rows.ts",
      "declarations": [
        {
          "kind": "function",
          "name": "buildGroupedRowModel",
          "return": {
            "type": {
              "text": ""
            }
          },
          "parameters": [
            {
              "name": "{ rows, config, expanded, initialExpanded }",
              "type": {
                "text": "BuildGroupingArgs"
              }
            },
            {
              "description": "The grouping arguments",
              "name": "args"
            }
          ],
          "description": "Build a flattened grouping projection (collapsed by default).\r\nReturns empty array when groupOn not configured or all rows ungrouped."
        },
        {
          "kind": "function",
          "name": "toggleGroupExpansion",
          "return": {
            "type": {
              "text": ""
            }
          },
          "parameters": [
            {
              "name": "expandedKeys",
              "type": {
                "text": "Set<string>"
              },
              "description": "Current set of expanded keys"
            },
            {
              "name": "key",
              "type": {
                "text": "string"
              },
              "description": "The group key to toggle"
            }
          ],
          "description": "Toggle expansion state for a group key."
        },
        {
          "kind": "function",
          "name": "expandAllGroups",
          "return": {
            "type": {
              "text": ""
            }
          },
          "parameters": [
            {
              "name": "rows",
              "type": {
                "text": "RenderRow[]"
              },
              "description": "The flattened render rows"
            }
          ],
          "description": "Expand all groups."
        },
        {
          "kind": "function",
          "name": "collapseAllGroups",
          "return": {
            "type": {
              "text": ""
            }
          },
          "description": "Collapse all groups."
        },
        {
          "kind": "function",
          "name": "resolveDefaultExpanded",
          "return": {
            "type": {
              "text": ""
            }
          },
          "parameters": [
            {
              "name": "value",
              "type": {
                "text": "DefaultExpandedValue"
              },
              "description": "The defaultExpanded config value"
            },
            {
              "name": "allGroupKeys",
              "type": {
                "text": "string[]"
              },
              "description": "All group keys from the model"
            }
          ],
          "description": "Resolve a defaultExpanded value to a set of keys to expand.\r\nThis needs to be called AFTER building the group model to get all keys."
        },
        {
          "kind": "function",
          "name": "getGroupKeys",
          "return": {
            "type": {
              "text": ""
            }
          },
          "parameters": [
            {
              "name": "rows",
              "type": {
                "text": "RenderRow[]"
              },
              "description": "The flattened render rows"
            }
          ],
          "description": "Get all group keys from a flattened model."
        },
        {
          "kind": "function",
          "name": "getGroupRowCount",
          "return": {
            "type": {
              "text": ""
            }
          },
          "parameters": [
            {
              "name": "groupRow",
              "type": {
                "text": "RenderRow"
              },
              "description": "The group row"
            }
          ],
          "description": "Count total rows in a group (including nested groups)."
        }
      ],
      "exports": [
        {
          "kind": "js",
          "name": "getAggregator",
          "declaration": {
            "name": "getAggregator",
            "module": "../../core/internal/aggregators"
          }
        },
        {
          "kind": "js",
          "name": "listAggregators",
          "declaration": {
            "name": "listAggregators",
            "module": "../../core/internal/aggregators"
          }
        },
        {
          "kind": "js",
          "name": "registerAggregator",
          "declaration": {
            "name": "registerAggregator",
            "module": "../../core/internal/aggregators"
          }
        },
        {
          "kind": "js",
          "name": "runAggregator",
          "declaration": {
            "name": "runAggregator",
            "module": "../../core/internal/aggregators"
          }
        },
        {
          "kind": "js",
          "name": "buildGroupedRowModel",
          "declaration": {
            "name": "buildGroupedRowModel",
            "module": "src/lib/plugins/grouping-rows/grouping-rows.ts"
          }
        },
        {
          "kind": "js",
          "name": "toggleGroupExpansion",
          "declaration": {
            "name": "toggleGroupExpansion",
            "module": "src/lib/plugins/grouping-rows/grouping-rows.ts"
          }
        },
        {
          "kind": "js",
          "name": "expandAllGroups",
          "declaration": {
            "name": "expandAllGroups",
            "module": "src/lib/plugins/grouping-rows/grouping-rows.ts"
          }
        },
        {
          "kind": "js",
          "name": "collapseAllGroups",
          "declaration": {
            "name": "collapseAllGroups",
            "module": "src/lib/plugins/grouping-rows/grouping-rows.ts"
          }
        },
        {
          "kind": "js",
          "name": "resolveDefaultExpanded",
          "declaration": {
            "name": "resolveDefaultExpanded",
            "module": "src/lib/plugins/grouping-rows/grouping-rows.ts"
          }
        },
        {
          "kind": "js",
          "name": "getGroupKeys",
          "declaration": {
            "name": "getGroupKeys",
            "module": "src/lib/plugins/grouping-rows/grouping-rows.ts"
          }
        },
        {
          "kind": "js",
          "name": "getGroupRowCount",
          "declaration": {
            "name": "getGroupRowCount",
            "module": "src/lib/plugins/grouping-rows/grouping-rows.ts"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/grouping-rows/GroupingRowsPlugin.ts",
      "declarations": [],
      "exports": []
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/grouping-rows/index.ts",
      "declarations": [],
      "exports": [
        {
          "kind": "js",
          "name": "GroupingRowsPlugin",
          "declaration": {
            "name": "GroupingRowsPlugin",
            "module": "./GroupingRowsPlugin"
          }
        },
        {
          "kind": "js",
          "name": "DefaultExpandedValue",
          "declaration": {
            "name": "DefaultExpandedValue",
            "module": "./types"
          }
        },
        {
          "kind": "js",
          "name": "GroupRowRenderParams",
          "declaration": {
            "name": "GroupRowRenderParams",
            "module": "./types"
          }
        },
        {
          "kind": "js",
          "name": "GroupToggleDetail",
          "declaration": {
            "name": "GroupToggleDetail",
            "module": "./types"
          }
        },
        {
          "kind": "js",
          "name": "GroupingRowsConfig",
          "declaration": {
            "name": "GroupingRowsConfig",
            "module": "./types"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/grouping-rows/types.ts",
      "declarations": [],
      "exports": [
        {
          "kind": "js",
          "name": "AggregatorFn",
          "declaration": {
            "name": "AggregatorFn",
            "module": "../../core/internal/aggregators"
          }
        },
        {
          "kind": "js",
          "name": "AggregatorRef",
          "declaration": {
            "name": "AggregatorRef",
            "module": "../../core/internal/aggregators"
          }
        },
        {
          "kind": "js",
          "name": "ExpandCollapseAnimation",
          "declaration": {
            "name": "ExpandCollapseAnimation",
            "module": "../../core/types"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/pinned-rows/index.ts",
      "declarations": [],
      "exports": [
        {
          "kind": "js",
          "name": "PinnedRowsPlugin",
          "declaration": {
            "name": "PinnedRowsPlugin",
            "module": "./PinnedRowsPlugin"
          }
        },
        {
          "kind": "js",
          "name": "AggregationRowConfig",
          "declaration": {
            "name": "AggregationRowConfig",
            "module": "./types"
          }
        },
        {
          "kind": "js",
          "name": "AggregatorDefinition",
          "declaration": {
            "name": "AggregatorDefinition",
            "module": "./types"
          }
        },
        {
          "kind": "js",
          "name": "PinnedRowsConfig",
          "declaration": {
            "name": "PinnedRowsConfig",
            "module": "./types"
          }
        },
        {
          "kind": "js",
          "name": "PinnedRowsContext",
          "declaration": {
            "name": "PinnedRowsContext",
            "module": "./types"
          }
        },
        {
          "kind": "js",
          "name": "PinnedRowsPanel",
          "declaration": {
            "name": "PinnedRowsPanel",
            "module": "./types"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/pinned-rows/pinned-rows-plugin.spec.ts",
      "declarations": [],
      "exports": []
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/pinned-rows/pinned-rows.spec.ts",
      "declarations": [],
      "exports": []
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/pinned-rows/pinned-rows.stories.ts",
      "declarations": [
        {
          "kind": "variable",
          "name": "meta",
          "type": {
            "text": "Meta"
          },
          "default": "{ title: 'Grid/Plugins/Pinned Rows', tags: ['!dev'], parameters: { layout: 'fullscreen' }, argTypes: { position: { control: { type: 'radio' }, options: ['top', 'bottom'], description: 'Position of the info bar', table: { category: 'Info Bar', defaultValue: { summary: 'bottom' } }, }, showRowCount: { control: { type: 'boolean' }, description: 'Show total row count in info bar', table: { category: 'Info Bar', defaultValue: { summary: 'true' } }, }, }, args: { position: 'bottom', showRowCount: true, }, }"
        },
        {
          "kind": "variable",
          "name": "Default",
          "type": {
            "text": "Story"
          },
          "default": "{ parameters: { docs: { source: { code: ` <!-- HTML --> <tbw-grid style=\"height: 400px;\"></tbw-grid> <script type=\"module\"> import '@toolbox-web/grid'; import { PinnedRowsPlugin } from '@toolbox-web/grid/plugins/pinned-rows'; const grid = document.querySelector('tbw-grid'); grid.gridConfig = { columns: [ { field: 'id', header: 'ID', type: 'number' }, { field: 'name', header: 'Name' }, { field: 'quantity', header: 'Qty', type: 'number' }, { field: 'price', header: 'Price', type: 'number' }, ], plugins: [ new PinnedRowsPlugin({ position: 'bottom', showRowCount: true, aggregationRows: [ { id: 'totals', position: 'bottom', aggregators: { // Custom aggregator function name: (rows) => \\`\\${new Set(rows.map(r => r.name)).size} unique\\`, // Built-in aggregator quantity: 'sum', // Object syntax with formatter for currency price: { aggFunc: 'sum', formatter: (value) => \\`$\\${value.toFixed(2)}\\`, }, }, cells: { id: 'Totals:' }, }, ], }), ], }; // Generate sample product data grid.rows = [ { id: 1, name: 'Widget', quantity: 50, price: 25.00 }, { id: 2, name: 'Gadget', quantity: 30, price: 45.50 }, { id: 3, name: 'Widget', quantity: 25, price: 25.00 }, { id: 4, name: 'Gizmo', quantity: 80, price: 12.99 }, // ... more rows ]; </script> `, language: 'html', }, }, }, render: (args: PinnedRowsArgs) => { const grid = document.createElement('tbw-grid') as GridElement; grid.style.height = '400px'; grid.gridConfig = { columns, plugins: [ new PinnedRowsPlugin({ position: args.position, showRowCount: args.showRowCount, aggregationRows: [ { id: 'totals', position: 'bottom', aggregators: { name: (rows) => `${new Set(rows.map((r) => r.name)).size} unique`, quantity: 'sum', price: { aggFunc: 'sum', formatter: formatCurrency }, }, cells: { id: 'Totals:' }, }, ], }), ], }; grid.rows = generateData(100); return grid; }, }",
          "description": "Status bar with aggregation rows showing totals at the bottom.\r\nScroll to see the pinned rows stay fixed."
        },
        {
          "kind": "variable",
          "name": "MultipleAggregations",
          "type": {
            "text": "Story"
          },
          "default": "{ parameters: { docs: { source: { code: ` <!-- HTML --> <tbw-grid style=\"height: 400px;\"></tbw-grid> <script type=\"module\"> import '@toolbox-web/grid'; import { PinnedRowsPlugin } from '@toolbox-web/grid/plugins/pinned-rows'; const formatCurrency = (value) => \\`$\\${value.toFixed(2)}\\`; const grid = document.querySelector('tbw-grid'); grid.gridConfig = { columns: [ { field: 'id', header: 'ID', type: 'number' }, { field: 'name', header: 'Name' }, { field: 'quantity', header: 'Qty', type: 'number' }, { field: 'price', header: 'Price', type: 'number' }, ], plugins: [ new PinnedRowsPlugin({ position: 'bottom', showRowCount: true, aggregationRows: [ { id: 'sum', position: 'bottom', aggregators: { quantity: 'sum', price: { aggFunc: 'sum', formatter: formatCurrency }, }, cells: { id: 'Sum:', name: '' }, }, { id: 'avg', position: 'bottom', aggregators: { quantity: { aggFunc: 'avg', formatter: (v) => v.toFixed(1) }, price: { aggFunc: 'avg', formatter: formatCurrency }, }, cells: { id: 'Avg:', name: '' }, }, { id: 'minmax', position: 'bottom', aggregators: { quantity: 'min', price: { aggFunc: 'max', formatter: formatCurrency }, }, cells: { id: 'Min/Max:', name: '' }, }, ], }), ], }; grid.rows = [ { id: 1, name: 'Widget', quantity: 50, price: 25.00 }, { id: 2, name: 'Gadget', quantity: 30, price: 45.50 }, // ... more rows ]; </script> `, language: 'html', }, }, }, render: (args: PinnedRowsArgs) => { const grid = document.createElement('tbw-grid') as GridElement; grid.style.height = '400px'; grid.gridConfig = { columns, plugins: [ new PinnedRowsPlugin({ position: args.position, showRowCount: args.showRowCount, aggregationRows: [ { id: 'sum', position: 'bottom', aggregators: { quantity: 'sum', price: { aggFunc: 'sum', formatter: formatCurrency }, }, cells: { id: 'Sum:', name: '' }, }, { id: 'avg', position: 'bottom', aggregators: { quantity: { aggFunc: 'avg', formatter: (v) => (v as number).toFixed(1) }, price: { aggFunc: 'avg', formatter: formatCurrency }, }, cells: { id: 'Avg:', name: '' }, }, { id: 'minmax', position: 'bottom', aggregators: { quantity: 'min', price: { aggFunc: 'max', formatter: formatCurrency }, }, cells: { id: 'Min/Max:', name: '' }, }, ], }), ], }; grid.rows = generateData(50); return grid; }, }",
          "description": "Multiple aggregation rows showing sum, average, and min/max values.\r\nThis demonstrates how to add multiple footer rows with different aggregations."
        },
        {
          "kind": "variable",
          "name": "CustomPanels",
          "type": {
            "text": "Story"
          },
          "default": "{ parameters: { docs: { source: { code: ` <!-- HTML --> <tbw-grid style=\"height: 400px;\"></tbw-grid> <script type=\"module\"> import '@toolbox-web/grid'; import { PinnedRowsPlugin } from '@toolbox-web/grid/plugins/pinned-rows'; const grid = document.querySelector('tbw-grid'); grid.gridConfig = { columns: [ { field: 'id', header: 'ID', type: 'number' }, { field: 'name', header: 'Name' }, { field: 'quantity', header: 'Qty', type: 'number' }, { field: 'price', header: 'Price', type: 'number' }, ], plugins: [ new PinnedRowsPlugin({ customPanels: [ { id: 'timestamp', position: 'center', render: () => \\`Updated: \\${new Date().toLocaleTimeString()}\\`, }, { id: 'total', position: 'right', render: (ctx) => \\`<strong>Total: \\${ctx.grid.rows.length}</strong>\\`, }, ], }), ], }; grid.rows = [ { id: 1, name: 'Widget', quantity: 50, price: 25.00 }, { id: 2, name: 'Gadget', quantity: 30, price: 45.50 }, // ... more rows ]; </script> `, language: 'html', }, }, }, render: (args: PinnedRowsArgs) => { const grid = document.createElement('tbw-grid') as GridElement; grid.style.height = '400px'; grid.gridConfig = { columns, plugins: [ new PinnedRowsPlugin({ position: args.position, showRowCount: args.showRowCount, customPanels: [ { id: 'timestamp', position: 'center', render: () => `Last updated: ${new Date().toLocaleTimeString()}`, }, { id: 'total-value', position: 'right', render: (ctx) => { const rows = (ctx.grid as GridElement).rows as Array<{ quantity: number; price: number }>; const total = rows.reduce((sum, row) => sum + (row.quantity || 0) * (row.price || 0), 0); return `<strong>Value: $${total.toFixed(2)}</strong>`; }, }, ], }), ], }; grid.rows = generateData(50); return grid; }, }",
          "description": "Custom panels in the info bar with dynamic content."
        }
      ],
      "exports": [
        {
          "kind": "js",
          "name": "default",
          "declaration": {
            "name": "meta",
            "module": "src/lib/plugins/pinned-rows/pinned-rows.stories.ts"
          }
        },
        {
          "kind": "js",
          "name": "Default",
          "declaration": {
            "name": "Default",
            "module": "src/lib/plugins/pinned-rows/pinned-rows.stories.ts"
          }
        },
        {
          "kind": "js",
          "name": "MultipleAggregations",
          "declaration": {
            "name": "MultipleAggregations",
            "module": "src/lib/plugins/pinned-rows/pinned-rows.stories.ts"
          }
        },
        {
          "kind": "js",
          "name": "CustomPanels",
          "declaration": {
            "name": "CustomPanels",
            "module": "src/lib/plugins/pinned-rows/pinned-rows.stories.ts"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/pinned-rows/pinned-rows.ts",
      "declarations": [
        {
          "kind": "function",
          "name": "createInfoBarElement",
          "return": {
            "type": {
              "text": ""
            }
          },
          "parameters": [
            {
              "name": "config",
              "type": {
                "text": "PinnedRowsConfig"
              },
              "description": "The status bar configuration"
            },
            {
              "name": "context",
              "type": {
                "text": "PinnedRowsContext"
              },
              "description": "The current grid context for rendering"
            }
          ],
          "description": "Creates the info bar DOM element with all configured panels."
        },
        {
          "kind": "function",
          "name": "createAggregationContainer",
          "return": {
            "type": {
              "text": ""
            }
          },
          "parameters": [
            {
              "name": "position",
              "type": {
                "text": "'top' | 'bottom'"
              },
              "description": "'top' or 'bottom'"
            }
          ],
          "description": "Creates a container for aggregation rows at top or bottom."
        },
        {
          "kind": "function",
          "name": "renderAggregationRows",
          "return": {
            "type": {
              "text": "void"
            }
          },
          "parameters": [
            {
              "name": "container",
              "type": {
                "text": "HTMLElement"
              },
              "description": "The container to render into"
            },
            {
              "name": "rows",
              "type": {
                "text": "AggregationRowConfig[]"
              },
              "description": "Aggregation row configurations"
            },
            {
              "name": "columns",
              "type": {
                "text": "ColumnConfig[]"
              },
              "description": "Current column configuration"
            },
            {
              "name": "dataRows",
              "type": {
                "text": "unknown[]"
              },
              "description": "Current row data for aggregation calculations"
            }
          ],
          "description": "Renders aggregation rows into a container."
        },
        {
          "kind": "function",
          "name": "buildContext",
          "return": {
            "type": {
              "text": ""
            }
          },
          "parameters": [
            {
              "name": "rows",
              "type": {
                "text": "unknown[]"
              },
              "description": "Current row data"
            },
            {
              "name": "columns",
              "type": {
                "text": "unknown[]"
              },
              "description": "Current column configuration"
            },
            {
              "name": "grid",
              "type": {
                "text": "HTMLElement"
              },
              "description": "Grid element reference"
            },
            {
              "name": "selectionState",
              "optional": true,
              "type": {
                "text": "{ selected: Set<number> } | null"
              },
              "description": "Optional selection plugin state"
            },
            {
              "name": "filterState",
              "optional": true,
              "type": {
                "text": "{ cachedResult: unknown[] | null } | null"
              },
              "description": "Optional filtering plugin state"
            }
          ],
          "description": "Builds the status bar context from grid state and plugin states."
        },
        {
          "kind": "variable",
          "name": "createPinnedRowsElement",
          "default": "createInfoBarElement"
        }
      ],
      "exports": [
        {
          "kind": "js",
          "name": "createInfoBarElement",
          "declaration": {
            "name": "createInfoBarElement",
            "module": "src/lib/plugins/pinned-rows/pinned-rows.ts"
          }
        },
        {
          "kind": "js",
          "name": "createAggregationContainer",
          "declaration": {
            "name": "createAggregationContainer",
            "module": "src/lib/plugins/pinned-rows/pinned-rows.ts"
          }
        },
        {
          "kind": "js",
          "name": "renderAggregationRows",
          "declaration": {
            "name": "renderAggregationRows",
            "module": "src/lib/plugins/pinned-rows/pinned-rows.ts"
          }
        },
        {
          "kind": "js",
          "name": "buildContext",
          "declaration": {
            "name": "buildContext",
            "module": "src/lib/plugins/pinned-rows/pinned-rows.ts"
          }
        },
        {
          "kind": "js",
          "name": "createPinnedRowsElement",
          "declaration": {
            "name": "createPinnedRowsElement",
            "module": "src/lib/plugins/pinned-rows/pinned-rows.ts"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/pinned-rows/PinnedRowsPlugin.ts",
      "declarations": [],
      "exports": []
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/pinned-rows/types.ts",
      "declarations": [],
      "exports": []
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/multi-sort/index.ts",
      "declarations": [],
      "exports": [
        {
          "kind": "js",
          "name": "MultiSortPlugin",
          "declaration": {
            "name": "MultiSortPlugin",
            "module": "./MultiSortPlugin"
          }
        },
        {
          "kind": "js",
          "name": "MultiSortConfig",
          "declaration": {
            "name": "MultiSortConfig",
            "module": "./types"
          }
        },
        {
          "kind": "js",
          "name": "SortModel",
          "declaration": {
            "name": "SortModel",
            "module": "./types"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/multi-sort/multi-sort.spec.ts",
      "declarations": [],
      "exports": []
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/multi-sort/multi-sort.stories.ts",
      "declarations": [
        {
          "kind": "variable",
          "name": "meta",
          "type": {
            "text": "Meta"
          },
          "default": "{ title: 'Grid/Plugins/Multi-Sort', tags: ['!dev'], parameters: { layout: 'fullscreen' }, argTypes: { maxSortColumns: { control: { type: 'range', min: 1, max: 5, step: 1 }, description: 'Maximum number of columns to sort by', table: { category: 'Sorting', defaultValue: { summary: '3' } }, }, showSortIndex: { control: { type: 'boolean' }, description: 'Show sort order badges (1, 2, 3) on headers', table: { category: 'Sorting', defaultValue: { summary: 'true' } }, }, }, args: { maxSortColumns: 3, showSortIndex: true, }, }"
        },
        {
          "kind": "variable",
          "name": "Default",
          "type": {
            "text": "Story"
          },
          "default": "{ parameters: { docs: { source: { code: ` <!-- HTML --> <tbw-grid style=\"height: 350px;\"></tbw-grid> <script type=\"module\"> import '@toolbox-web/grid'; import { MultiSortPlugin } from '@toolbox-web/grid/plugins/multi-sort'; const grid = document.querySelector('tbw-grid'); grid.gridConfig = { columns: [ { field: 'id', header: 'ID', type: 'number', sortable: true }, { field: 'name', header: 'Name', sortable: true }, { field: 'department', header: 'Department', sortable: true }, { field: 'salary', header: 'Salary', type: 'number', sortable: true }, { field: 'joined', header: 'Joined', type: 'date', sortable: true }, ], plugins: [ new MultiSortPlugin({ maxSortColumns: 3, showSortIndex: true, }), ], }; grid.rows = [ { id: 1, name: 'Alice', department: 'Engineering', salary: 95000, joined: '2023-01-15' }, { id: 2, name: 'Bob', department: 'Marketing', salary: 75000, joined: '2022-06-20' }, { id: 3, name: 'Carol', department: 'Engineering', salary: 105000, joined: '2021-03-10' }, { id: 4, name: 'Dan', department: 'Engineering', salary: 85000, joined: '2023-08-05' }, { id: 5, name: 'Eve', department: 'Marketing', salary: 72000, joined: '2024-01-12' }, { id: 6, name: 'Frank', department: 'Sales', salary: 82000, joined: '2022-11-30' }, ]; </script> `, language: 'html', }, }, }, render: (args: MultiSortArgs) => { const grid = document.createElement('tbw-grid') as GridElement; grid.style.height = '350px'; grid.gridConfig = { columns, plugins: [ new MultiSortPlugin({ maxSortColumns: args.maxSortColumns, showSortIndex: args.showSortIndex, }), ], }; grid.rows = sampleData; return grid; }, }",
          "description": "Hold Shift and click column headers to sort by multiple columns.\r\nSort badges (1, 2, 3) indicate the priority when enabled."
        },
        {
          "kind": "variable",
          "name": "WithInitialSort",
          "type": {
            "text": "Story"
          },
          "default": "{ parameters: { docs: { source: { code: ` <!-- HTML --> <tbw-grid style=\"height: 350px;\"></tbw-grid> <script type=\"module\"> import '@toolbox-web/grid'; import { MultiSortPlugin } from '@toolbox-web/grid/plugins/multi-sort'; const grid = document.querySelector('tbw-grid'); const plugin = new MultiSortPlugin({ maxSortColumns: 3 }); grid.gridConfig = { columns: [...], plugins: [plugin], }; grid.rows = [...]; // Apply initial sort after grid is ready grid.ready().then(() => { plugin.setSortModel([ { field: 'department', direction: 'asc' }, { field: 'salary', direction: 'desc' }, ]); }); </script> `, language: 'html', }, }, }, render: (args: MultiSortArgs) => { const grid = document.createElement('tbw-grid') as GridElement; grid.style.height = '350px'; const plugin = new MultiSortPlugin({ maxSortColumns: args.maxSortColumns, showSortIndex: args.showSortIndex, }); grid.gridConfig = { columns, plugins: [plugin], }; grid.rows = sampleData; // Apply initial sort after grid is ready grid.ready().then(() => { plugin.setSortModel([ { field: 'department', direction: 'asc' }, { field: 'salary', direction: 'desc' }, ]); }); return grid; }, }",
          "description": "Initial sort applied programmatically (Department ASC, Salary DESC)."
        },
        {
          "kind": "variable",
          "name": "NoBadges",
          "type": {
            "text": "Story"
          },
          "default": "{ parameters: { docs: { source: { code: ` <!-- HTML --> <tbw-grid style=\"height: 350px;\"></tbw-grid> <script type=\"module\"> import '@toolbox-web/grid'; import { MultiSortPlugin } from '@toolbox-web/grid/plugins/multi-sort'; const grid = document.querySelector('tbw-grid'); grid.gridConfig = { columns: [...], plugins: [ new MultiSortPlugin({ maxSortColumns: 3, showSortIndex: false, // Hide sort order badges }), ], }; grid.rows = [...]; </script> `, language: 'html', }, }, }, args: { maxSortColumns: 3, showSortIndex: false, }, render: (args: MultiSortArgs) => { const grid = document.createElement('tbw-grid') as GridElement; grid.style.height = '350px'; grid.gridConfig = { columns, plugins: [ new MultiSortPlugin({ maxSortColumns: args.maxSortColumns, showSortIndex: args.showSortIndex, }), ], }; grid.rows = sampleData; return grid; }, }",
          "description": "Sort badges hidden - sort order indicated only by arrow direction."
        },
        {
          "kind": "variable",
          "name": "SingleColumnOnly",
          "type": {
            "text": "Story"
          },
          "default": "{ parameters: { docs: { source: { code: ` <!-- HTML --> <tbw-grid style=\"height: 350px;\"></tbw-grid> <script type=\"module\"> import '@toolbox-web/grid'; import { MultiSortPlugin } from '@toolbox-web/grid/plugins/multi-sort'; const grid = document.querySelector('tbw-grid'); grid.gridConfig = { columns: [...], plugins: [ new MultiSortPlugin({ maxSortColumns: 1, // Limit to single column sort }), ], }; grid.rows = [...]; </script> `, language: 'html', }, }, }, args: { maxSortColumns: 1, showSortIndex: false, }, render: (args: MultiSortArgs) => { const grid = document.createElement('tbw-grid') as GridElement; grid.style.height = '350px'; grid.gridConfig = { columns, plugins: [ new MultiSortPlugin({ maxSortColumns: args.maxSortColumns, showSortIndex: args.showSortIndex, }), ], }; grid.rows = sampleData; return grid; }, }",
          "description": "Limit to single column sort (maxSortColumns: 1)."
        }
      ],
      "exports": [
        {
          "kind": "js",
          "name": "default",
          "declaration": {
            "name": "meta",
            "module": "src/lib/plugins/multi-sort/multi-sort.stories.ts"
          }
        },
        {
          "kind": "js",
          "name": "Default",
          "declaration": {
            "name": "Default",
            "module": "src/lib/plugins/multi-sort/multi-sort.stories.ts"
          }
        },
        {
          "kind": "js",
          "name": "WithInitialSort",
          "declaration": {
            "name": "WithInitialSort",
            "module": "src/lib/plugins/multi-sort/multi-sort.stories.ts"
          }
        },
        {
          "kind": "js",
          "name": "NoBadges",
          "declaration": {
            "name": "NoBadges",
            "module": "src/lib/plugins/multi-sort/multi-sort.stories.ts"
          }
        },
        {
          "kind": "js",
          "name": "SingleColumnOnly",
          "declaration": {
            "name": "SingleColumnOnly",
            "module": "src/lib/plugins/multi-sort/multi-sort.stories.ts"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/multi-sort/multi-sort.ts",
      "declarations": [
        {
          "kind": "function",
          "name": "applySorts",
          "return": {
            "type": {
              "text": ""
            }
          },
          "parameters": [
            {
              "name": "rows",
              "type": {
                "text": "TRow[]"
              },
              "description": "Array of row objects to sort"
            },
            {
              "name": "sorts",
              "type": {
                "text": "SortModel[]"
              },
              "description": "Ordered array of sort configurations"
            },
            {
              "name": "columns",
              "type": {
                "text": "ColumnConfig<TRow>[]"
              },
              "description": "Column configurations (for custom comparators)"
            }
          ],
          "description": "Apply multiple sort columns to a row array.\r\nSorts are applied in order - first sort has highest priority."
        },
        {
          "kind": "function",
          "name": "defaultComparator",
          "return": {
            "type": {
              "text": ""
            }
          },
          "parameters": [
            {
              "name": "a",
              "type": {
                "text": "unknown"
              },
              "description": "First value"
            },
            {
              "name": "b",
              "type": {
                "text": "unknown"
              },
              "description": "Second value"
            }
          ],
          "description": "Default comparator for sorting values.\r\nHandles nulls, numbers, dates, and strings."
        },
        {
          "kind": "function",
          "name": "toggleSort",
          "return": {
            "type": {
              "text": ""
            }
          },
          "parameters": [
            {
              "name": "current",
              "type": {
                "text": "SortModel[]"
              },
              "description": "Current sort model"
            },
            {
              "name": "field",
              "type": {
                "text": "string"
              },
              "description": "Field to toggle"
            },
            {
              "name": "shiftKey",
              "type": {
                "text": "boolean"
              },
              "description": "Whether shift key is held (multi-sort mode)"
            },
            {
              "name": "maxColumns",
              "type": {
                "text": "number"
              },
              "description": "Maximum columns allowed in sort"
            }
          ],
          "description": "Toggle sort state for a field.\r\nWith shift key: adds/toggles in multi-sort list\r\nWithout shift key: replaces entire sort with single column"
        },
        {
          "kind": "function",
          "name": "getSortIndex",
          "return": {
            "type": {
              "text": ""
            }
          },
          "parameters": [
            {
              "name": "sortModel",
              "type": {
                "text": "SortModel[]"
              },
              "description": "Current sort model"
            },
            {
              "name": "field",
              "type": {
                "text": "string"
              },
              "description": "Field to check"
            }
          ],
          "description": "Get the sort index (1-based) for a field in the sort model.\r\nReturns undefined if the field is not in the sort model."
        },
        {
          "kind": "function",
          "name": "getSortDirection",
          "return": {
            "type": {
              "text": ""
            }
          },
          "parameters": [
            {
              "name": "sortModel",
              "type": {
                "text": "SortModel[]"
              },
              "description": "Current sort model"
            },
            {
              "name": "field",
              "type": {
                "text": "string"
              },
              "description": "Field to check"
            }
          ],
          "description": "Get the sort direction for a field in the sort model."
        }
      ],
      "exports": [
        {
          "kind": "js",
          "name": "applySorts",
          "declaration": {
            "name": "applySorts",
            "module": "src/lib/plugins/multi-sort/multi-sort.ts"
          }
        },
        {
          "kind": "js",
          "name": "defaultComparator",
          "declaration": {
            "name": "defaultComparator",
            "module": "src/lib/plugins/multi-sort/multi-sort.ts"
          }
        },
        {
          "kind": "js",
          "name": "toggleSort",
          "declaration": {
            "name": "toggleSort",
            "module": "src/lib/plugins/multi-sort/multi-sort.ts"
          }
        },
        {
          "kind": "js",
          "name": "getSortIndex",
          "declaration": {
            "name": "getSortIndex",
            "module": "src/lib/plugins/multi-sort/multi-sort.ts"
          }
        },
        {
          "kind": "js",
          "name": "getSortDirection",
          "declaration": {
            "name": "getSortDirection",
            "module": "src/lib/plugins/multi-sort/multi-sort.ts"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/multi-sort/MultiSortPlugin.ts",
      "declarations": [
        {
          "kind": "variable",
          "name": "field"
        }
      ],
      "exports": []
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/multi-sort/types.ts",
      "declarations": [],
      "exports": []
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/pinned-columns/index.ts",
      "declarations": [],
      "exports": [
        {
          "kind": "js",
          "name": "PinnedColumnsPlugin",
          "declaration": {
            "name": "PinnedColumnsPlugin",
            "module": "./PinnedColumnsPlugin"
          }
        },
        {
          "kind": "js",
          "name": "PinnedColumnsConfig",
          "declaration": {
            "name": "PinnedColumnsConfig",
            "module": "./types"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/pinned-columns/pinned-columns.spec.ts",
      "declarations": [],
      "exports": []
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/pinned-columns/pinned-columns.stories.ts",
      "declarations": [
        {
          "kind": "variable",
          "name": "meta",
          "type": {
            "text": "Meta"
          },
          "default": "{ title: 'Grid/Plugins/Pinned Columns', tags: ['!dev'], parameters: { layout: 'fullscreen' }, }"
        },
        {
          "kind": "variable",
          "name": "Default",
          "type": {
            "text": "Story"
          },
          "default": "{ parameters: { docs: { source: { code: ` <!-- HTML --> <tbw-grid style=\"height: 350px;\"></tbw-grid> <script type=\"module\"> import '@toolbox-web/grid'; import { PinnedColumnsPlugin } from '@toolbox-web/grid/plugins/pinned-columns'; const grid = document.querySelector('tbw-grid'); grid.gridConfig = { columns: [ { field: 'id', header: 'ID', type: 'number', width: 60, sticky: 'left' }, { field: 'name', header: 'Name', width: 150, sticky: 'left' }, { field: 'email', header: 'Email', width: 200 }, { field: 'department', header: 'Department', width: 150 }, { field: 'phone', header: 'Phone', width: 150 }, { field: 'address', header: 'Address', width: 250 }, { field: 'city', header: 'City', width: 120 }, { field: 'country', header: 'Country', width: 120 }, { field: 'actions', header: 'Actions', width: 100, sticky: 'right' }, ], fitMode: 'fixed', plugins: [new PinnedColumnsPlugin()], }; grid.rows = [ { id: 1, name: 'Alice Johnson', email: 'alice@example.com', department: 'Engineering', phone: '+1-555-0101', address: '123 Main St', city: 'New York', country: 'USA', actions: '...' }, { id: 2, name: 'Bob Smith', email: 'bob@example.com', department: 'Marketing', phone: '+1-555-0102', address: '456 Oak Ave', city: 'Los Angeles', country: 'USA', actions: '...' }, { id: 3, name: 'Carol Williams', email: 'carol@example.com', department: 'Sales', phone: '+1-555-0103', address: '789 Pine Rd', city: 'Chicago', country: 'USA', actions: '...' }, ]; </script> `, language: 'html', }, }, }, render: () => { const grid = document.createElement('tbw-grid') as GridElement; grid.style.height = '350px'; grid.gridConfig = { columns: [ { field: 'id', header: 'ID', type: 'number', width: 60, sticky: 'left' }, { field: 'name', header: 'Name', width: 150, sticky: 'left' }, { field: 'email', header: 'Email', width: 200 }, { field: 'department', header: 'Department', width: 150 }, { field: 'phone', header: 'Phone', width: 150 }, { field: 'address', header: 'Address', width: 250 }, { field: 'city', header: 'City', width: 120 }, { field: 'country', header: 'Country', width: 120 }, { field: 'actions', header: 'Actions', width: 100, sticky: 'right' }, ], fitMode: 'fixed', plugins: [new PinnedColumnsPlugin()], }; grid.rows = [ { id: 1, name: 'Alice Johnson', email: 'alice@example.com', department: 'Engineering', phone: '+1-555-0101', address: '123 Main St', city: 'New York', country: 'USA', actions: '...', }, { id: 2, name: 'Bob Smith', email: 'bob@example.com', department: 'Marketing', phone: '+1-555-0102', address: '456 Oak Ave', city: 'Los Angeles', country: 'USA', actions: '...', }, { id: 3, name: 'Carol Williams', email: 'carol@example.com', department: 'Sales', phone: '+1-555-0103', address: '789 Pine Rd', city: 'Chicago', country: 'USA', actions: '...', }, ]; return grid; }, }",
          "description": "Pin columns to the left or right side of the grid. Scroll horizontally\r\nto see pinned columns stay fixed in place."
        },
        {
          "kind": "variable",
          "name": "LeftPinnedOnly",
          "type": {
            "text": "Story"
          },
          "default": "{ parameters: { docs: { source: { code: ` <!-- HTML --> <tbw-grid style=\"height: 350px;\"></tbw-grid> <script type=\"module\"> import '@toolbox-web/grid'; import { PinnedColumnsPlugin } from '@toolbox-web/grid/plugins/pinned-columns'; const grid = document.querySelector('tbw-grid'); grid.gridConfig = { columns: [ { field: 'id', header: 'ID', type: 'number', width: 60, sticky: 'left' }, { field: 'name', header: 'Name', width: 150, sticky: 'left' }, { field: 'email', header: 'Email', width: 200 }, { field: 'department', header: 'Department', width: 150 }, { field: 'phone', header: 'Phone', width: 150 }, { field: 'address', header: 'Address', width: 250 }, { field: 'city', header: 'City', width: 120 }, { field: 'country', header: 'Country', width: 120 }, ], fitMode: 'fixed', plugins: [new PinnedColumnsPlugin()], }; grid.rows = [ { id: 1, name: 'Alice Johnson', email: 'alice@example.com', department: 'Engineering', phone: '+1-555-0101', address: '123 Main St', city: 'New York', country: 'USA' }, { id: 2, name: 'Bob Smith', email: 'bob@example.com', department: 'Marketing', phone: '+1-555-0102', address: '456 Oak Ave', city: 'Los Angeles', country: 'USA' }, { id: 3, name: 'Carol Williams', email: 'carol@example.com', department: 'Sales', phone: '+1-555-0103', address: '789 Pine Rd', city: 'Chicago', country: 'USA' }, ]; </script> `, language: 'html', }, }, }, render: () => { const grid = document.createElement('tbw-grid') as GridElement; grid.style.height = '350px'; grid.gridConfig = { columns: [ { field: 'id', header: 'ID', type: 'number', width: 60, sticky: 'left' }, { field: 'name', header: 'Name', width: 150, sticky: 'left' }, { field: 'email', header: 'Email', width: 200 }, { field: 'department', header: 'Department', width: 150 }, { field: 'phone', header: 'Phone', width: 150 }, { field: 'address', header: 'Address', width: 250 }, { field: 'city', header: 'City', width: 120 }, { field: 'country', header: 'Country', width: 120 }, ], fitMode: 'fixed', plugins: [new PinnedColumnsPlugin()], }; grid.rows = [ { id: 1, name: 'Alice Johnson', email: 'alice@example.com', department: 'Engineering', phone: '+1-555-0101', address: '123 Main St', city: 'New York', country: 'USA', }, { id: 2, name: 'Bob Smith', email: 'bob@example.com', department: 'Marketing', phone: '+1-555-0102', address: '456 Oak Ave', city: 'Los Angeles', country: 'USA', }, { id: 3, name: 'Carol Williams', email: 'carol@example.com', department: 'Sales', phone: '+1-555-0103', address: '789 Pine Rd', city: 'Chicago', country: 'USA', }, ]; return grid; }, }",
          "description": "Only left-pinned columns (ID and Name)."
        },
        {
          "kind": "variable",
          "name": "RightPinnedOnly",
          "type": {
            "text": "Story"
          },
          "default": "{ parameters: { docs: { source: { code: ` <!-- HTML --> <tbw-grid style=\"height: 350px;\"></tbw-grid> <script type=\"module\"> import '@toolbox-web/grid'; import { PinnedColumnsPlugin } from '@toolbox-web/grid/plugins/pinned-columns'; const grid = document.querySelector('tbw-grid'); grid.gridConfig = { columns: [ { field: 'id', header: 'ID', type: 'number', width: 60 }, { field: 'name', header: 'Name', width: 150 }, { field: 'email', header: 'Email', width: 200 }, { field: 'department', header: 'Department', width: 150 }, { field: 'phone', header: 'Phone', width: 150 }, { field: 'address', header: 'Address', width: 250 }, { field: 'actions', header: 'Actions', width: 100, sticky: 'right' }, ], fitMode: 'fixed', plugins: [new PinnedColumnsPlugin()], }; grid.rows = [ { id: 1, name: 'Alice Johnson', email: 'alice@example.com', department: 'Engineering', phone: '+1-555-0101', address: '123 Main St', actions: '...' }, { id: 2, name: 'Bob Smith', email: 'bob@example.com', department: 'Marketing', phone: '+1-555-0102', address: '456 Oak Ave', actions: '...' }, { id: 3, name: 'Carol Williams', email: 'carol@example.com', department: 'Sales', phone: '+1-555-0103', address: '789 Pine Rd', actions: '...' }, ]; </script> `, language: 'html', }, }, }, render: () => { const grid = document.createElement('tbw-grid') as GridElement; grid.style.height = '350px'; grid.gridConfig = { columns: [ { field: 'id', header: 'ID', type: 'number', width: 60 }, { field: 'name', header: 'Name', width: 150 }, { field: 'email', header: 'Email', width: 200 }, { field: 'department', header: 'Department', width: 150 }, { field: 'phone', header: 'Phone', width: 150 }, { field: 'address', header: 'Address', width: 250 }, { field: 'actions', header: 'Actions', width: 100, sticky: 'right' }, ], fitMode: 'fixed', plugins: [new PinnedColumnsPlugin()], }; grid.rows = [ { id: 1, name: 'Alice Johnson', email: 'alice@example.com', department: 'Engineering', phone: '+1-555-0101', address: '123 Main St', actions: '...', }, { id: 2, name: 'Bob Smith', email: 'bob@example.com', department: 'Marketing', phone: '+1-555-0102', address: '456 Oak Ave', actions: '...', }, { id: 3, name: 'Carol Williams', email: 'carol@example.com', department: 'Sales', phone: '+1-555-0103', address: '789 Pine Rd', actions: '...', }, ]; return grid; }, }",
          "description": "Only right-pinned column (Actions)."
        }
      ],
      "exports": [
        {
          "kind": "js",
          "name": "default",
          "declaration": {
            "name": "meta",
            "module": "src/lib/plugins/pinned-columns/pinned-columns.stories.ts"
          }
        },
        {
          "kind": "js",
          "name": "Default",
          "declaration": {
            "name": "Default",
            "module": "src/lib/plugins/pinned-columns/pinned-columns.stories.ts"
          }
        },
        {
          "kind": "js",
          "name": "LeftPinnedOnly",
          "declaration": {
            "name": "LeftPinnedOnly",
            "module": "src/lib/plugins/pinned-columns/pinned-columns.stories.ts"
          }
        },
        {
          "kind": "js",
          "name": "RightPinnedOnly",
          "declaration": {
            "name": "RightPinnedOnly",
            "module": "src/lib/plugins/pinned-columns/pinned-columns.stories.ts"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/pinned-columns/pinned-columns.ts",
      "declarations": [
        {
          "kind": "function",
          "name": "resolveStickyPosition",
          "return": {
            "type": {
              "text": ""
            }
          },
          "parameters": [
            {
              "name": "position",
              "type": {
                "text": "StickyPosition"
              },
              "description": "The sticky position (logical or physical)"
            },
            {
              "name": "direction",
              "type": {
                "text": "TextDirection"
              },
              "description": "Text direction ('ltr' or 'rtl')"
            }
          ],
          "description": "Resolve a sticky position to a physical position based on text direction.\r\n\r\n- `'left'` / `'right'` → unchanged (physical values)\r\n- `'start'` → `'left'` in LTR, `'right'` in RTL\r\n- `'end'` → `'right'` in LTR, `'left'` in RTL"
        },
        {
          "kind": "function",
          "name": "getLeftStickyColumns",
          "return": {
            "type": {
              "text": ""
            }
          },
          "parameters": [
            {
              "name": "columns",
              "type": {
                "text": "any[]"
              },
              "description": "Array of column configurations"
            },
            {
              "name": "direction",
              "default": "'ltr'",
              "type": {
                "text": "TextDirection"
              },
              "description": "Text direction (default: 'ltr')"
            }
          ],
          "description": "Get columns that should be sticky on the left."
        },
        {
          "kind": "function",
          "name": "getRightStickyColumns",
          "return": {
            "type": {
              "text": ""
            }
          },
          "parameters": [
            {
              "name": "columns",
              "type": {
                "text": "any[]"
              },
              "description": "Array of column configurations"
            },
            {
              "name": "direction",
              "default": "'ltr'",
              "type": {
                "text": "TextDirection"
              },
              "description": "Text direction (default: 'ltr')"
            }
          ],
          "description": "Get columns that should be sticky on the right."
        },
        {
          "kind": "function",
          "name": "hasStickyColumns",
          "return": {
            "type": {
              "text": ""
            }
          },
          "parameters": [
            {
              "name": "columns",
              "type": {
                "text": "any[]"
              },
              "description": "Array of column configurations"
            }
          ],
          "description": "Check if any columns have sticky positioning."
        },
        {
          "kind": "function",
          "name": "getColumnStickyPosition",
          "return": {
            "type": {
              "text": ""
            }
          },
          "parameters": [
            {
              "name": "column",
              "type": {
                "text": "any"
              },
              "description": "Column configuration"
            }
          ],
          "description": "Get the sticky position of a column."
        },
        {
          "kind": "function",
          "name": "calculateLeftStickyOffsets",
          "return": {
            "type": {
              "text": ""
            }
          },
          "parameters": [
            {
              "name": "columns",
              "type": {
                "text": "any[]"
              },
              "description": "Array of column configurations (in order)"
            },
            {
              "name": "getColumnWidth",
              "type": {
                "text": "(field: string) => number"
              },
              "description": "Function to get column width by field"
            },
            {
              "name": "direction",
              "default": "'ltr'",
              "type": {
                "text": "TextDirection"
              },
              "description": "Text direction (default: 'ltr')"
            }
          ],
          "description": "Calculate left offsets for sticky-left columns.\r\nReturns a map of field -> offset in pixels."
        },
        {
          "kind": "function",
          "name": "calculateRightStickyOffsets",
          "return": {
            "type": {
              "text": ""
            }
          },
          "parameters": [
            {
              "name": "columns",
              "type": {
                "text": "any[]"
              },
              "description": "Array of column configurations (in order)"
            },
            {
              "name": "getColumnWidth",
              "type": {
                "text": "(field: string) => number"
              },
              "description": "Function to get column width by field"
            },
            {
              "name": "direction",
              "default": "'ltr'",
              "type": {
                "text": "TextDirection"
              },
              "description": "Text direction (default: 'ltr')"
            }
          ],
          "description": "Calculate right offsets for sticky-right columns.\r\nProcesses columns in reverse order."
        },
        {
          "kind": "function",
          "name": "applyStickyOffsets",
          "return": {
            "type": {
              "text": "void"
            }
          },
          "parameters": [
            {
              "name": "host",
              "type": {
                "text": "HTMLElement"
              },
              "description": "The grid host element (render root for DOM queries)"
            },
            {
              "name": "columns",
              "type": {
                "text": "any[]"
              },
              "description": "Array of column configurations"
            }
          ],
          "description": "Apply sticky offsets to header and body cells.\r\nThis modifies the DOM elements in place."
        },
        {
          "kind": "function",
          "name": "clearStickyOffsets",
          "return": {
            "type": {
              "text": "void"
            }
          },
          "parameters": [
            {
              "name": "host",
              "type": {
                "text": "HTMLElement"
              },
              "description": "The grid host element (render root for DOM queries)"
            }
          ],
          "description": "Clear sticky positioning from all cells."
        }
      ],
      "exports": [
        {
          "kind": "js",
          "name": "resolveStickyPosition",
          "declaration": {
            "name": "resolveStickyPosition",
            "module": "src/lib/plugins/pinned-columns/pinned-columns.ts"
          }
        },
        {
          "kind": "js",
          "name": "getLeftStickyColumns",
          "declaration": {
            "name": "getLeftStickyColumns",
            "module": "src/lib/plugins/pinned-columns/pinned-columns.ts"
          }
        },
        {
          "kind": "js",
          "name": "getRightStickyColumns",
          "declaration": {
            "name": "getRightStickyColumns",
            "module": "src/lib/plugins/pinned-columns/pinned-columns.ts"
          }
        },
        {
          "kind": "js",
          "name": "hasStickyColumns",
          "declaration": {
            "name": "hasStickyColumns",
            "module": "src/lib/plugins/pinned-columns/pinned-columns.ts"
          }
        },
        {
          "kind": "js",
          "name": "getColumnStickyPosition",
          "declaration": {
            "name": "getColumnStickyPosition",
            "module": "src/lib/plugins/pinned-columns/pinned-columns.ts"
          }
        },
        {
          "kind": "js",
          "name": "calculateLeftStickyOffsets",
          "declaration": {
            "name": "calculateLeftStickyOffsets",
            "module": "src/lib/plugins/pinned-columns/pinned-columns.ts"
          }
        },
        {
          "kind": "js",
          "name": "calculateRightStickyOffsets",
          "declaration": {
            "name": "calculateRightStickyOffsets",
            "module": "src/lib/plugins/pinned-columns/pinned-columns.ts"
          }
        },
        {
          "kind": "js",
          "name": "applyStickyOffsets",
          "declaration": {
            "name": "applyStickyOffsets",
            "module": "src/lib/plugins/pinned-columns/pinned-columns.ts"
          }
        },
        {
          "kind": "js",
          "name": "clearStickyOffsets",
          "declaration": {
            "name": "clearStickyOffsets",
            "module": "src/lib/plugins/pinned-columns/pinned-columns.ts"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/pinned-columns/PinnedColumnsPlugin.ts",
      "declarations": [],
      "exports": []
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/pinned-columns/types.ts",
      "declarations": [],
      "exports": []
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/master-detail/index.ts",
      "declarations": [],
      "exports": [
        {
          "kind": "js",
          "name": "MasterDetailPlugin",
          "declaration": {
            "name": "MasterDetailPlugin",
            "module": "./MasterDetailPlugin"
          }
        },
        {
          "kind": "js",
          "name": "DetailExpandDetail",
          "declaration": {
            "name": "DetailExpandDetail",
            "module": "./types"
          }
        },
        {
          "kind": "js",
          "name": "ExpandCollapseAnimation",
          "declaration": {
            "name": "ExpandCollapseAnimation",
            "module": "./types"
          }
        },
        {
          "kind": "js",
          "name": "MasterDetailConfig",
          "declaration": {
            "name": "MasterDetailConfig",
            "module": "./types"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/master-detail/master-detail.spec.ts",
      "declarations": [],
      "exports": []
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/master-detail/master-detail.stories.ts",
      "declarations": [
        {
          "kind": "variable",
          "name": "meta",
          "type": {
            "text": "Meta"
          },
          "default": "{ title: 'Grid/Plugins/Master-Detail', tags: ['!dev'], parameters: { layout: 'fullscreen' }, argTypes: { animation: { control: { type: 'select' }, options: [false, 'slide', 'fade'], description: 'Animation style for expand/collapse', table: { category: 'Master-Detail', defaultValue: { summary: \"'slide'\" } }, }, detailHeight: { control: { type: 'select' }, options: ['auto', 100, 150, 200], description: 'Height of the detail row', table: { category: 'Master-Detail', defaultValue: { summary: 'auto' } }, }, expandOnRowClick: { control: { type: 'boolean' }, description: 'Expand detail on row click', table: { category: 'Master-Detail', defaultValue: { summary: 'false' } }, }, }, args: { animation: 'slide' as const, detailHeight: 'auto', expandOnRowClick: false, }, }"
        },
        {
          "kind": "variable",
          "name": "Default",
          "type": {
            "text": "Story"
          },
          "default": "{ parameters: { docs: { source: { code: ` <!-- HTML --> <tbw-grid style=\"height: 400px;\"></tbw-grid> <script type=\"module\"> import '@toolbox-web/grid'; import { MasterDetailPlugin } from '@toolbox-web/grid/plugins/master-detail'; const grid = document.querySelector('tbw-grid'); grid.gridConfig = { columns: [ { field: 'id', header: 'Order ID', type: 'number' }, { field: 'customer', header: 'Customer' }, { field: 'date', header: 'Date' }, { field: 'total', header: 'Total', type: 'number', format: (v) => \\`$\\${v.toFixed(2)}\\` }, ], plugins: [ new MasterDetailPlugin({ detailHeight: 'auto', expandOnRowClick: false, detailRenderer: (row) => { const div = document.createElement('div'); div.style.cssText = 'padding: 16px;'; div.innerHTML = \\` <h4 style=\"margin: 0 0 8px;\">Order Items</h4> <table style=\"width: 100%; border-collapse: collapse;\"> <thead> <tr> <th style=\"padding: 4px 8px; text-align: left;\">Item</th> <th style=\"padding: 4px 8px; text-align: right;\">Qty</th> <th style=\"padding: 4px 8px; text-align: right;\">Price</th> </tr> </thead> <tbody> \\${row.items.map(item => \\` <tr> <td style=\"padding: 4px 8px;\">\\${item.name}</td> <td style=\"padding: 4px 8px; text-align: right;\">\\${item.qty}</td> <td style=\"padding: 4px 8px; text-align: right;\">$\\${item.price.toFixed(2)}</td> </tr> \\`).join('')} </tbody> </table> \\`; return div; }, }), ], }; grid.rows = [ { id: 1001, customer: 'Alice Corp', date: '2024-01-15', total: 175, items: [ { name: 'Widget A', qty: 2, price: 50 }, { name: 'Gadget X', qty: 1, price: 75 }, ], }, { id: 1002, customer: 'Bob Inc', date: '2024-02-20', total: 250, items: [ { name: 'Service Plan', qty: 1, price: 150 }, { name: 'Support Pack', qty: 2, price: 50 }, ], }, // ... ]; </script> `, language: 'html', }, }, }, render: (args: MasterDetailArgs) => { const grid = document.createElement('tbw-grid') as GridElement; grid.style.height = '400px'; grid.gridConfig = { columns, plugins: [ new MasterDetailPlugin({ animation: args.animation, detailHeight: args.detailHeight, expandOnRowClick: args.expandOnRowClick, detailRenderer, }), ], }; grid.rows = generateOrderData(100); return grid; }, }",
          "description": "Click the ▶ icon in the first column to expand a row and see its detail content."
        },
        {
          "kind": "variable",
          "name": "ExpandOnRowClick",
          "type": {
            "text": "Story"
          },
          "default": "{ parameters: { docs: { source: { code: ` <!-- HTML --> <tbw-grid style=\"height: 400px;\"></tbw-grid> <script type=\"module\"> import '@toolbox-web/grid'; import { MasterDetailPlugin } from '@toolbox-web/grid/plugins/master-detail'; const grid = document.querySelector('tbw-grid'); grid.gridConfig = { columns: [ { field: 'id', header: 'Order ID', type: 'number' }, { field: 'customer', header: 'Customer' }, { field: 'date', header: 'Date' }, { field: 'total', header: 'Total', type: 'number', format: (v) => \\`$\\${v.toFixed(2)}\\` }, ], plugins: [ new MasterDetailPlugin({ expandOnRowClick: true, // Click row to expand detailRenderer: (row) => { const div = document.createElement('div'); div.style.cssText = 'padding: 16px;'; div.innerHTML = \\` <h4>Order Items</h4> <table style=\"width: 100%; border-collapse: collapse;\"> <tbody> \\${row.items.map(item => \\` <tr> <td style=\"padding: 4px 8px;\">\\${item.name}</td> <td style=\"padding: 4px 8px; text-align: right;\">\\${item.qty}</td> <td style=\"padding: 4px 8px; text-align: right;\">$\\${item.price.toFixed(2)}</td> </tr> \\`).join('')} </tbody> </table> \\`; return div; }, }), ], }; grid.rows = [ { id: 1001, customer: 'Alice Corp', date: '2024-01-15', total: 175, items: [{ name: 'Widget A', qty: 2, price: 50 }] }, // ... ]; </script> `, language: 'html', }, }, }, args: { detailHeight: 'auto', expandOnRowClick: true, }, render: (args: MasterDetailArgs) => { const grid = document.createElement('tbw-grid') as GridElement; grid.style.height = '400px'; grid.gridConfig = { columns, plugins: [ new MasterDetailPlugin({ detailHeight: args.detailHeight, expandOnRowClick: args.expandOnRowClick, detailRenderer, }), ], }; grid.rows = generateOrderData(50); return grid; }, }",
          "description": "Click anywhere on a row to expand (not just the icon)."
        },
        {
          "kind": "variable",
          "name": "FixedDetailHeight",
          "type": {
            "text": "Story"
          },
          "default": "{ parameters: { docs: { source: { code: ` <!-- HTML --> <tbw-grid style=\"height: 400px;\"></tbw-grid> <script type=\"module\"> import '@toolbox-web/grid'; import { MasterDetailPlugin } from '@toolbox-web/grid/plugins/master-detail'; const grid = document.querySelector('tbw-grid'); grid.gridConfig = { columns: [ { field: 'id', header: 'Order ID', type: 'number' }, { field: 'customer', header: 'Customer' }, { field: 'date', header: 'Date' }, { field: 'total', header: 'Total', type: 'number', format: (v) => \\`$\\${v.toFixed(2)}\\` }, ], plugins: [ new MasterDetailPlugin({ detailHeight: 150, // Fixed height in pixels detailRenderer: (row) => { const div = document.createElement('div'); div.style.cssText = 'padding: 16px; overflow: auto;'; div.innerHTML = \\` <h4>Order Items</h4> <table style=\"width: 100%; border-collapse: collapse;\"> <tbody> \\${row.items.map(item => \\` <tr> <td style=\"padding: 4px 8px;\">\\${item.name}</td> <td style=\"padding: 4px 8px; text-align: right;\">\\${item.qty}</td> <td style=\"padding: 4px 8px; text-align: right;\">$\\${item.price.toFixed(2)}</td> </tr> \\`).join('')} </tbody> </table> \\`; return div; }, }), ], }; grid.rows = [ { id: 1001, customer: 'Alice Corp', date: '2024-01-15', total: 175, items: [{ name: 'Widget A', qty: 2, price: 50 }] }, // ... ]; </script> `, language: 'html', }, }, }, args: { detailHeight: 150, expandOnRowClick: false, }, render: (args: MasterDetailArgs) => { const grid = document.createElement('tbw-grid') as GridElement; grid.style.height = '400px'; grid.gridConfig = { columns, plugins: [ new MasterDetailPlugin({ detailHeight: args.detailHeight, expandOnRowClick: args.expandOnRowClick, detailRenderer, }), ], }; grid.rows = generateOrderData(50); return grid; }, }",
          "description": "Fixed height detail rows (150px)."
        }
      ],
      "exports": [
        {
          "kind": "js",
          "name": "default",
          "declaration": {
            "name": "meta",
            "module": "src/lib/plugins/master-detail/master-detail.stories.ts"
          }
        },
        {
          "kind": "js",
          "name": "Default",
          "declaration": {
            "name": "Default",
            "module": "src/lib/plugins/master-detail/master-detail.stories.ts"
          }
        },
        {
          "kind": "js",
          "name": "ExpandOnRowClick",
          "declaration": {
            "name": "ExpandOnRowClick",
            "module": "src/lib/plugins/master-detail/master-detail.stories.ts"
          }
        },
        {
          "kind": "js",
          "name": "FixedDetailHeight",
          "declaration": {
            "name": "FixedDetailHeight",
            "module": "src/lib/plugins/master-detail/master-detail.stories.ts"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/master-detail/master-detail.ts",
      "declarations": [
        {
          "kind": "function",
          "name": "toggleDetailRow",
          "return": {
            "type": {
              "text": "Set<object>"
            }
          },
          "parameters": [
            {
              "name": "expandedRows",
              "type": {
                "text": "Set<object>"
              }
            },
            {
              "name": "row",
              "type": {
                "text": "object"
              }
            }
          ],
          "description": "Toggle the expansion state of a detail row.\r\nReturns a new Set with the updated state."
        },
        {
          "kind": "function",
          "name": "expandDetailRow",
          "return": {
            "type": {
              "text": "Set<object>"
            }
          },
          "parameters": [
            {
              "name": "expandedRows",
              "type": {
                "text": "Set<object>"
              }
            },
            {
              "name": "row",
              "type": {
                "text": "object"
              }
            }
          ],
          "description": "Expand a detail row.\r\nReturns a new Set with the row added."
        },
        {
          "kind": "function",
          "name": "collapseDetailRow",
          "return": {
            "type": {
              "text": "Set<object>"
            }
          },
          "parameters": [
            {
              "name": "expandedRows",
              "type": {
                "text": "Set<object>"
              }
            },
            {
              "name": "row",
              "type": {
                "text": "object"
              }
            }
          ],
          "description": "Collapse a detail row.\r\nReturns a new Set with the row removed."
        },
        {
          "kind": "function",
          "name": "isDetailExpanded",
          "return": {
            "type": {
              "text": "boolean"
            }
          },
          "parameters": [
            {
              "name": "expandedRows",
              "type": {
                "text": "Set<object>"
              }
            },
            {
              "name": "row",
              "type": {
                "text": "object"
              }
            }
          ],
          "description": "Check if a detail row is expanded."
        },
        {
          "kind": "function",
          "name": "createDetailElement",
          "return": {
            "type": {
              "text": "HTMLElement"
            }
          },
          "parameters": [
            {
              "name": "row",
              "type": {
                "text": "any"
              }
            },
            {
              "name": "rowIndex",
              "type": {
                "text": "number"
              }
            },
            {
              "name": "renderer",
              "type": {
                "text": "(row: any, rowIndex: number) => HTMLElement | string"
              }
            },
            {
              "name": "columnCount",
              "type": {
                "text": "number"
              }
            }
          ],
          "description": "Create a detail element for a given row.\r\nThe element spans all columns and contains the rendered content."
        }
      ],
      "exports": [
        {
          "kind": "js",
          "name": "toggleDetailRow",
          "declaration": {
            "name": "toggleDetailRow",
            "module": "src/lib/plugins/master-detail/master-detail.ts"
          }
        },
        {
          "kind": "js",
          "name": "expandDetailRow",
          "declaration": {
            "name": "expandDetailRow",
            "module": "src/lib/plugins/master-detail/master-detail.ts"
          }
        },
        {
          "kind": "js",
          "name": "collapseDetailRow",
          "declaration": {
            "name": "collapseDetailRow",
            "module": "src/lib/plugins/master-detail/master-detail.ts"
          }
        },
        {
          "kind": "js",
          "name": "isDetailExpanded",
          "declaration": {
            "name": "isDetailExpanded",
            "module": "src/lib/plugins/master-detail/master-detail.ts"
          }
        },
        {
          "kind": "js",
          "name": "createDetailElement",
          "declaration": {
            "name": "createDetailElement",
            "module": "src/lib/plugins/master-detail/master-detail.ts"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/master-detail/MasterDetailPlugin.ts",
      "declarations": [],
      "exports": []
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/master-detail/types.ts",
      "declarations": [],
      "exports": [
        {
          "kind": "js",
          "name": "ExpandCollapseAnimation",
          "declaration": {
            "name": "ExpandCollapseAnimation",
            "module": "../../core/types"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/pivot/index.ts",
      "declarations": [],
      "exports": [
        {
          "kind": "js",
          "name": "PivotPlugin",
          "declaration": {
            "name": "PivotPlugin",
            "module": "./PivotPlugin"
          }
        },
        {
          "kind": "js",
          "name": "AggFunc",
          "declaration": {
            "name": "AggFunc",
            "module": "./types"
          }
        },
        {
          "kind": "js",
          "name": "PivotConfig",
          "declaration": {
            "name": "PivotConfig",
            "module": "./types"
          }
        },
        {
          "kind": "js",
          "name": "PivotResult",
          "declaration": {
            "name": "PivotResult",
            "module": "./types"
          }
        },
        {
          "kind": "js",
          "name": "PivotValueField",
          "declaration": {
            "name": "PivotValueField",
            "module": "./types"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/pivot/pivot-engine.ts",
      "declarations": [
        {
          "kind": "function",
          "name": "buildPivot",
          "return": {
            "type": {
              "text": "PivotResult"
            }
          },
          "parameters": [
            {
              "name": "rows",
              "type": {
                "text": "PivotDataRow[]"
              }
            },
            {
              "name": "config",
              "type": {
                "text": "PivotConfig"
              }
            }
          ],
          "description": "Build a hierarchical pivot result from flat data.\r\nSupports multiple row group fields for nested hierarchy."
        },
        {
          "kind": "function",
          "name": "getUniqueColumnKeys",
          "return": {
            "type": {
              "text": "string[]"
            }
          },
          "parameters": [
            {
              "name": "rows",
              "type": {
                "text": "PivotDataRow[]"
              }
            },
            {
              "name": "columnFields",
              "type": {
                "text": "string[]"
              }
            }
          ],
          "description": "Get unique column key combinations from the data."
        },
        {
          "kind": "function",
          "name": "groupByField",
          "return": {
            "type": {
              "text": "Map<string, PivotDataRow[]>"
            }
          },
          "parameters": [
            {
              "name": "rows",
              "type": {
                "text": "PivotDataRow[]"
              }
            },
            {
              "name": "field",
              "type": {
                "text": "string"
              }
            }
          ],
          "description": "Group rows by a single field."
        },
        {
          "kind": "function",
          "name": "groupByFields",
          "return": {
            "type": {
              "text": "Map<string, PivotDataRow[]>"
            }
          },
          "parameters": [
            {
              "name": "rows",
              "type": {
                "text": "PivotDataRow[]"
              }
            },
            {
              "name": "fields",
              "type": {
                "text": "string[]"
              }
            }
          ],
          "description": "Group rows by multiple fields (legacy flat grouping)."
        },
        {
          "kind": "function",
          "name": "buildHierarchicalPivotRows",
          "return": {
            "type": {
              "text": "PivotRow[]"
            }
          },
          "parameters": [
            {
              "name": "rows",
              "type": {
                "text": "PivotDataRow[]"
              }
            },
            {
              "name": "rowGroupFields",
              "type": {
                "text": "string[]"
              }
            },
            {
              "name": "columnFields",
              "type": {
                "text": "string[]"
              }
            },
            {
              "name": "columnKeys",
              "type": {
                "text": "string[]"
              }
            },
            {
              "name": "valueFields",
              "type": {
                "text": "PivotValueField[]"
              }
            },
            {
              "name": "depth",
              "type": {
                "text": "number"
              }
            },
            {
              "name": "parentKey",
              "type": {
                "text": "string"
              }
            }
          ],
          "description": "Build hierarchical pivot rows recursively.\r\nEach level of rowGroupFields creates a new depth level."
        },
        {
          "kind": "function",
          "name": "aggregateValues",
          "return": {
            "type": {
              "text": "Record<string, number | null>"
            }
          },
          "parameters": [
            {
              "name": "rows",
              "type": {
                "text": "PivotDataRow[]"
              }
            },
            {
              "name": "columnFields",
              "type": {
                "text": "string[]"
              }
            },
            {
              "name": "columnKeys",
              "type": {
                "text": "string[]"
              }
            },
            {
              "name": "valueFields",
              "type": {
                "text": "PivotValueField[]"
              }
            }
          ],
          "description": "Aggregate values for a set of rows across all column keys."
        },
        {
          "kind": "function",
          "name": "calculateRowTotal",
          "return": {
            "type": {
              "text": "number"
            }
          },
          "parameters": [
            {
              "name": "values",
              "type": {
                "text": "Record<string, number | null>"
              }
            }
          ],
          "description": "Calculate the total for a row's values."
        },
        {
          "kind": "function",
          "name": "buildPivotRows",
          "return": {
            "type": {
              "text": "PivotRow[]"
            }
          },
          "parameters": [
            {
              "name": "groupedData",
              "type": {
                "text": "Map<string, PivotDataRow[]>"
              }
            },
            {
              "name": "columnFields",
              "type": {
                "text": "string[]"
              }
            },
            {
              "name": "columnKeys",
              "type": {
                "text": "string[]"
              }
            },
            {
              "name": "valueFields",
              "type": {
                "text": "PivotValueField[]"
              }
            },
            {
              "name": "depth",
              "type": {
                "text": "number"
              }
            }
          ],
          "description": "Legacy flat pivot row building (for backwards compatibility)."
        },
        {
          "kind": "function",
          "name": "calculateTotals",
          "return": {
            "type": {
              "text": "Record<string, number>"
            }
          },
          "parameters": [
            {
              "name": "pivotRows",
              "type": {
                "text": "PivotRow[]"
              }
            },
            {
              "name": "columnKeys",
              "type": {
                "text": "string[]"
              }
            },
            {
              "name": "valueFields",
              "type": {
                "text": "PivotValueField[]"
              }
            }
          ],
          "description": "Calculate grand totals across all pivot rows."
        },
        {
          "kind": "function",
          "name": "flattenPivotRows",
          "return": {
            "type": {
              "text": "PivotRow[]"
            }
          },
          "parameters": [
            {
              "name": "rows",
              "type": {
                "text": "PivotRow[]"
              }
            },
            {
              "name": "expandedKeys",
              "optional": true,
              "type": {
                "text": "Set<string>"
              }
            },
            {
              "name": "defaultExpanded",
              "default": "true"
            }
          ],
          "description": "Flatten hierarchical pivot rows for rendering.\r\nRespects expanded state - only includes children of expanded groups."
        },
        {
          "kind": "function",
          "name": "getAllGroupKeys",
          "return": {
            "type": {
              "text": "string[]"
            }
          },
          "parameters": [
            {
              "name": "rows",
              "type": {
                "text": "PivotRow[]"
              }
            }
          ],
          "description": "Get all group keys from pivot rows (for expand all / collapse all)."
        }
      ],
      "exports": [
        {
          "kind": "js",
          "name": "buildPivot",
          "declaration": {
            "name": "buildPivot",
            "module": "src/lib/plugins/pivot/pivot-engine.ts"
          }
        },
        {
          "kind": "js",
          "name": "getUniqueColumnKeys",
          "declaration": {
            "name": "getUniqueColumnKeys",
            "module": "src/lib/plugins/pivot/pivot-engine.ts"
          }
        },
        {
          "kind": "js",
          "name": "groupByField",
          "declaration": {
            "name": "groupByField",
            "module": "src/lib/plugins/pivot/pivot-engine.ts"
          }
        },
        {
          "kind": "js",
          "name": "groupByFields",
          "declaration": {
            "name": "groupByFields",
            "module": "src/lib/plugins/pivot/pivot-engine.ts"
          }
        },
        {
          "kind": "js",
          "name": "buildHierarchicalPivotRows",
          "declaration": {
            "name": "buildHierarchicalPivotRows",
            "module": "src/lib/plugins/pivot/pivot-engine.ts"
          }
        },
        {
          "kind": "js",
          "name": "aggregateValues",
          "declaration": {
            "name": "aggregateValues",
            "module": "src/lib/plugins/pivot/pivot-engine.ts"
          }
        },
        {
          "kind": "js",
          "name": "calculateRowTotal",
          "declaration": {
            "name": "calculateRowTotal",
            "module": "src/lib/plugins/pivot/pivot-engine.ts"
          }
        },
        {
          "kind": "js",
          "name": "buildPivotRows",
          "declaration": {
            "name": "buildPivotRows",
            "module": "src/lib/plugins/pivot/pivot-engine.ts"
          }
        },
        {
          "kind": "js",
          "name": "calculateTotals",
          "declaration": {
            "name": "calculateTotals",
            "module": "src/lib/plugins/pivot/pivot-engine.ts"
          }
        },
        {
          "kind": "js",
          "name": "flattenPivotRows",
          "declaration": {
            "name": "flattenPivotRows",
            "module": "src/lib/plugins/pivot/pivot-engine.ts"
          }
        },
        {
          "kind": "js",
          "name": "getAllGroupKeys",
          "declaration": {
            "name": "getAllGroupKeys",
            "module": "src/lib/plugins/pivot/pivot-engine.ts"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/pivot/pivot-model.ts",
      "declarations": [
        {
          "kind": "variable",
          "name": "getPivotAggregator",
          "default": "getValueAggregator"
        },
        {
          "kind": "function",
          "name": "validatePivotConfig",
          "return": {
            "type": {
              "text": "string[]"
            }
          },
          "parameters": [
            {
              "name": "config",
              "type": {
                "text": "PivotConfig"
              }
            }
          ]
        },
        {
          "kind": "function",
          "name": "createValueKey",
          "return": {
            "type": {
              "text": "string"
            }
          },
          "parameters": [
            {
              "name": "columnValues",
              "type": {
                "text": "string[]"
              }
            },
            {
              "name": "valueField",
              "type": {
                "text": "string"
              }
            }
          ]
        }
      ],
      "exports": [
        {
          "kind": "js",
          "name": "getPivotAggregator",
          "declaration": {
            "name": "getPivotAggregator",
            "module": "src/lib/plugins/pivot/pivot-model.ts"
          }
        },
        {
          "kind": "js",
          "name": "validatePivotConfig",
          "declaration": {
            "name": "validatePivotConfig",
            "module": "src/lib/plugins/pivot/pivot-model.ts"
          }
        },
        {
          "kind": "js",
          "name": "createValueKey",
          "declaration": {
            "name": "createValueKey",
            "module": "src/lib/plugins/pivot/pivot-model.ts"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/pivot/pivot-panel.spec.ts",
      "declarations": [],
      "exports": []
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/pivot/pivot-panel.ts",
      "declarations": [
        {
          "kind": "variable",
          "name": "AGG_FUNCS",
          "type": {
            "text": "AggFunc[]"
          },
          "default": "['sum', 'avg', 'count', 'min', 'max', 'first', 'last']",
          "description": "All available aggregation functions"
        },
        {
          "kind": "function",
          "name": "renderPivotPanel",
          "return": {
            "type": {
              "text": "() => void"
            }
          },
          "parameters": [
            {
              "name": "container",
              "type": {
                "text": "HTMLElement"
              }
            },
            {
              "name": "config",
              "type": {
                "text": "PivotConfig"
              }
            },
            {
              "name": "isActive",
              "type": {
                "text": "boolean"
              }
            },
            {
              "name": "callbacks",
              "type": {
                "text": "PanelCallbacks"
              }
            }
          ],
          "description": "Render the complete pivot panel content.\r\nReturns a cleanup function that removes all event listeners and DOM elements."
        }
      ],
      "exports": [
        {
          "kind": "js",
          "name": "AGG_FUNCS",
          "declaration": {
            "name": "AGG_FUNCS",
            "module": "src/lib/plugins/pivot/pivot-panel.ts"
          }
        },
        {
          "kind": "js",
          "name": "renderPivotPanel",
          "declaration": {
            "name": "renderPivotPanel",
            "module": "src/lib/plugins/pivot/pivot-panel.ts"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/pivot/pivot-rows.spec.ts",
      "declarations": [],
      "exports": []
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/pivot/pivot-rows.ts",
      "declarations": [
        {
          "kind": "function",
          "name": "renderPivotGroupRow",
          "return": {
            "type": {
              "text": "boolean"
            }
          },
          "parameters": [
            {
              "name": "row",
              "type": {
                "text": "PivotRowData"
              }
            },
            {
              "name": "rowEl",
              "type": {
                "text": "HTMLElement"
              }
            },
            {
              "name": "ctx",
              "type": {
                "text": "RowRenderContext"
              }
            }
          ],
          "description": "Render a pivot group row (has children, can expand/collapse)."
        },
        {
          "kind": "function",
          "name": "renderPivotLeafRow",
          "return": {
            "type": {
              "text": "boolean"
            }
          },
          "parameters": [
            {
              "name": "row",
              "type": {
                "text": "PivotRowData"
              }
            },
            {
              "name": "rowEl",
              "type": {
                "text": "HTMLElement"
              }
            },
            {
              "name": "columns",
              "type": {
                "text": "ColumnConfig[]"
              }
            },
            {
              "name": "rowIndex",
              "type": {
                "text": "number"
              }
            }
          ],
          "description": "Render a pivot leaf row (no children, just indentation)."
        },
        {
          "kind": "function",
          "name": "renderPivotGrandTotalRow",
          "return": {
            "type": {
              "text": "boolean"
            }
          },
          "parameters": [
            {
              "name": "row",
              "type": {
                "text": "PivotRowData"
              }
            },
            {
              "name": "rowEl",
              "type": {
                "text": "HTMLElement"
              }
            },
            {
              "name": "columns",
              "type": {
                "text": "ColumnConfig[]"
              }
            }
          ],
          "description": "Render the grand total row."
        }
      ],
      "exports": [
        {
          "kind": "js",
          "name": "renderPivotGroupRow",
          "declaration": {
            "name": "renderPivotGroupRow",
            "module": "src/lib/plugins/pivot/pivot-rows.ts"
          }
        },
        {
          "kind": "js",
          "name": "renderPivotLeafRow",
          "declaration": {
            "name": "renderPivotLeafRow",
            "module": "src/lib/plugins/pivot/pivot-rows.ts"
          }
        },
        {
          "kind": "js",
          "name": "renderPivotGrandTotalRow",
          "declaration": {
            "name": "renderPivotGrandTotalRow",
            "module": "src/lib/plugins/pivot/pivot-rows.ts"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/pivot/pivot.spec.ts",
      "declarations": [],
      "exports": []
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/pivot/pivot.stories.ts",
      "declarations": [
        {
          "kind": "variable",
          "name": "meta",
          "type": {
            "text": "Meta"
          },
          "default": "{ title: 'Grid/Plugins/Pivot', tags: ['!dev'], parameters: { layout: 'fullscreen' }, argTypes: { animation: { control: { type: 'select' }, options: [false, 'slide', 'fade'], description: 'Animation style for expand/collapse', table: { category: 'Pivot', defaultValue: { summary: \"'slide'\" } }, }, showTotals: { control: { type: 'boolean' }, description: 'Show row totals', table: { category: 'Pivot', defaultValue: { summary: 'true' } }, }, showGrandTotal: { control: { type: 'boolean' }, description: 'Show grand total row', table: { category: 'Pivot', defaultValue: { summary: 'true' } }, }, showToolPanel: { control: { type: 'boolean' }, description: 'Show pivot tool panel for interactive configuration', table: { category: 'Pivot', defaultValue: { summary: 'true' } }, }, }, args: { animation: 'slide' as const, showTotals: true, showGrandTotal: true, showToolPanel: true, }, }"
        },
        {
          "kind": "variable",
          "name": "Default",
          "type": {
            "text": "Story"
          },
          "default": "{ parameters: { docs: { source: { transform: (_code: string, ctx: { args: PivotArgs }) => generatePivotCode(ctx.args), language: 'html', }, }, }, render: (args: PivotArgs) => { const grid = document.createElement('tbw-grid') as GridElement; grid.style.height = '400px'; grid.gridConfig = { columns, plugins: [ new PivotPlugin({ animation: args.animation, rowGroupFields: ['region', 'product'], columnGroupFields: ['quarter'], valueFields: [{ field: 'sales', aggFunc: 'sum', header: 'Total Sales' }], showTotals: args.showTotals, showGrandTotal: args.showGrandTotal, showToolPanel: args.showToolPanel, }), ], }; grid.rows = salesData; return grid; }, }",
          "description": "Transform flat data into a pivot table view. Groups sales by Region → Product\r\n(rows) and Quarter (columns), aggregating with sum."
        },
        {
          "kind": "variable",
          "name": "NoTotals",
          "type": {
            "text": "Story"
          },
          "default": "{ parameters: { docs: { source: { transform: (_code: string, ctx: { args: PivotArgs }) => generatePivotCode(ctx.args), language: 'html', }, }, }, args: { showTotals: false, showGrandTotal: false, }, render: (args: PivotArgs) => { const grid = document.createElement('tbw-grid') as GridElement; grid.style.height = '400px'; grid.gridConfig = { columns, plugins: [ new PivotPlugin({ rowGroupFields: ['region', 'product'], columnGroupFields: ['quarter'], valueFields: [{ field: 'sales', aggFunc: 'sum', header: 'Total Sales' }], showTotals: args.showTotals, showGrandTotal: args.showGrandTotal, showToolPanel: args.showToolPanel, }), ], }; grid.rows = salesData; return grid; }, }",
          "description": "Pivot without totals - just the raw aggregated values."
        },
        {
          "kind": "variable",
          "name": "AverageAggregation",
          "type": {
            "text": "Story"
          },
          "default": "{ parameters: { docs: { source: { transform: (_code: string, ctx: { args: PivotArgs }) => generateAvgPivotCode(ctx.args), language: 'html', }, }, }, render: (args: PivotArgs) => { const grid = document.createElement('tbw-grid') as GridElement; grid.style.height = '400px'; grid.gridConfig = { columns, plugins: [ new PivotPlugin({ rowGroupFields: ['region'], columnGroupFields: ['quarter'], valueFields: [{ field: 'sales', aggFunc: 'avg', header: 'Avg Sales' }], showTotals: args.showTotals, showGrandTotal: args.showGrandTotal, showToolPanel: args.showToolPanel, }), ], }; grid.rows = salesData; return grid; }, }",
          "description": "Average aggregation instead of sum."
        }
      ],
      "exports": [
        {
          "kind": "js",
          "name": "default",
          "declaration": {
            "name": "meta",
            "module": "src/lib/plugins/pivot/pivot.stories.ts"
          }
        },
        {
          "kind": "js",
          "name": "Default",
          "declaration": {
            "name": "Default",
            "module": "src/lib/plugins/pivot/pivot.stories.ts"
          }
        },
        {
          "kind": "js",
          "name": "NoTotals",
          "declaration": {
            "name": "NoTotals",
            "module": "src/lib/plugins/pivot/pivot.stories.ts"
          }
        },
        {
          "kind": "js",
          "name": "AverageAggregation",
          "declaration": {
            "name": "AverageAggregation",
            "module": "src/lib/plugins/pivot/pivot.stories.ts"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/pivot/PivotPlugin.ts",
      "declarations": [],
      "exports": []
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/pivot/types.ts",
      "declarations": [],
      "exports": [
        {
          "kind": "js",
          "name": "ExpandCollapseAnimation",
          "declaration": {
            "name": "ExpandCollapseAnimation",
            "module": "../../core/types"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/row-reorder/index.ts",
      "declarations": [],
      "exports": [
        {
          "kind": "js",
          "name": "ROW_DRAG_HANDLE_FIELD",
          "declaration": {
            "name": "ROW_DRAG_HANDLE_FIELD",
            "module": "./RowReorderPlugin"
          }
        },
        {
          "kind": "js",
          "name": "RowReorderPlugin",
          "declaration": {
            "name": "RowReorderPlugin",
            "module": "./RowReorderPlugin"
          }
        },
        {
          "kind": "js",
          "name": "PendingMove",
          "declaration": {
            "name": "PendingMove",
            "module": "./types"
          }
        },
        {
          "kind": "js",
          "name": "RowMoveDetail",
          "declaration": {
            "name": "RowMoveDetail",
            "module": "./types"
          }
        },
        {
          "kind": "js",
          "name": "RowReorderConfig",
          "declaration": {
            "name": "RowReorderConfig",
            "module": "./types"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/row-reorder/row-reorder.spec.ts",
      "declarations": [
        {
          "kind": "variable",
          "name": "rows",
          "type": {
            "text": "array"
          },
          "default": "[{ id: 1 }, { id: 2 }, { id: 3 }]"
        }
      ],
      "exports": []
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/row-reorder/row-reorder.stories.ts",
      "declarations": [
        {
          "kind": "variable",
          "name": "meta",
          "type": {
            "text": "Meta<RowReorderArgs>"
          },
          "default": "{ title: 'Grid/Plugins/Row Reorder', tags: ['!dev'], parameters: { layout: 'fullscreen' }, argTypes: { dragHandlePosition: { control: 'select', options: ['left', 'right'], description: 'Position of the drag handle column', table: { defaultValue: { summary: \"'left'\" } }, }, enableKeyboard: { control: 'boolean', description: 'Enable Ctrl+Up/Down keyboard shortcuts', table: { defaultValue: { summary: 'true' } }, }, animation: { control: 'select', options: [false, 'flip'], description: 'Animation type for row movement', table: { defaultValue: { summary: \"'flip'\" } }, }, }, args: { dragHandlePosition: 'left', enableKeyboard: true, animation: 'flip', }, }"
        },
        {
          "kind": "variable",
          "name": "Default",
          "type": {
            "text": "Story"
          },
          "default": "{ parameters: { docs: { source: { transform: (_code: string, ctx: { args: RowReorderArgs }) => generateRowReorderCode(ctx.args), language: 'html', }, }, }, render: (args) => { const grid = document.createElement('tbw-grid') as GridElement; grid.style.height = '350px'; grid.gridConfig = { columns, plugins: [ new RowReorderPlugin({ dragHandlePosition: args.dragHandlePosition, enableKeyboard: args.enableKeyboard, animation: args.animation, }), ], }; grid.rows = sampleData; return grid; }, }",
          "description": "Drag rows using the grip handle to reorder them, or use Ctrl+Up/Down\r\nto move the focused row with the keyboard."
        },
        {
          "kind": "variable",
          "name": "HandleAtEnd",
          "type": {
            "text": "Story"
          },
          "default": "{ render: () => { const grid = document.createElement('tbw-grid') as GridElement; grid.style.height = '350px'; grid.gridConfig = { columns, plugins: [ new RowReorderPlugin({ dragHandlePosition: 'right', }), ], }; grid.rows = sampleData; return grid; }, }",
          "description": "The drag handle can be placed at the end of each row."
        },
        {
          "kind": "variable",
          "name": "CancelableEvent",
          "type": {
            "text": "Story"
          },
          "default": "{ render: () => { const container = document.createElement('div'); container.style.height = '350px'; container.style.display = 'flex'; container.style.flexDirection = 'column'; const status = document.createElement('div'); status.style.padding = '8px'; status.style.marginBottom = '8px'; status.style.background = 'var(--tbw-color-bg-alt)'; status.style.borderRadius = '4px'; status.textContent = 'Try moving \"Bob\" - it will be blocked!'; container.appendChild(status); const grid = document.createElement('tbw-grid') as GridElement; grid.style.flex = '1'; grid.gridConfig = { columns, plugins: [new RowReorderPlugin()], }; grid.rows = sampleData; // Prevent moving Bob grid.addEventListener('row-move', (e) => { const detail = (e as CustomEvent).detail; if (detail.row.name === 'Bob') { e.preventDefault(); status.textContent = '❌ Cannot move Bob!'; status.style.background = 'var(--tbw-color-danger-light)'; } else { status.textContent = `✓ Moved ${detail.row.name} from index ${detail.fromIndex} to ${detail.toIndex}`; status.style.background = 'var(--tbw-color-success-light)'; } }); container.appendChild(grid); return container; }, }",
          "description": "Cancel the row move by calling `event.preventDefault()` in\r\nthe `row-move` event handler."
        }
      ],
      "exports": [
        {
          "kind": "js",
          "name": "default",
          "declaration": {
            "name": "meta",
            "module": "src/lib/plugins/row-reorder/row-reorder.stories.ts"
          }
        },
        {
          "kind": "js",
          "name": "Default",
          "declaration": {
            "name": "Default",
            "module": "src/lib/plugins/row-reorder/row-reorder.stories.ts"
          }
        },
        {
          "kind": "js",
          "name": "HandleAtEnd",
          "declaration": {
            "name": "HandleAtEnd",
            "module": "src/lib/plugins/row-reorder/row-reorder.stories.ts"
          }
        },
        {
          "kind": "js",
          "name": "CancelableEvent",
          "declaration": {
            "name": "CancelableEvent",
            "module": "src/lib/plugins/row-reorder/row-reorder.stories.ts"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/row-reorder/RowReorderPlugin.ts",
      "declarations": [
        {
          "kind": "variable",
          "name": "ROW_DRAG_HANDLE_FIELD",
          "type": {
            "text": "string"
          },
          "default": "'__tbw_row_drag'",
          "description": "Field name for the drag handle column"
        },
        {
          "kind": "class",
          "description": "Row Reorder Plugin for tbw-grid\r\n\r\nEnables row reordering via keyboard shortcuts (Ctrl+Up/Down) and drag-drop.\r\nSupports validation callbacks and debounced keyboard moves.\r\n\r\n## Installation\r\n\r\n```ts\r\nimport { RowReorderPlugin } from '@toolbox-web/grid/plugins/row-reorder';\r\n```\r\n\r\n## Configuration Options\r\n\r\n| Option | Type | Default | Description |\r\n|--------|------|---------|-------------|\r\n| `enableKeyboard` | `boolean` | `true` | Enable Ctrl+Up/Down shortcuts |\r\n| `showDragHandle` | `boolean` | `true` | Show drag handle column |\r\n| `dragHandlePosition` | `'left' \\| 'right'` | `'left'` | Drag handle column position |\r\n| `dragHandleWidth` | `number` | `40` | Drag handle column width |\r\n| `canMove` | `function` | - | Validation callback |\r\n| `debounceMs` | `number` | `300` | Debounce time for keyboard moves |\r\n| `animation` | `false \\| 'flip'` | `'flip'` | Animation for row moves |\r\n\r\n## Keyboard Shortcuts\r\n\r\n| Key | Action |\r\n|-----|--------|\r\n| `Ctrl + ↑` | Move focused row up |\r\n| `Ctrl + ↓` | Move focused row down |\r\n\r\n## Events\r\n\r\n| Event | Detail | Cancelable | Description |\r\n|-------|--------|------------|-------------|\r\n| `row-move` | `RowMoveDetail` | Yes | Fired when a row move is attempted |",
          "name": "RowReorderPlugin",
          "members": [
            {
              "kind": "field",
              "name": "animationType",
              "type": {
                "text": "false | 'flip'"
              },
              "privacy": "private",
              "description": "Resolve animation type from plugin config.\r\nUses base class isAnimationEnabled to respect grid-level settings.",
              "readonly": true
            },
            {
              "kind": "field",
              "name": "isDragging",
              "type": {
                "text": "boolean"
              },
              "privacy": "private",
              "default": "false"
            },
            {
              "kind": "field",
              "name": "draggedRowIndex",
              "type": {
                "text": "number | null"
              },
              "privacy": "private",
              "default": "null"
            },
            {
              "kind": "field",
              "name": "dropRowIndex",
              "type": {
                "text": "number | null"
              },
              "privacy": "private",
              "default": "null"
            },
            {
              "kind": "field",
              "name": "pendingMove",
              "type": {
                "text": "PendingMove | null"
              },
              "privacy": "private",
              "default": "null"
            },
            {
              "kind": "field",
              "name": "debounceTimer",
              "type": {
                "text": "ReturnType<typeof setTimeout> | null"
              },
              "privacy": "private",
              "default": "null"
            },
            {
              "kind": "field",
              "name": "lastFocusCol",
              "type": {
                "text": "number"
              },
              "privacy": "private",
              "default": "0",
              "description": "Column index to use when flushing pending move"
            },
            {
              "kind": "method",
              "name": "moveRow",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "fromIndex",
                  "type": {
                    "text": "number"
                  },
                  "description": "Current index of the row"
                },
                {
                  "name": "toIndex",
                  "type": {
                    "text": "number"
                  },
                  "description": "Target index"
                }
              ],
              "description": "Move a row to a new position programmatically."
            },
            {
              "kind": "method",
              "name": "canMoveRow",
              "return": {
                "type": {
                  "text": "boolean"
                }
              },
              "parameters": [
                {
                  "name": "fromIndex",
                  "type": {
                    "text": "number"
                  },
                  "description": "Current index of the row"
                },
                {
                  "name": "toIndex",
                  "type": {
                    "text": "number"
                  },
                  "description": "Target index"
                }
              ],
              "description": "Check if a row can be moved to a position."
            },
            {
              "kind": "method",
              "name": "setupHandleDragListeners",
              "privacy": "private",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "handleEl",
                  "type": {
                    "text": "HTMLElement"
                  }
                },
                {
                  "name": "rowEl",
                  "type": {
                    "text": "HTMLElement"
                  }
                }
              ],
              "description": "Set up drag start/end listeners on the drag handle element."
            },
            {
              "kind": "method",
              "name": "setupRowDropListeners",
              "privacy": "private",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "rowEl",
                  "type": {
                    "text": "HTMLElement"
                  }
                }
              ],
              "description": "Set up drop target listeners on a row element.\r\nAll rows are valid drop targets during drag operations."
            },
            {
              "kind": "method",
              "name": "handleKeyboardMove",
              "privacy": "private",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "row",
                  "type": {
                    "text": "unknown"
                  }
                },
                {
                  "name": "fromIndex",
                  "type": {
                    "text": "number"
                  }
                },
                {
                  "name": "toIndex",
                  "type": {
                    "text": "number"
                  }
                },
                {
                  "name": "direction",
                  "type": {
                    "text": "'up' | 'down'"
                  }
                },
                {
                  "name": "focusCol",
                  "type": {
                    "text": "number"
                  }
                }
              ],
              "description": "Handle debounced keyboard moves.\r\nRows move immediately for visual feedback, but the event emission is debounced."
            },
            {
              "kind": "method",
              "name": "flushPendingMove",
              "privacy": "private",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "description": "Flush the pending move by emitting the event.\r\nCalled when debounce timer fires or user clicks elsewhere."
            },
            {
              "kind": "method",
              "name": "executeMove",
              "privacy": "private",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "row",
                  "type": {
                    "text": "unknown"
                  }
                },
                {
                  "name": "fromIndex",
                  "type": {
                    "text": "number"
                  }
                },
                {
                  "name": "toIndex",
                  "type": {
                    "text": "number"
                  }
                },
                {
                  "name": "source",
                  "type": {
                    "text": "'keyboard' | 'drag'"
                  }
                }
              ],
              "description": "Execute a row move and emit the event."
            },
            {
              "kind": "method",
              "name": "captureRowPositions",
              "privacy": "private",
              "return": {
                "type": {
                  "text": "Map<number, number>"
                }
              },
              "description": "Capture row positions before reorder.\r\nMaps visual row index to its top position."
            },
            {
              "kind": "method",
              "name": "animateFLIP",
              "privacy": "private",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "oldPositions",
                  "type": {
                    "text": "Map<number, number>"
                  },
                  "description": "Row positions captured before DOM change"
                },
                {
                  "name": "fromIndex",
                  "type": {
                    "text": "number"
                  },
                  "description": "Original index of moved row"
                },
                {
                  "name": "toIndex",
                  "type": {
                    "text": "number"
                  },
                  "description": "New index of moved row"
                }
              ],
              "description": "Apply FLIP animation for row reorder.\r\nUses CSS transitions - JS sets initial transform and toggles class."
            },
            {
              "kind": "method",
              "name": "getRowIndex",
              "privacy": "private",
              "return": {
                "type": {
                  "text": "number"
                }
              },
              "parameters": [
                {
                  "name": "rowEl",
                  "type": {
                    "text": "HTMLElement"
                  }
                }
              ],
              "description": "Get the row index from a row element by checking data-row attribute on cells.\r\nThis is consistent with how other plugins retrieve row indices."
            },
            {
              "kind": "method",
              "name": "clearDragClasses",
              "privacy": "private",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "description": "Clear all drag-related classes from rows."
            },
            {
              "kind": "method",
              "name": "clearDebounceTimer",
              "privacy": "private",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "description": "Clear the debounce timer."
            },
            {
              "kind": "field",
              "name": "dependencies",
              "type": {
                "text": "PluginDependency[] | undefined"
              },
              "static": true,
              "readonly": true,
              "description": "Plugin dependencies - declare other plugins this one requires.\r\n\r\nDependencies are validated when the plugin is attached.\r\nRequired dependencies throw an error if missing.\r\nOptional dependencies log an info message if missing.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "field",
              "name": "manifest",
              "type": {
                "text": "PluginManifest<any> | undefined"
              },
              "static": true,
              "readonly": true,
              "description": "Plugin manifest - declares owned properties, config rules, and hook priorities.\r\n\r\nThis is read by the configuration validator to:\r\n- Validate that required plugins are loaded when their properties are used\r\n- Execute configRules to detect invalid/conflicting settings\r\n- Order hook execution based on priority",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "field",
              "name": "name",
              "type": {
                "text": "string"
              },
              "readonly": true,
              "description": "Unique plugin identifier (derived from class name by default)",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "field",
              "name": "version",
              "type": {
                "text": "string"
              },
              "readonly": true,
              "description": "Plugin version - defaults to grid version for built-in plugins.\r\nThird-party plugins can override with their own semver.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "field",
              "name": "styles",
              "type": {
                "text": "string | undefined"
              },
              "readonly": true,
              "description": "CSS styles to inject into the grid's shadow DOM",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "field",
              "name": "cellRenderers",
              "type": {
                "text": "Record<string, CellRenderer> | undefined"
              },
              "readonly": true,
              "description": "Custom cell renderers keyed by type name",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "field",
              "name": "headerRenderers",
              "type": {
                "text": "Record<string, HeaderRenderer> | undefined"
              },
              "readonly": true,
              "description": "Custom header renderers keyed by type name",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "field",
              "name": "cellEditors",
              "type": {
                "text": "Record<string, CellEditor> | undefined"
              },
              "readonly": true,
              "description": "Custom cell editors keyed by type name",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "field",
              "name": "grid",
              "type": {
                "text": "GridElement"
              },
              "privacy": "protected",
              "description": "The grid instance this plugin is attached to",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "field",
              "name": "config",
              "type": {
                "text": "TConfig"
              },
              "privacy": "protected",
              "description": "Plugin configuration - merged with defaults in attach()",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "field",
              "name": "userConfig",
              "type": {
                "text": "Partial<TConfig>"
              },
              "privacy": "protected",
              "readonly": true,
              "description": "User-provided configuration from constructor",
              "default": "config",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "field",
              "name": "#abortController",
              "privacy": "private",
              "type": {
                "text": "AbortController | undefined"
              },
              "description": "Plugin-level AbortController for event listener cleanup.\r\nCreated fresh in attach(), aborted in detach().\r\nThis ensures event listeners are properly cleaned up when plugins are re-attached.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "field",
              "name": "defaultConfig",
              "type": {
                "text": "Partial<TConfig>"
              },
              "privacy": "protected",
              "description": "Default configuration - subclasses should override this getter.\r\nNote: This must be a getter (not property initializer) for proper inheritance\r\nsince property initializers run after parent constructor.",
              "readonly": true,
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "attach",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "grid",
                  "type": {
                    "text": "GridElement"
                  }
                }
              ],
              "description": "Called when the plugin is attached to a grid.\r\nOverride to set up event listeners, initialize state, etc.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "detach",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "description": "Called when the plugin is detached from a grid.\r\nOverride to clean up event listeners, timers, etc.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "onPluginAttached",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "name",
                  "type": {
                    "text": "string"
                  },
                  "description": "The name of the plugin that was attached"
                },
                {
                  "name": "plugin",
                  "type": {
                    "text": "BaseGridPlugin"
                  },
                  "description": "The plugin instance (for direct access if needed)"
                }
              ],
              "description": "Called when another plugin is attached to the same grid.\r\nUse for inter-plugin coordination, e.g., to integrate with new plugins.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "onPluginDetached",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "name",
                  "type": {
                    "text": "string"
                  },
                  "description": "The name of the plugin that was detached"
                }
              ],
              "description": "Called when another plugin is detached from the same grid.\r\nUse to clean up inter-plugin references.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "getPlugin",
              "privacy": "protected",
              "return": {
                "type": {
                  "text": "T | undefined"
                }
              },
              "parameters": [
                {
                  "name": "PluginClass",
                  "type": {
                    "text": "new (...args: any[]) => T"
                  }
                }
              ],
              "description": "Get another plugin instance from the same grid.\r\nUse for inter-plugin communication.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "emit",
              "privacy": "protected",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "eventName",
                  "type": {
                    "text": "string"
                  }
                },
                {
                  "name": "detail",
                  "type": {
                    "text": "T"
                  }
                }
              ],
              "description": "Emit a custom event from the grid.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "emitCancelable",
              "privacy": "protected",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "eventName",
                  "type": {
                    "text": "string"
                  }
                },
                {
                  "name": "detail",
                  "type": {
                    "text": "T"
                  }
                }
              ],
              "description": "Emit a cancelable custom event from the grid.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "on",
              "privacy": "protected",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "eventType",
                  "type": {
                    "text": "string"
                  },
                  "description": "The event type to listen for (e.g., 'filter-change')"
                },
                {
                  "name": "callback",
                  "type": {
                    "text": "(detail: T) => void"
                  },
                  "description": "The callback to invoke when the event is emitted"
                }
              ],
              "description": "Subscribe to an event from another plugin.\r\nThe subscription is automatically cleaned up when this plugin is detached.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "off",
              "privacy": "protected",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "eventType",
                  "type": {
                    "text": "string"
                  },
                  "description": "The event type to stop listening for"
                }
              ],
              "description": "Unsubscribe from a plugin event.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "emitPluginEvent",
              "privacy": "protected",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "eventType",
                  "type": {
                    "text": "string"
                  },
                  "description": "The event type to emit (should be declared in manifest.events)"
                },
                {
                  "name": "detail",
                  "type": {
                    "text": "T"
                  },
                  "description": "The event payload"
                }
              ],
              "description": "Emit an event to other plugins via the Event Bus.\r\nThis is for inter-plugin communication only; it does NOT dispatch DOM events.\r\nUse `emit()` to dispatch DOM events that external consumers can listen to.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "requestRender",
              "privacy": "protected",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "description": "Request a re-render of the grid.\r\nUses ROWS phase - does NOT trigger processColumns hooks.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "requestColumnsRender",
              "privacy": "protected",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "description": "Request a columns re-render of the grid.\r\nUses COLUMNS phase - triggers processColumns hooks.\r\nUse this when your plugin needs to reprocess column configuration.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "requestRenderWithFocus",
              "privacy": "protected",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "description": "Request a re-render and restore focus styling afterward.\r\nUse this when a plugin action (like expand/collapse) triggers a render\r\nbut needs to maintain keyboard navigation focus.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "requestAfterRender",
              "privacy": "protected",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "description": "Request a lightweight style update without rebuilding DOM.\r\nUse this instead of requestRender() when only CSS classes need updating.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "field",
              "name": "rows",
              "type": {
                "text": "any[]"
              },
              "privacy": "protected",
              "description": "Get the current rows from the grid.",
              "readonly": true,
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "field",
              "name": "sourceRows",
              "type": {
                "text": "any[]"
              },
              "privacy": "protected",
              "description": "Get the original unfiltered/unprocessed rows from the grid.\r\nUse this when you need all source data regardless of active filters.",
              "readonly": true,
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "field",
              "name": "columns",
              "type": {
                "text": "ColumnConfig[]"
              },
              "privacy": "protected",
              "description": "Get the current columns from the grid.",
              "readonly": true,
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "field",
              "name": "visibleColumns",
              "type": {
                "text": "ColumnConfig[]"
              },
              "privacy": "protected",
              "description": "Get only visible columns from the grid (excludes hidden).\r\nUse this for rendering that needs to match the grid template.",
              "readonly": true,
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "field",
              "name": "gridElement",
              "type": {
                "text": "HTMLElement"
              },
              "privacy": "protected",
              "description": "Get the grid as an HTMLElement for direct DOM operations.\r\nUse sparingly - prefer the typed GridElementRef API when possible.",
              "readonly": true,
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "field",
              "name": "disconnectSignal",
              "type": {
                "text": "AbortSignal"
              },
              "privacy": "protected",
              "description": "Get the disconnect signal for event listener cleanup.\r\nThis signal is aborted when the grid disconnects from the DOM.\r\nUse this when adding event listeners that should be cleaned up automatically.\r\n\r\nBest for:\r\n- Document/window-level listeners added in attach()\r\n- Listeners on the grid element itself\r\n- Any listener that should persist across renders\r\n\r\nNot needed for:\r\n- Listeners on elements created in afterRender() (removed with element)",
              "readonly": true,
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "field",
              "name": "gridIcons",
              "type": {
                "text": "typeof DEFAULT_GRID_ICONS"
              },
              "privacy": "protected",
              "description": "Get the grid-level icons configuration.\r\nReturns merged icons (user config + defaults).",
              "readonly": true,
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "field",
              "name": "isAnimationEnabled",
              "type": {
                "text": "boolean"
              },
              "privacy": "protected",
              "description": "Check if animations are enabled at the grid level.\r\nRespects gridConfig.animation.mode and the CSS variable set by the grid.\r\n\r\nPlugins should use this to skip animations when:\r\n- Animation mode is 'off' or `false`\r\n- User prefers reduced motion and mode is 'reduced-motion' (default)",
              "readonly": true,
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "field",
              "name": "animationDuration",
              "type": {
                "text": "number"
              },
              "privacy": "protected",
              "description": "Get the animation duration in milliseconds from CSS variable.\r\nFalls back to 200ms if not set.\r\n\r\nPlugins can use this for their animation timing to stay consistent\r\nwith the grid-level animation.duration setting.",
              "readonly": true,
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "resolveIcon",
              "privacy": "protected",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "iconKey",
                  "type": {
                    "text": "keyof typeof DEFAULT_GRID_ICONS"
                  },
                  "description": "The icon key in GridIcons (e.g., 'expand', 'collapse')"
                },
                {
                  "name": "pluginOverride",
                  "optional": true,
                  "type": {
                    "text": "IconValue"
                  },
                  "description": "Optional plugin-level override"
                }
              ],
              "description": "Resolve an icon value to string or HTMLElement.\r\nChecks plugin config first, then grid-level icons, then defaults.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "setIcon",
              "privacy": "protected",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "element",
                  "type": {
                    "text": "HTMLElement"
                  },
                  "description": "The element to set the icon on"
                },
                {
                  "name": "icon",
                  "type": {
                    "text": "IconValue"
                  },
                  "description": "The icon value (string or HTMLElement)"
                }
              ],
              "description": "Set an icon value on an element.\r\nHandles both string (text/HTML) and HTMLElement values.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "warn",
              "privacy": "protected",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "message",
                  "type": {
                    "text": "string"
                  }
                }
              ],
              "description": "Log a warning message.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "processRows",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "rows",
                  "type": {
                    "text": "readonly any[]"
                  },
                  "description": "The current rows array (readonly to encourage returning a new array)"
                }
              ],
              "description": "Transform rows before rendering.\r\nCalled during each render cycle before rows are rendered to the DOM.\r\nUse this to filter, sort, or add computed properties to rows.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "processColumns",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "columns",
                  "type": {
                    "text": "readonly ColumnConfig[]"
                  },
                  "description": "The current columns array (readonly to encourage returning a new array)"
                }
              ],
              "description": "Transform columns before rendering.\r\nCalled during each render cycle before column headers and cells are rendered.\r\nUse this to add, remove, or modify column definitions.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "beforeRender",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "description": "Called before each render cycle begins.\r\nUse this to prepare state or cache values needed during rendering.\r\n\r\n**Note:** This hook is currently a placeholder for future implementation.\r\nIt is defined in the interface but not yet invoked by the grid's render pipeline.\r\nIf you need this functionality, please open an issue or contribute an implementation.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "afterRender",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "description": "Called after each render cycle completes.\r\nUse this for DOM manipulation, adding event listeners to rendered elements,\r\nor applying visual effects like selection highlights.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "afterCellRender",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "context",
                  "type": {
                    "text": "AfterCellRenderContext"
                  },
                  "description": "The cell render context with row, column, value, and elements"
                }
              ],
              "description": "Called after each cell is rendered.\r\nThis hook is more efficient than `afterRender()` for cell-level modifications\r\nbecause you receive the cell context directly - no DOM queries needed.\r\n\r\nUse cases:\r\n- Adding selection/highlight classes to specific cells\r\n- Injecting badges or decorations\r\n- Applying conditional styling based on cell value\r\n\r\nPerformance note: Called for every visible cell during render. Keep implementation fast.\r\nThis hook is also called during scroll when cells are recycled.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "afterRowRender",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "context",
                  "type": {
                    "text": "AfterRowRenderContext"
                  },
                  "description": "The row render context with row data and element"
                }
              ],
              "description": "Called after a row is fully rendered (all cells complete).\r\nUse this for row-level decorations, styling, or ARIA attributes.\r\n\r\nCommon use cases:\r\n- Adding selection classes to entire rows (row-focus, selected)\r\n- Setting row-level ARIA attributes\r\n- Applying row validation highlighting\r\n- Tree indentation styling\r\n\r\nPerformance note: Called for every visible row during render. Keep implementation fast.\r\nThis hook is also called during scroll when rows are recycled.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "onScrollRender",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "description": "Called after scroll-triggered row rendering completes.\r\nThis is a lightweight hook for applying visual state to recycled DOM elements.\r\nUse this instead of afterRender when you need to reapply styling during scroll.\r\n\r\nPerformance note: This is called frequently during scroll. Keep implementation fast.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "getExtraHeight",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "description": "Return extra height contributed by this plugin (e.g., expanded detail rows).\r\nUsed to adjust scrollbar height calculations for virtualization.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "getExtraHeightBefore",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "beforeRowIndex",
                  "type": {
                    "text": "number"
                  },
                  "description": "The row index to calculate extra height before"
                }
              ],
              "description": "Return extra height that appears before a given row index.\r\nUsed by virtualization to correctly calculate scroll positions when\r\nthere's variable height content (like expanded detail rows) above the viewport.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "adjustVirtualStart",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "start",
                  "type": {
                    "text": "number"
                  },
                  "description": "The calculated start row index"
                },
                {
                  "name": "scrollTop",
                  "type": {
                    "text": "number"
                  },
                  "description": "The current scroll position"
                },
                {
                  "name": "rowHeight",
                  "type": {
                    "text": "number"
                  },
                  "description": "The height of a single row"
                }
              ],
              "description": "Adjust the virtualization start index to render additional rows before the visible range.\r\nUse this when expanded content (like detail rows) needs its parent row to remain rendered\r\neven when the parent row itself has scrolled above the viewport.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "renderRow",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "row",
                  "type": {
                    "text": "any"
                  },
                  "description": "The row data object"
                },
                {
                  "name": "rowEl",
                  "type": {
                    "text": "HTMLElement"
                  },
                  "description": "The row DOM element to render into"
                },
                {
                  "name": "rowIndex",
                  "type": {
                    "text": "number"
                  },
                  "description": "The index of the row in the data array"
                }
              ],
              "description": "Render a custom row, bypassing the default row rendering.\r\nUse this for special row types like group headers, detail rows, or footers.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "onPluginQuery",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "query",
                  "type": {
                    "text": "PluginQuery"
                  },
                  "description": "The query object with type and context"
                }
              ],
              "description": "Handle queries from other plugins.\r\nThis is the generic mechanism for inter-plugin communication.\r\nPlugins can respond to well-known query types or define their own.\r\n\r\n**Prefer `handleQuery` for new plugins** - it has the same signature but\r\na clearer name. `onPluginQuery` is kept for backwards compatibility.",
              "deprecated": "Use `handleQuery` instead for new plugins.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "handleQuery",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "query",
                  "type": {
                    "text": "PluginQuery"
                  },
                  "description": "The query object with type and context"
                }
              ],
              "description": "Handle queries from other plugins or the grid.\r\n\r\nQueries are declared in `manifest.queries` and dispatched via `grid.query()`.\r\nThis enables type-safe, discoverable inter-plugin communication.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "onKeyDown",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "event",
                  "type": {
                    "text": "KeyboardEvent"
                  },
                  "description": "The native KeyboardEvent"
                }
              ],
              "description": "Handle keyboard events on the grid.\r\nCalled when a key is pressed while the grid or a cell has focus.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "onCellClick",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "event",
                  "type": {
                    "text": "CellClickEvent"
                  },
                  "description": "Cell click event with row/column context"
                }
              ],
              "description": "Handle cell click events.\r\nCalled when a data cell is clicked (not headers).",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "onRowClick",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "event",
                  "type": {
                    "text": "RowClickEvent"
                  },
                  "description": "Row click event with row context"
                }
              ],
              "description": "Handle row click events.\r\nCalled when any part of a data row is clicked.\r\nNote: This is called in addition to onCellClick, not instead of.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "onHeaderClick",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "event",
                  "type": {
                    "text": "HeaderClickEvent"
                  },
                  "description": "Header click event with column context"
                }
              ],
              "description": "Handle header click events.\r\nCalled when a column header is clicked. Commonly used for sorting.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "onScroll",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "event",
                  "type": {
                    "text": "ScrollEvent"
                  },
                  "description": "Scroll event with scroll position and viewport dimensions"
                }
              ],
              "description": "Handle scroll events on the grid viewport.\r\nCalled during scrolling. Note: This may be called frequently; debounce if needed.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "onCellMouseDown",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "event",
                  "type": {
                    "text": "CellMouseEvent"
                  },
                  "description": "Mouse event with cell context"
                }
              ],
              "description": "Handle cell mousedown events.\r\nUsed for initiating drag operations like range selection or column resize.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "onCellMouseMove",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "event",
                  "type": {
                    "text": "CellMouseEvent"
                  },
                  "description": "Mouse event with current cell context"
                }
              ],
              "description": "Handle cell mousemove events during drag operations.\r\nOnly called when a drag is in progress (after mousedown returned true).",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "onCellMouseUp",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "event",
                  "type": {
                    "text": "CellMouseEvent"
                  },
                  "description": "Mouse event with final cell context"
                }
              ],
              "description": "Handle cell mouseup events to end drag operations.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "getColumnState",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "field",
                  "type": {
                    "text": "string"
                  },
                  "description": "The field name of the column"
                }
              ],
              "description": "Contribute plugin-specific state for a column.\r\nCalled by the grid when collecting column state for serialization.\r\nPlugins can add their own properties to the column state.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "applyColumnState",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "field",
                  "type": {
                    "text": "string"
                  },
                  "description": "The field name of the column"
                },
                {
                  "name": "state",
                  "type": {
                    "text": "ColumnState"
                  },
                  "description": "The column state to apply (may contain plugin-specific properties)"
                }
              ],
              "description": "Apply plugin-specific state to a column.\r\nCalled by the grid when restoring column state from serialized data.\r\nPlugins should restore their internal state based on the provided state.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "getHorizontalScrollOffsets",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "rowEl",
                  "optional": true,
                  "type": {
                    "text": "HTMLElement"
                  },
                  "description": "The row element (optional, for calculating widths from rendered cells)"
                },
                {
                  "name": "focusedCell",
                  "optional": true,
                  "type": {
                    "text": "HTMLElement"
                  },
                  "description": "The currently focused cell element (optional, to determine if scrolling should be skipped)"
                }
              ],
              "description": "Report horizontal scroll boundary offsets for this plugin.\r\nPlugins that obscure part of the scroll area (e.g., pinned/sticky columns)\r\nshould return how much space they occupy on each side.\r\nThe keyboard navigation uses this to ensure focused cells are fully visible.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "getToolPanel",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "description": "Register a tool panel for this plugin.\r\nReturn undefined if plugin has no tool panel.\r\nThe shell will create a toolbar toggle button and render the panel content\r\nwhen the user opens the panel.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "getHeaderContent",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "description": "Register content for the shell header center section.\r\nReturn undefined if plugin has no header content.\r\nExamples: search input, selection summary, status indicators.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            }
          ],
          "superclass": {
            "name": "BaseGridPlugin",
            "module": "/src/lib/core/plugin/base-plugin"
          }
        }
      ],
      "exports": [
        {
          "kind": "js",
          "name": "ROW_DRAG_HANDLE_FIELD",
          "declaration": {
            "name": "ROW_DRAG_HANDLE_FIELD",
            "module": "src/lib/plugins/row-reorder/RowReorderPlugin.ts"
          }
        },
        {
          "kind": "js",
          "name": "RowReorderPlugin",
          "declaration": {
            "name": "RowReorderPlugin",
            "module": "src/lib/plugins/row-reorder/RowReorderPlugin.ts"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/row-reorder/types.ts",
      "declarations": [],
      "exports": []
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/responsive/index.ts",
      "declarations": [],
      "exports": [
        {
          "kind": "js",
          "name": "ResponsivePlugin",
          "declaration": {
            "name": "ResponsivePlugin",
            "module": "./ResponsivePlugin"
          }
        },
        {
          "kind": "js",
          "name": "BreakpointConfig",
          "declaration": {
            "name": "BreakpointConfig",
            "module": "./types"
          }
        },
        {
          "kind": "js",
          "name": "HiddenColumnConfig",
          "declaration": {
            "name": "HiddenColumnConfig",
            "module": "./types"
          }
        },
        {
          "kind": "js",
          "name": "ResponsiveChangeDetail",
          "declaration": {
            "name": "ResponsiveChangeDetail",
            "module": "./types"
          }
        },
        {
          "kind": "js",
          "name": "ResponsivePluginConfig",
          "declaration": {
            "name": "ResponsivePluginConfig",
            "module": "./types"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/responsive/responsive.spec.ts",
      "declarations": [],
      "exports": []
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/responsive/responsive.stories.ts",
      "declarations": [
        {
          "kind": "variable",
          "name": "meta",
          "type": {
            "text": "Meta"
          },
          "default": "{ title: 'Grid/Plugins/Responsive', tags: ['!dev'], parameters: { layout: 'fullscreen', docs: { description: { component: ` The Responsive plugin transforms the grid from a tabular layout to a card/list layout when the grid width falls below a configurable breakpoint. **Key Features:** - Automatic mode switching based on grid width - CSS-only card layout (no DOM replacement) - Optional hidden columns in responsive mode - Custom card renderer support (Phase 2) **Use Cases:** - Split-pane UIs where the grid panel can be resized - Mobile/tablet responsive designs - Dashboard widgets in narrow containers - Master-detail patterns where detail panel takes space `, }, }, }, argTypes: { breakpoint: { control: { type: 'range', min: 200, max: 1000, step: 50 }, description: 'Width threshold in pixels to trigger responsive mode', table: { category: 'Responsive', type: { summary: 'number' } }, }, hideHeader: { control: 'boolean', description: 'Whether to hide the header row in responsive mode', table: { category: 'Responsive', type: { summary: 'boolean' } }, }, debounceMs: { control: { type: 'range', min: 0, max: 500, step: 50 }, description: 'Debounce delay for resize events', table: { category: 'Responsive', type: { summary: 'number' } }, }, }, args: { breakpoint: 500, hideHeader: true, debounceMs: 100, }, }"
        },
        {
          "kind": "variable",
          "name": "Default",
          "type": {
            "text": "Story"
          },
          "default": "{ args: { breakpoint: 500, }, parameters: { docs: { source: { code: ` <!-- HTML --> <div style=\"resize: horizontal; overflow: auto; width: 700px; border: 2px dashed #ccc; padding: 8px;\"> <tbw-grid style=\"height: 350px;\"></tbw-grid> </div> <script type=\"module\"> import '@toolbox-web/grid'; import { ResponsivePlugin } from '@toolbox-web/grid/plugins/responsive'; const grid = document.querySelector('tbw-grid'); grid.gridConfig = { columns: [ { field: 'id', header: 'ID', type: 'number' }, { field: 'name', header: 'Name' }, { field: 'department', header: 'Department' }, { field: 'salary', header: 'Salary', type: 'number' }, ], plugins: [new ResponsivePlugin({ breakpoint: 500 })], }; grid.rows = data; </script> `, }, }, }, render: (args) => { // Outer wrapper with padding to keep resize handle above \"Show code\" button const wrapper = document.createElement('div'); wrapper.style.cssText = 'padding-bottom: 20px;'; // Create a resizable container to demonstrate the plugin const container = document.createElement('div'); container.style.cssText = ` resize: horizontal; overflow: auto; width: 700px; min-width: 250px; max-width: 100%; border: 2px dashed var(--sb-border); padding: 8px; background: var(--sb-bg); `; // Add instruction const instruction = document.createElement('div'); instruction.style.cssText = 'margin-bottom: 8px; color: #666; font-size: 14px;'; instruction.textContent = '↔ Drag the right edge to resize the container'; container.appendChild(instruction); const grid = document.createElement('tbw-grid') as GridElement; grid.style.height = '350px'; grid.gridConfig = { columns, plugins: [ new ResponsivePlugin({ breakpoint: args.breakpoint, hideHeader: args.hideHeader, debounceMs: args.debounceMs, }), ], }; grid.rows = sampleData; container.appendChild(grid); // Add status indicator const status = document.createElement('div'); status.style.cssText = 'margin-top: 8px; font-size: 12px; color: var(--sbdocs-toc-link);'; container.appendChild(status); // Update status on responsive change grid.addEventListener('responsive-change', ((e: CustomEvent) => { const { isResponsive, width, breakpoint } = e.detail; status.textContent = `Mode: ${isResponsive ? '📱 Card' : '📊 Table'} | Width: ${Math.round(width)}px | Breakpoint: ${breakpoint}px`; }) as EventListener); // Initial status requestAnimationFrame(() => { const width = grid.clientWidth; const isResponsive = width < args.breakpoint; status.textContent = `Mode: ${isResponsive ? '📱 Card' : '📊 Table'} | Width: ${Math.round(width)}px | Breakpoint: ${args.breakpoint}px`; }); wrapper.appendChild(container); return wrapper; }, }",
          "description": "Interactive demo - resize the grid container to see the responsive layout.\r\nUse the slider in the controls to adjust the breakpoint."
        },
        {
          "kind": "variable",
          "name": "CardMode",
          "type": {
            "text": "Story"
          },
          "default": "{ parameters: { docs: { description: { story: 'Force card mode by using a container narrower than the breakpoint.', }, }, }, render: () => { const container = document.createElement('div'); container.style.cssText = 'width: 350px; border: 1px solid var(--sb-border);'; const grid = document.createElement('tbw-grid') as GridElement; grid.style.height = '400px'; grid.gridConfig = { columns: [ { field: 'name', header: 'Name' }, { field: 'department', header: 'Department' }, { field: 'salary', header: 'Salary', type: 'number' as const }, { field: 'email', header: 'Email' }, ], plugins: [new ResponsivePlugin({ breakpoint: 500 })], }; grid.rows = sampleData; container.appendChild(grid); return container; }, }",
          "description": "When the grid width is below the breakpoint, it automatically switches to card layout.\r\nEach row becomes a card with header-value pairs stacked vertically."
        },
        {
          "kind": "variable",
          "name": "HiddenColumns",
          "type": {
            "text": "Story"
          },
          "default": "{ parameters: { docs: { description: { story: 'Hide the email and startDate columns when in responsive mode to reduce clutter.', }, }, }, render: () => { // Outer wrapper with padding to keep resize handle above \"Show code\" button const wrapper = document.createElement('div'); wrapper.style.cssText = 'padding-bottom: 20px;'; const container = document.createElement('div'); container.style.cssText = ` resize: horizontal; overflow: auto; width: 350px; min-width: 250px; max-width: 100%; border: 2px dashed var(--sb-border); padding: 8px; padding-bottom: 16px; `; const instruction = document.createElement('div'); instruction.style.cssText = 'margin-bottom: 8px; color: var(--sbdocs-toc-link); font-size: 14px;'; instruction.textContent = 'Email and Start Date columns are hidden in card mode'; container.appendChild(instruction); const grid = document.createElement('tbw-grid') as GridElement; grid.style.height = '350px'; grid.gridConfig = { columns, plugins: [ new ResponsivePlugin({ breakpoint: 600, hiddenColumns: ['email', 'startDate'], }), ], }; grid.rows = sampleData; container.appendChild(grid); wrapper.appendChild(container); return wrapper; }, }",
          "description": "Use `hiddenColumns` to hide less important columns in card mode.\r\nThis helps focus on essential information in narrow layouts."
        },
        {
          "kind": "variable",
          "name": "ManualControl",
          "type": {
            "text": "Story"
          },
          "default": "{ parameters: { docs: { description: { story: 'Use `setResponsive()` to force responsive mode regardless of width.', }, }, }, render: () => { const container = document.createElement('div'); // Controls const controls = document.createElement('div'); controls.style.cssText = 'margin-bottom: 12px; display: flex; gap: 8px;'; const tableBtn = document.createElement('button'); tableBtn.textContent = '📊 Table Mode'; tableBtn.style.cssText = 'padding: 8px 16px; cursor: pointer;'; const cardBtn = document.createElement('button'); cardBtn.textContent = '📱 Card Mode'; cardBtn.style.cssText = 'padding: 8px 16px; cursor: pointer;'; controls.appendChild(tableBtn); controls.appendChild(cardBtn); container.appendChild(controls); const grid = document.createElement('tbw-grid') as GridElement; grid.style.height = '350px'; const responsivePlugin = new ResponsivePlugin({ breakpoint: 0, // Disabled - using manual control }); grid.gridConfig = { columns: columns.slice(0, 4), // Fewer columns plugins: [responsivePlugin], }; grid.rows = sampleData; tableBtn.addEventListener('click', () => responsivePlugin.setResponsive(false)); cardBtn.addEventListener('click', () => responsivePlugin.setResponsive(true)); container.appendChild(grid); return container; }, }",
          "description": "Use the plugin API to manually control responsive mode."
        },
        {
          "kind": "variable",
          "name": "CustomCardRenderer",
          "type": {
            "text": "Story"
          },
          "default": "{ parameters: { docs: { description: { story: ` Use \\`cardRenderer\\` when the default header-value pair layout isn't sufficient. Your renderer receives the row data and index, and returns an HTMLElement. **Note:** When using a custom cardRenderer, keyboard navigation is disabled. The implementor is responsible for handling their own navigation within the card. `, }, source: { code: ` const responsivePlugin = new ResponsivePlugin({ breakpoint: 600, cardRenderer: (row) => { const card = document.createElement('div'); card.className = 'employee-card'; card.innerHTML = \\` <div class=\"avatar\">\\${row.name[0]}</div> <div class=\"info\"> <div class=\"name\">\\${row.name}</div> <div class=\"meta\">\\${row.department} · $\\${row.salary.toLocaleString()}</div> <div class=\"email\">\\${row.email}</div> </div> \\`; return card; }, }); `, }, }, }, render: () => { // Outer wrapper with padding to keep resize handle above \"Show code\" button const wrapper = document.createElement('div'); wrapper.style.cssText = 'padding-bottom: 20px;'; const container = document.createElement('div'); container.style.cssText = ` resize: horizontal; overflow: auto; width: 400px; min-width: 300px; max-width: 100%; border: 2px dashed var(--sb-border); padding: 8px; padding-bottom: 16px; background: var(--sb-bg); `; // Add instruction const instruction = document.createElement('div'); instruction.style.cssText = 'margin-bottom: 8px; color: var(--sbdocs-toc-link); font-size: 14px;'; instruction.textContent = '↔ Resize to see custom card layout'; container.appendChild(instruction); // Add card styles const style = document.createElement('style'); style.textContent = ` .employee-card { display: flex; align-items: center; gap: 12px; padding: 8px 0; } .employee-card .avatar { width: 48px; height: 48px; border-radius: 50%; background: var(--tbw-color-accent, #4a90d9); color: white; display: flex; align-items: center; justify-content: center; font-size: 20px; font-weight: bold; flex-shrink: 0; } .employee-card .info { flex: 1; min-width: 0; } .employee-card .name { font-weight: 600; font-size: 16px; color: var(--tbw-color-fg); } .employee-card .meta { font-size: 13px; color: var(--tbw-color-fg-muted, #666); margin-top: 2px; } .employee-card .email { font-size: 12px; color: var(--tbw-color-accent, #4a90d9); margin-top: 4px; } .employee-card .badge { display: inline-block; padding: 2px 8px; border-radius: 12px; font-size: 11px; font-weight: 500; margin-left: 8px; } .employee-card .badge.engineering { background: #e3f2fd; color: #1565c0; } .employee-card .badge.marketing { background: #f3e5f5; color: #7b1fa2; } .employee-card .badge.sales { background: #e8f5e9; color: #2e7d32; } `; container.appendChild(style); const grid = document.createElement('tbw-grid') as GridElement; grid.style.height = '400px'; interface Employee { id: number; name: string; department: string; salary: number; email: string; startDate: string; } const responsivePlugin = new ResponsivePlugin<Employee>({ breakpoint: 600, cardRenderer: (row: Employee) => { const card = document.createElement('div'); card.className = 'employee-card'; // Get department badge class const deptClass = row.department.toLowerCase().replace(/\\s+/g, '-'); card.innerHTML = ` <div class=\"avatar\">${row.name[0]}</div> <div class=\"info\"> <div class=\"name\"> ${row.name} <span class=\"badge ${deptClass}\">${row.department}</span> </div> <div class=\"meta\">$${row.salary.toLocaleString()} · Started ${row.startDate}</div> <div class=\"email\">${row.email}</div> </div> `; return card; }, }); grid.gridConfig = { columns, plugins: [responsivePlugin], }; grid.rows = sampleData; container.appendChild(grid); // Add status indicator const status = document.createElement('div'); status.style.cssText = 'margin-top: 8px; font-size: 12px; color: var(--sbdocs-toc-link);'; container.appendChild(status); // Update status on responsive change grid.addEventListener('responsive-change', ((e: CustomEvent) => { const { isResponsive, width } = e.detail; status.textContent = `Mode: ${isResponsive ? '📱 Custom Cards' : '📊 Table'} | Width: ${Math.round(width)}px`; }) as EventListener); // Initial status requestAnimationFrame(() => { const width = grid.clientWidth; status.textContent = `Mode: ${width < 600 ? '📱 Custom Cards' : '📊 Table'} | Width: ${Math.round(width)}px`; }); wrapper.appendChild(container); return wrapper; }, }",
          "description": "**Phase 2 Feature**: Use a custom `cardRenderer` for complete control over card layout.\r\nThis allows for complex card designs with avatars, badges, custom layouts, etc."
        },
        {
          "kind": "variable",
          "name": "FixedCardHeight",
          "type": {
            "text": "Story"
          },
          "default": "{ parameters: { docs: { description: { story: ` Set \\`cardRowHeight\\` to a number for fixed-height cards. This helps with virtualization performance for large datasets. Use \\`'auto'\\` (default) for variable-height cards. `, }, }, }, render: () => { const container = document.createElement('div'); container.style.cssText = 'width: 350px; border: 1px solid var(--sb-border);'; // Add styles const style = document.createElement('style'); style.textContent = ` .simple-card { display: flex; align-items: center; gap: 12px; height: 100%; } .simple-card .initial { width: 40px; height: 40px; border-radius: 8px; background: var(--tbw-color-accent, #4a90d9); color: white; display: flex; align-items: center; justify-content: center; font-weight: bold; } .simple-card .details { flex: 1; } .simple-card .name { font-weight: 600; } .simple-card .dept { font-size: 13px; color: var(--tbw-color-fg-muted, #666); } `; container.appendChild(style); const grid = document.createElement('tbw-grid') as GridElement; grid.style.height = '400px'; interface Employee { id: number; name: string; department: string; salary: number; email: string; startDate: string; } grid.gridConfig = { columns: columns.slice(0, 4), plugins: [ new ResponsivePlugin<Employee>({ breakpoint: 500, cardRowHeight: 60, // Fixed 60px height per card cardRenderer: (row: Employee) => { const card = document.createElement('div'); card.className = 'simple-card'; card.innerHTML = ` <div class=\"initial\">${row.name[0]}</div> <div class=\"details\"> <div class=\"name\">${row.name}</div> <div class=\"dept\">${row.department}</div> </div> `; return card; }, }), ], }; grid.rows = sampleData; container.appendChild(grid); const note = document.createElement('div'); note.style.cssText = 'padding: 8px; font-size: 12px; color: var(--sbdocs-toc-link);'; note.textContent = 'Each card has a fixed 60px height'; container.appendChild(note); return container; }, }",
          "description": "Use `cardRowHeight` to set a fixed height for custom cards.\r\nThis is useful when you want consistent card heights for virtualization performance."
        },
        {
          "kind": "variable",
          "name": "ProgressiveDegradation",
          "type": {
            "text": "Story"
          },
          "default": "{ parameters: { docs: { description: { story: ` Use \\`breakpoints\\` array to progressively hide columns as the grid narrows. This provides a smoother transition before switching to full card layout. **Breakpoints in this example:** - 900px: Hide Start Date - 700px: Also hide Email - 500px: Also hide Salary - 400px: Switch to card layout `, }, source: { code: ` const responsivePlugin = new ResponsivePlugin({ breakpoints: [ { maxWidth: 900, hiddenColumns: ['startDate'] }, { maxWidth: 700, hiddenColumns: ['startDate', 'email'] }, { maxWidth: 500, hiddenColumns: ['startDate', 'email', 'salary'] }, { maxWidth: 400, cardLayout: true }, ], }); `, }, }, }, render: () => { // Outer wrapper with padding to keep resize handle above \"Show code\" button const wrapper = document.createElement('div'); wrapper.style.cssText = 'padding-bottom: 20px;'; const container = document.createElement('div'); container.style.cssText = ` resize: horizontal; overflow: auto; width: 950px; min-width: 300px; max-width: 100%; border: 2px dashed var(--sb-border); padding: 8px; padding-bottom: 16px; background: var(--sb-bg); `; const instruction = document.createElement('div'); instruction.style.cssText = 'margin-bottom: 8px; color: var(--sbdocs-toc-link); font-size: 14px;'; instruction.textContent = '↔ Resize to see columns hide progressively'; container.appendChild(instruction); const grid = document.createElement('tbw-grid') as GridElement; grid.style.height = '350px'; const responsivePlugin = new ResponsivePlugin({ breakpoints: [ { maxWidth: 900, hiddenColumns: ['startDate'] }, { maxWidth: 700, hiddenColumns: ['startDate', 'email'] }, { maxWidth: 500, hiddenColumns: ['startDate', 'email', 'salary'] }, { maxWidth: 400, cardLayout: true }, ], }); grid.gridConfig = { columns, plugins: [responsivePlugin], }; grid.rows = sampleData; container.appendChild(grid); // Status indicator const status = document.createElement('div'); status.style.cssText = 'margin-top: 8px; font-size: 12px; color: var(--sbdocs-toc-link);'; container.appendChild(status); const updateStatus = () => { const bp = responsivePlugin.getActiveBreakpoint(); const isCard = responsivePlugin.isResponsive(); if (!bp) { status.textContent = '📊 Full Table (no columns hidden)'; } else if (isCard) { status.textContent = `📱 Card Layout (≤${bp.maxWidth}px)`; } else { const hidden = bp.hiddenColumns?.length ?? 0; status.textContent = `📊 Table - ${hidden} column(s) hidden (≤${bp.maxWidth}px)`; } }; grid.addEventListener('responsive-change', updateStatus); requestAnimationFrame(updateStatus); wrapper.appendChild(container); return wrapper; }, }",
          "description": "**Phase 3 Feature**: Progressive degradation with multiple breakpoints.\r\nHide columns progressively as the grid gets narrower before switching to card layout."
        },
        {
          "kind": "variable",
          "name": "ValueOnlyColumns",
          "type": {
            "text": "Story"
          },
          "default": "{ parameters: { docs: { description: { story: ` Use the enhanced \\`hiddenColumns\\` syntax to show values without their header labels. This is useful for self-explanatory fields like email addresses or titles. **Syntax:** - \\`'fieldName'\\` - Hide the entire cell - \\`{ field: 'fieldName', showValue: true }\\` - Hide label only, show value full-width `, }, source: { code: ` const responsivePlugin = new ResponsivePlugin({ breakpoint: 500, hiddenColumns: [ 'startDate', // Fully hidden { field: 'email', showValue: true }, // Value shown, no label ], }); `, }, }, }, render: () => { const container = document.createElement('div'); container.style.cssText = ` width: 400px; border: 2px dashed var(--sb-border); padding: 8px; background: var(--sb-bg); `; const instruction = document.createElement('div'); instruction.style.cssText = 'margin-bottom: 8px; color: var(--sbdocs-toc-link); font-size: 14px;'; instruction.textContent = 'Email shows without label, Start Date is fully hidden'; container.appendChild(instruction); const grid = document.createElement('tbw-grid') as GridElement; grid.style.height = '400px'; grid.gridConfig = { columns, plugins: [ new ResponsivePlugin({ breakpoint: 500, hiddenColumns: ['startDate', { field: 'email', showValue: true }], }), ], }; grid.rows = sampleData; container.appendChild(grid); return container; }, }",
          "description": "**Phase 3 Feature**: Enhanced hiddenColumns with value-only mode.\r\nUse `{ field, showValue: true }` to hide just the label but keep the value."
        },
        {
          "kind": "variable",
          "name": "AnimatedTransitions",
          "type": {
            "text": "Story"
          },
          "default": "{ parameters: { docs: { description: { story: ` Animations are enabled by default. Cards fade and slide in smoothly. Use \\`animate: false\\` to disable, or \\`animationDuration\\` to customize timing. `, }, source: { code: ` // Default: animations enabled new ResponsivePlugin({ breakpoint: 500 }) // Disable animations new ResponsivePlugin({ breakpoint: 500, animate: false }) // Custom duration (slower) new ResponsivePlugin({ breakpoint: 500, animationDuration: 400 }) `, }, }, }, render: () => { // Outer wrapper with padding to keep resize handle above \"Show code\" button const wrapper = document.createElement('div'); wrapper.style.cssText = 'padding-bottom: 20px;'; const container = document.createElement('div'); container.style.cssText = ` resize: horizontal; overflow: auto; width: 600px; min-width: 300px; max-width: 100%; border: 2px dashed var(--sb-border); padding: 8px; padding-bottom: 16px; background: var(--sb-bg); `; const instruction = document.createElement('div'); instruction.style.cssText = 'margin-bottom: 8px; color: var(--sbdocs-toc-link); font-size: 14px;'; instruction.textContent = '↔ Resize below 500px to see animated transition'; container.appendChild(instruction); const grid = document.createElement('tbw-grid') as GridElement; grid.style.height = '350px'; grid.gridConfig = { columns: columns.slice(0, 4), plugins: [ new ResponsivePlugin({ breakpoint: 500, animate: true, animationDuration: 300, // Slightly slower for demo }), ], }; grid.rows = sampleData; container.appendChild(grid); const status = document.createElement('div'); status.style.cssText = 'margin-top: 8px; font-size: 12px; color: var(--sbdocs-toc-link);'; container.appendChild(status); grid.addEventListener('responsive-change', ((e: CustomEvent) => { status.textContent = e.detail.isResponsive ? '📱 Card mode - watch the fade-in animation!' : '📊 Table mode'; }) as EventListener); wrapper.appendChild(container); return wrapper; }, }",
          "description": "**Phase 3 Feature**: Animated transitions between modes.\r\nSmooth fade/slide when switching between table and card layouts."
        },
        {
          "kind": "variable",
          "name": "CombinedPhase3Features",
          "type": {
            "text": "Story"
          },
          "default": "{ parameters: { docs: { description: { story: ` This example combines multiple breakpoints with the enhanced hiddenColumns syntax, showing how they work together for a polished responsive experience. `, }, }, }, render: () => { // Outer wrapper with padding to keep resize handle above \"Show code\" button const wrapper = document.createElement('div'); wrapper.style.cssText = 'padding-bottom: 20px;'; const container = document.createElement('div'); container.style.cssText = ` resize: horizontal; overflow: auto; width: 900px; min-width: 300px; max-width: 100%; border: 2px dashed var(--sb-border); padding: 8px; padding-bottom: 16px; background: var(--sb-bg); `; const instruction = document.createElement('div'); instruction.style.cssText = 'margin-bottom: 8px; color: var(--sbdocs-toc-link); font-size: 14px;'; instruction.textContent = '↔ Resize to see progressive degradation with value-only email in card mode'; container.appendChild(instruction); const grid = document.createElement('tbw-grid') as GridElement; grid.style.height = '350px'; const responsivePlugin = new ResponsivePlugin({ breakpoints: [ { maxWidth: 800, hiddenColumns: ['startDate'] }, { maxWidth: 600, hiddenColumns: ['startDate', 'salary'] }, { maxWidth: 450, cardLayout: true, hiddenColumns: ['startDate', { field: 'email', showValue: true }], }, ], animationDuration: 250, }); grid.gridConfig = { columns, plugins: [responsivePlugin], }; grid.rows = sampleData; container.appendChild(grid); const status = document.createElement('div'); status.style.cssText = 'margin-top: 8px; font-size: 12px; color: var(--sbdocs-toc-link);'; container.appendChild(status); const updateStatus = () => { const bp = responsivePlugin.getActiveBreakpoint(); const isCard = responsivePlugin.isResponsive(); const width = responsivePlugin.getWidth(); if (!bp) { status.textContent = `📊 Full Table | Width: ${Math.round(width)}px`; } else if (isCard) { status.textContent = `📱 Card Layout | Width: ${Math.round(width)}px | Email shows value-only`; } else { const hidden = (bp.hiddenColumns ?? []).map((h) => (typeof h === 'string' ? h : h.field)).join(', '); status.textContent = `📊 Table | Width: ${Math.round(width)}px | Hidden: ${hidden}`; } }; grid.addEventListener('responsive-change', updateStatus); requestAnimationFrame(updateStatus); wrapper.appendChild(container); return wrapper; }, }",
          "description": "Combining multiple Phase 3 features: progressive degradation with enhanced hiddenColumns."
        }
      ],
      "exports": [
        {
          "kind": "js",
          "name": "default",
          "declaration": {
            "name": "meta",
            "module": "src/lib/plugins/responsive/responsive.stories.ts"
          }
        },
        {
          "kind": "js",
          "name": "Default",
          "declaration": {
            "name": "Default",
            "module": "src/lib/plugins/responsive/responsive.stories.ts"
          }
        },
        {
          "kind": "js",
          "name": "CardMode",
          "declaration": {
            "name": "CardMode",
            "module": "src/lib/plugins/responsive/responsive.stories.ts"
          }
        },
        {
          "kind": "js",
          "name": "HiddenColumns",
          "declaration": {
            "name": "HiddenColumns",
            "module": "src/lib/plugins/responsive/responsive.stories.ts"
          }
        },
        {
          "kind": "js",
          "name": "ManualControl",
          "declaration": {
            "name": "ManualControl",
            "module": "src/lib/plugins/responsive/responsive.stories.ts"
          }
        },
        {
          "kind": "js",
          "name": "CustomCardRenderer",
          "declaration": {
            "name": "CustomCardRenderer",
            "module": "src/lib/plugins/responsive/responsive.stories.ts"
          }
        },
        {
          "kind": "js",
          "name": "FixedCardHeight",
          "declaration": {
            "name": "FixedCardHeight",
            "module": "src/lib/plugins/responsive/responsive.stories.ts"
          }
        },
        {
          "kind": "js",
          "name": "ProgressiveDegradation",
          "declaration": {
            "name": "ProgressiveDegradation",
            "module": "src/lib/plugins/responsive/responsive.stories.ts"
          }
        },
        {
          "kind": "js",
          "name": "ValueOnlyColumns",
          "declaration": {
            "name": "ValueOnlyColumns",
            "module": "src/lib/plugins/responsive/responsive.stories.ts"
          }
        },
        {
          "kind": "js",
          "name": "AnimatedTransitions",
          "declaration": {
            "name": "AnimatedTransitions",
            "module": "src/lib/plugins/responsive/responsive.stories.ts"
          }
        },
        {
          "kind": "js",
          "name": "CombinedPhase3Features",
          "declaration": {
            "name": "CombinedPhase3Features",
            "module": "src/lib/plugins/responsive/responsive.stories.ts"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/responsive/ResponsivePlugin.ts",
      "declarations": [
        {
          "kind": "class",
          "description": "Responsive Plugin for tbw-grid\r\n\r\nAdds automatic card layout mode when the grid width falls below a configurable\r\nbreakpoint. Perfect for responsive designs, split-pane UIs, and mobile viewports.",
          "name": "ResponsivePlugin",
          "members": [
            {
              "kind": "field",
              "name": "name",
              "type": {
                "text": "string"
              },
              "readonly": true,
              "description": "Unique plugin identifier (derived from class name by default)",
              "default": "'responsive'",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "field",
              "name": "version",
              "type": {
                "text": "string"
              },
              "readonly": true,
              "description": "Plugin version - defaults to grid version for built-in plugins.\r\nThird-party plugins can override with their own semver.",
              "default": "'1.0.0'",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "field",
              "name": "styles",
              "type": {
                "text": "string | undefined"
              },
              "readonly": true,
              "description": "CSS styles to inject into the grid's shadow DOM",
              "default": "styles",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "field",
              "name": "manifest",
              "type": {
                "text": "PluginManifest<any> | undefined"
              },
              "static": true,
              "readonly": true,
              "description": "Plugin manifest declaring incompatibilities with other plugins.",
              "default": "{ incompatibleWith: [ { name: 'groupingRows', reason: 'Responsive card layout does not yet support row grouping. ' + 'The variable row heights (cards vs group headers) cause scroll calculation issues.', }, ], queries: [ { type: 'isCardMode', description: 'Returns whether the grid is currently in responsive card mode', }, ], }",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "field",
              "name": "#resizeObserver",
              "privacy": "private",
              "type": {
                "text": "ResizeObserver | undefined"
              }
            },
            {
              "kind": "field",
              "name": "#isResponsive",
              "privacy": "private",
              "type": {
                "text": "boolean"
              },
              "default": "false"
            },
            {
              "kind": "field",
              "name": "#debounceTimer",
              "privacy": "private",
              "type": {
                "text": "ReturnType<typeof setTimeout> | undefined"
              }
            },
            {
              "kind": "field",
              "name": "#warnedAboutMissingBreakpoint",
              "privacy": "private",
              "type": {
                "text": "boolean"
              },
              "default": "false"
            },
            {
              "kind": "field",
              "name": "#currentWidth",
              "privacy": "private",
              "type": {
                "text": "number"
              },
              "default": "0"
            },
            {
              "kind": "field",
              "name": "#hiddenColumnSet",
              "privacy": "private",
              "type": {
                "text": "Set<string>"
              },
              "default": "new Set()",
              "description": "Set of column fields to completely hide"
            },
            {
              "kind": "field",
              "name": "#valueOnlyColumnSet",
              "privacy": "private",
              "type": {
                "text": "Set<string>"
              },
              "default": "new Set()",
              "description": "Set of column fields to show value only (no header label)"
            },
            {
              "kind": "field",
              "name": "#activeBreakpoint",
              "privacy": "private",
              "type": {
                "text": "BreakpointConfig | null"
              },
              "default": "null",
              "description": "Currently active breakpoint, or null if none"
            },
            {
              "kind": "field",
              "name": "#sortedBreakpoints",
              "privacy": "private",
              "type": {
                "text": "BreakpointConfig[]"
              },
              "default": "[]",
              "description": "Sorted breakpoints from largest to smallest"
            },
            {
              "kind": "method",
              "name": "isResponsive",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "description": "Check if currently in responsive mode."
            },
            {
              "kind": "method",
              "name": "setResponsive",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "enabled",
                  "type": {
                    "text": "boolean"
                  },
                  "description": "Whether to enable responsive mode"
                }
              ],
              "description": "Force responsive mode regardless of width.\r\nUseful for testing or manual control."
            },
            {
              "kind": "method",
              "name": "setBreakpoint",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "width",
                  "type": {
                    "text": "number"
                  },
                  "description": "New breakpoint width in pixels"
                }
              ],
              "description": "Update breakpoint dynamically."
            },
            {
              "kind": "method",
              "name": "setCardRenderer",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "renderer",
                  "type": {
                    "text": "ResponsivePluginConfig<T>['cardRenderer']"
                  },
                  "description": "The card renderer function, or undefined to use default"
                }
              ],
              "description": "Set a custom card renderer.\r\nThis allows framework adapters to provide template-based renderers at runtime."
            },
            {
              "kind": "method",
              "name": "getWidth",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "description": "Get current grid width."
            },
            {
              "kind": "method",
              "name": "getActiveBreakpoint",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "description": "Get the currently active breakpoint config (multi-breakpoint mode only)."
            },
            {
              "kind": "method",
              "name": "attach",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "grid",
                  "type": {
                    "text": "GridElement"
                  }
                }
              ],
              "description": "Called when the plugin is attached to a grid.\r\nOverride to set up event listeners, initialize state, etc.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "#parseLightDomCard",
              "privacy": "private",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "description": "Parse `<tbw-grid-responsive-card>` elements from the grid's light DOM.\r\n\r\nAllows declarative configuration:\r\n```html\r\n<tbw-grid [rows]=\"data\">\r\n  <tbw-grid-responsive-card breakpoint=\"500\" card-row-height=\"80\">\r\n    <div class=\"custom-card\">\r\n      <strong>{{ row.name }}</strong>\r\n      <span>{{ row.email }}</span>\r\n    </div>\r\n  </tbw-grid-responsive-card>\r\n</tbw-grid>\r\n```\r\n\r\nAttributes:\r\n- `breakpoint`: number - Width threshold for responsive mode\r\n- `card-row-height`: number | 'auto' - Card height (default: 'auto')\r\n- `hidden-columns`: string - Comma-separated fields to hide\r\n- `hide-header`: 'true' | 'false' - Hide header row (default: 'true')\r\n- `debounce-ms`: number - Resize debounce delay (default: 100)"
            },
            {
              "kind": "method",
              "name": "#buildHiddenColumnSets",
              "privacy": "private",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "hiddenColumns",
                  "optional": true,
                  "type": {
                    "text": "HiddenColumnConfig[]"
                  }
                }
              ],
              "description": "Build the hidden and value-only column sets from config."
            },
            {
              "kind": "method",
              "name": "detach",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "description": "Called when the plugin is detached from a grid.\r\nOverride to clean up event listeners, timers, etc.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "afterRender",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "description": "Apply hidden and value-only columns.\r\nIn legacy mode (single breakpoint), only applies when in responsive mode.\r\nIn multi-breakpoint mode, applies whenever there's an active breakpoint.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "#checkBreakpoint",
              "privacy": "private",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "width",
                  "type": {
                    "text": "number"
                  }
                }
              ],
              "description": "Check if width has crossed any breakpoint threshold.\r\nHandles both single breakpoint (legacy) and multi-breakpoint modes."
            },
            {
              "kind": "method",
              "name": "#checkMultiBreakpoint",
              "privacy": "private",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "width",
                  "type": {
                    "text": "number"
                  }
                }
              ],
              "description": "Check breakpoints in multi-breakpoint mode.\r\nEvaluates breakpoints from largest to smallest, applying the first match."
            },
            {
              "kind": "field",
              "name": "#originalRowHeight",
              "privacy": "private",
              "type": {
                "text": "number | undefined"
              },
              "description": "Original row height before entering responsive mode, for restoration on exit"
            },
            {
              "kind": "method",
              "name": "#applyResponsiveState",
              "privacy": "private",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "description": "Apply the responsive state to the grid element.\r\nHandles scroll reset when entering responsive mode and row height restoration on exit."
            },
            {
              "kind": "method",
              "name": "renderRow",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "row",
                  "type": {
                    "text": "unknown"
                  },
                  "description": "The row data object"
                },
                {
                  "name": "rowEl",
                  "type": {
                    "text": "HTMLElement"
                  },
                  "description": "The row DOM element to render into"
                },
                {
                  "name": "rowIndex",
                  "type": {
                    "text": "number"
                  },
                  "description": "The index of the row in the data array"
                }
              ],
              "description": "Custom row rendering when cardRenderer is provided and in responsive mode.\r\n\r\nWhen a cardRenderer is configured, this hook takes over row rendering to display\r\nthe custom card layout instead of the default cell structure.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "onKeyDown",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "e",
                  "type": {
                    "text": "KeyboardEvent"
                  }
                }
              ],
              "description": "Handle keyboard navigation in responsive mode.\r\n\r\nIn responsive mode, the visual layout is inverted:\r\n- Cells are stacked vertically within each \"card\" (row)\r\n- DOWN/UP visually moves within the card (between fields)\r\n- Page Down/Page Up or Ctrl+Down/Up moves between cards\r\n\r\nFor custom cardRenderers, keyboard navigation is disabled entirely\r\nsince the implementor controls the card content and should handle\r\nnavigation via their own event handlers.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "field",
              "name": "#measuredCardHeight",
              "privacy": "private",
              "type": {
                "text": "number | undefined"
              },
              "description": "Measured card height from DOM for virtualization calculations"
            },
            {
              "kind": "field",
              "name": "#measuredGroupRowHeight",
              "privacy": "private",
              "type": {
                "text": "number | undefined"
              },
              "description": "Measured group row height from DOM for virtualization calculations"
            },
            {
              "kind": "field",
              "name": "#lastCardRowCount",
              "privacy": "private",
              "type": {
                "text": "number | undefined"
              },
              "description": "Last known card row count for detecting changes (e.g., group expand/collapse)"
            },
            {
              "kind": "method",
              "name": "#getCardHeight",
              "privacy": "private",
              "return": {
                "type": {
                  "text": "number"
                }
              },
              "description": "Get the effective card height for virtualization calculations.\r\nPrioritizes DOM-measured height (actual rendered size) over config,\r\nsince content can overflow the configured height."
            },
            {
              "kind": "method",
              "name": "#getGroupRowHeight",
              "privacy": "private",
              "return": {
                "type": {
                  "text": "number"
                }
              },
              "description": "Get the effective group row height for virtualization calculations.\r\nUses DOM-measured height, falling back to original row height."
            },
            {
              "kind": "method",
              "name": "#hasGroupRows",
              "privacy": "private",
              "return": {
                "type": {
                  "text": "boolean"
                }
              },
              "description": "Check if there are any group rows in the current dataset.\r\nUsed to determine if we have mixed row heights."
            },
            {
              "kind": "method",
              "name": "#countRowTypes",
              "privacy": "private",
              "return": {
                "type": {
                  "text": "{ groupCount: number; cardCount: number }"
                }
              },
              "description": "Count group rows and card rows in the current dataset."
            },
            {
              "kind": "method",
              "name": "getExtraHeight",
              "return": {
                "type": {
                  "text": "number"
                }
              },
              "description": "Return total extra height contributed by mixed row heights.\r\nThis is called by the grid's virtualization system to adjust scrollbar height.\r\n\r\nThe grid calculates: totalRows * baseRowHeight + pluginExtraHeight\r\n\r\nFor mixed layouts (groups + cards), we need to report the difference between\r\nactual heights and what the base calculation assumes:\r\n- Extra for groups: groupCount * (groupHeight - baseHeight)\r\n- Extra for cards: cardCount * (cardHeight - baseHeight)",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "getExtraHeightBefore",
              "return": {
                "type": {
                  "text": "number"
                }
              },
              "parameters": [
                {
                  "name": "beforeRowIndex",
                  "type": {
                    "text": "number"
                  }
                }
              ],
              "description": "Return extra height that appears before a given row index.\r\nUsed by virtualization to correctly calculate scroll positions.\r\n\r\nLike getExtraHeight, this accounts for both group and card row heights.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "#countCardRows",
              "privacy": "private",
              "return": {
                "type": {
                  "text": "number"
                }
              },
              "description": "Count the number of card rows (non-group rows) in the current dataset."
            },
            {
              "kind": "field",
              "name": "#pendingRefresh",
              "privacy": "private",
              "type": {
                "text": "boolean"
              },
              "default": "false",
              "description": "Pending refresh scheduled via microtask"
            },
            {
              "kind": "method",
              "name": "#measureCardHeightFromDOM",
              "privacy": "private",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "description": "Measure card height from DOM after render and detect row count changes.\r\nCalled in afterRender to ensure scroll calculations are accurate.\r\n\r\nThis handles two scenarios:\r\n1. Card height changes (content overflow, dynamic sizing)\r\n2. Card row count changes (group expand/collapse)\r\n3. Group row height changes\r\n\r\nFor uniform card layouts (no groups), we update the virtualization row height\r\ndirectly to the card height. For mixed layouts (groups + cards), we use the\r\ngetExtraHeight mechanism to report height differences.\r\n\r\nThe refresh is deferred via microtask to avoid nested render cycles."
            },
            {
              "kind": "field",
              "name": "dependencies",
              "type": {
                "text": "PluginDependency[] | undefined"
              },
              "static": true,
              "readonly": true,
              "description": "Plugin dependencies - declare other plugins this one requires.\r\n\r\nDependencies are validated when the plugin is attached.\r\nRequired dependencies throw an error if missing.\r\nOptional dependencies log an info message if missing.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "field",
              "name": "cellRenderers",
              "type": {
                "text": "Record<string, CellRenderer> | undefined"
              },
              "readonly": true,
              "description": "Custom cell renderers keyed by type name",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "field",
              "name": "headerRenderers",
              "type": {
                "text": "Record<string, HeaderRenderer> | undefined"
              },
              "readonly": true,
              "description": "Custom header renderers keyed by type name",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "field",
              "name": "cellEditors",
              "type": {
                "text": "Record<string, CellEditor> | undefined"
              },
              "readonly": true,
              "description": "Custom cell editors keyed by type name",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "field",
              "name": "grid",
              "type": {
                "text": "GridElement"
              },
              "privacy": "protected",
              "description": "The grid instance this plugin is attached to",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "field",
              "name": "config",
              "type": {
                "text": "TConfig"
              },
              "privacy": "protected",
              "description": "Plugin configuration - merged with defaults in attach()",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "field",
              "name": "userConfig",
              "type": {
                "text": "Partial<TConfig>"
              },
              "privacy": "protected",
              "readonly": true,
              "description": "User-provided configuration from constructor",
              "default": "config",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "field",
              "name": "#abortController",
              "privacy": "private",
              "type": {
                "text": "AbortController | undefined"
              },
              "description": "Plugin-level AbortController for event listener cleanup.\r\nCreated fresh in attach(), aborted in detach().\r\nThis ensures event listeners are properly cleaned up when plugins are re-attached.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "field",
              "name": "defaultConfig",
              "type": {
                "text": "Partial<TConfig>"
              },
              "privacy": "protected",
              "description": "Default configuration - subclasses should override this getter.\r\nNote: This must be a getter (not property initializer) for proper inheritance\r\nsince property initializers run after parent constructor.",
              "readonly": true,
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "onPluginAttached",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "name",
                  "type": {
                    "text": "string"
                  },
                  "description": "The name of the plugin that was attached"
                },
                {
                  "name": "plugin",
                  "type": {
                    "text": "BaseGridPlugin"
                  },
                  "description": "The plugin instance (for direct access if needed)"
                }
              ],
              "description": "Called when another plugin is attached to the same grid.\r\nUse for inter-plugin coordination, e.g., to integrate with new plugins.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "onPluginDetached",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "name",
                  "type": {
                    "text": "string"
                  },
                  "description": "The name of the plugin that was detached"
                }
              ],
              "description": "Called when another plugin is detached from the same grid.\r\nUse to clean up inter-plugin references.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "getPlugin",
              "privacy": "protected",
              "return": {
                "type": {
                  "text": "T | undefined"
                }
              },
              "parameters": [
                {
                  "name": "PluginClass",
                  "type": {
                    "text": "new (...args: any[]) => T"
                  }
                }
              ],
              "description": "Get another plugin instance from the same grid.\r\nUse for inter-plugin communication.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "emit",
              "privacy": "protected",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "eventName",
                  "type": {
                    "text": "string"
                  }
                },
                {
                  "name": "detail",
                  "type": {
                    "text": "T"
                  }
                }
              ],
              "description": "Emit a custom event from the grid.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "emitCancelable",
              "privacy": "protected",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "eventName",
                  "type": {
                    "text": "string"
                  }
                },
                {
                  "name": "detail",
                  "type": {
                    "text": "T"
                  }
                }
              ],
              "description": "Emit a cancelable custom event from the grid.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "on",
              "privacy": "protected",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "eventType",
                  "type": {
                    "text": "string"
                  },
                  "description": "The event type to listen for (e.g., 'filter-change')"
                },
                {
                  "name": "callback",
                  "type": {
                    "text": "(detail: T) => void"
                  },
                  "description": "The callback to invoke when the event is emitted"
                }
              ],
              "description": "Subscribe to an event from another plugin.\r\nThe subscription is automatically cleaned up when this plugin is detached.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "off",
              "privacy": "protected",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "eventType",
                  "type": {
                    "text": "string"
                  },
                  "description": "The event type to stop listening for"
                }
              ],
              "description": "Unsubscribe from a plugin event.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "emitPluginEvent",
              "privacy": "protected",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "eventType",
                  "type": {
                    "text": "string"
                  },
                  "description": "The event type to emit (should be declared in manifest.events)"
                },
                {
                  "name": "detail",
                  "type": {
                    "text": "T"
                  },
                  "description": "The event payload"
                }
              ],
              "description": "Emit an event to other plugins via the Event Bus.\r\nThis is for inter-plugin communication only; it does NOT dispatch DOM events.\r\nUse `emit()` to dispatch DOM events that external consumers can listen to.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "requestRender",
              "privacy": "protected",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "description": "Request a re-render of the grid.\r\nUses ROWS phase - does NOT trigger processColumns hooks.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "requestColumnsRender",
              "privacy": "protected",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "description": "Request a columns re-render of the grid.\r\nUses COLUMNS phase - triggers processColumns hooks.\r\nUse this when your plugin needs to reprocess column configuration.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "requestRenderWithFocus",
              "privacy": "protected",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "description": "Request a re-render and restore focus styling afterward.\r\nUse this when a plugin action (like expand/collapse) triggers a render\r\nbut needs to maintain keyboard navigation focus.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "requestAfterRender",
              "privacy": "protected",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "description": "Request a lightweight style update without rebuilding DOM.\r\nUse this instead of requestRender() when only CSS classes need updating.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "field",
              "name": "rows",
              "type": {
                "text": "any[]"
              },
              "privacy": "protected",
              "description": "Get the current rows from the grid.",
              "readonly": true,
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "field",
              "name": "sourceRows",
              "type": {
                "text": "any[]"
              },
              "privacy": "protected",
              "description": "Get the original unfiltered/unprocessed rows from the grid.\r\nUse this when you need all source data regardless of active filters.",
              "readonly": true,
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "field",
              "name": "columns",
              "type": {
                "text": "ColumnConfig[]"
              },
              "privacy": "protected",
              "description": "Get the current columns from the grid.",
              "readonly": true,
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "field",
              "name": "visibleColumns",
              "type": {
                "text": "ColumnConfig[]"
              },
              "privacy": "protected",
              "description": "Get only visible columns from the grid (excludes hidden).\r\nUse this for rendering that needs to match the grid template.",
              "readonly": true,
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "field",
              "name": "gridElement",
              "type": {
                "text": "HTMLElement"
              },
              "privacy": "protected",
              "description": "Get the grid as an HTMLElement for direct DOM operations.\r\nUse sparingly - prefer the typed GridElementRef API when possible.",
              "readonly": true,
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "field",
              "name": "disconnectSignal",
              "type": {
                "text": "AbortSignal"
              },
              "privacy": "protected",
              "description": "Get the disconnect signal for event listener cleanup.\r\nThis signal is aborted when the grid disconnects from the DOM.\r\nUse this when adding event listeners that should be cleaned up automatically.\r\n\r\nBest for:\r\n- Document/window-level listeners added in attach()\r\n- Listeners on the grid element itself\r\n- Any listener that should persist across renders\r\n\r\nNot needed for:\r\n- Listeners on elements created in afterRender() (removed with element)",
              "readonly": true,
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "field",
              "name": "gridIcons",
              "type": {
                "text": "typeof DEFAULT_GRID_ICONS"
              },
              "privacy": "protected",
              "description": "Get the grid-level icons configuration.\r\nReturns merged icons (user config + defaults).",
              "readonly": true,
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "field",
              "name": "isAnimationEnabled",
              "type": {
                "text": "boolean"
              },
              "privacy": "protected",
              "description": "Check if animations are enabled at the grid level.\r\nRespects gridConfig.animation.mode and the CSS variable set by the grid.\r\n\r\nPlugins should use this to skip animations when:\r\n- Animation mode is 'off' or `false`\r\n- User prefers reduced motion and mode is 'reduced-motion' (default)",
              "readonly": true,
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "field",
              "name": "animationDuration",
              "type": {
                "text": "number"
              },
              "privacy": "protected",
              "description": "Get the animation duration in milliseconds from CSS variable.\r\nFalls back to 200ms if not set.\r\n\r\nPlugins can use this for their animation timing to stay consistent\r\nwith the grid-level animation.duration setting.",
              "readonly": true,
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "resolveIcon",
              "privacy": "protected",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "iconKey",
                  "type": {
                    "text": "keyof typeof DEFAULT_GRID_ICONS"
                  },
                  "description": "The icon key in GridIcons (e.g., 'expand', 'collapse')"
                },
                {
                  "name": "pluginOverride",
                  "optional": true,
                  "type": {
                    "text": "IconValue"
                  },
                  "description": "Optional plugin-level override"
                }
              ],
              "description": "Resolve an icon value to string or HTMLElement.\r\nChecks plugin config first, then grid-level icons, then defaults.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "setIcon",
              "privacy": "protected",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "element",
                  "type": {
                    "text": "HTMLElement"
                  },
                  "description": "The element to set the icon on"
                },
                {
                  "name": "icon",
                  "type": {
                    "text": "IconValue"
                  },
                  "description": "The icon value (string or HTMLElement)"
                }
              ],
              "description": "Set an icon value on an element.\r\nHandles both string (text/HTML) and HTMLElement values.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "warn",
              "privacy": "protected",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "message",
                  "type": {
                    "text": "string"
                  }
                }
              ],
              "description": "Log a warning message.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "processRows",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "rows",
                  "type": {
                    "text": "readonly any[]"
                  },
                  "description": "The current rows array (readonly to encourage returning a new array)"
                }
              ],
              "description": "Transform rows before rendering.\r\nCalled during each render cycle before rows are rendered to the DOM.\r\nUse this to filter, sort, or add computed properties to rows.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "processColumns",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "columns",
                  "type": {
                    "text": "readonly ColumnConfig[]"
                  },
                  "description": "The current columns array (readonly to encourage returning a new array)"
                }
              ],
              "description": "Transform columns before rendering.\r\nCalled during each render cycle before column headers and cells are rendered.\r\nUse this to add, remove, or modify column definitions.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "beforeRender",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "description": "Called before each render cycle begins.\r\nUse this to prepare state or cache values needed during rendering.\r\n\r\n**Note:** This hook is currently a placeholder for future implementation.\r\nIt is defined in the interface but not yet invoked by the grid's render pipeline.\r\nIf you need this functionality, please open an issue or contribute an implementation.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "afterCellRender",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "context",
                  "type": {
                    "text": "AfterCellRenderContext"
                  },
                  "description": "The cell render context with row, column, value, and elements"
                }
              ],
              "description": "Called after each cell is rendered.\r\nThis hook is more efficient than `afterRender()` for cell-level modifications\r\nbecause you receive the cell context directly - no DOM queries needed.\r\n\r\nUse cases:\r\n- Adding selection/highlight classes to specific cells\r\n- Injecting badges or decorations\r\n- Applying conditional styling based on cell value\r\n\r\nPerformance note: Called for every visible cell during render. Keep implementation fast.\r\nThis hook is also called during scroll when cells are recycled.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "afterRowRender",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "context",
                  "type": {
                    "text": "AfterRowRenderContext"
                  },
                  "description": "The row render context with row data and element"
                }
              ],
              "description": "Called after a row is fully rendered (all cells complete).\r\nUse this for row-level decorations, styling, or ARIA attributes.\r\n\r\nCommon use cases:\r\n- Adding selection classes to entire rows (row-focus, selected)\r\n- Setting row-level ARIA attributes\r\n- Applying row validation highlighting\r\n- Tree indentation styling\r\n\r\nPerformance note: Called for every visible row during render. Keep implementation fast.\r\nThis hook is also called during scroll when rows are recycled.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "onScrollRender",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "description": "Called after scroll-triggered row rendering completes.\r\nThis is a lightweight hook for applying visual state to recycled DOM elements.\r\nUse this instead of afterRender when you need to reapply styling during scroll.\r\n\r\nPerformance note: This is called frequently during scroll. Keep implementation fast.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "adjustVirtualStart",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "start",
                  "type": {
                    "text": "number"
                  },
                  "description": "The calculated start row index"
                },
                {
                  "name": "scrollTop",
                  "type": {
                    "text": "number"
                  },
                  "description": "The current scroll position"
                },
                {
                  "name": "rowHeight",
                  "type": {
                    "text": "number"
                  },
                  "description": "The height of a single row"
                }
              ],
              "description": "Adjust the virtualization start index to render additional rows before the visible range.\r\nUse this when expanded content (like detail rows) needs its parent row to remain rendered\r\neven when the parent row itself has scrolled above the viewport.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "onPluginQuery",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "query",
                  "type": {
                    "text": "PluginQuery"
                  },
                  "description": "The query object with type and context"
                }
              ],
              "description": "Handle queries from other plugins.\r\nThis is the generic mechanism for inter-plugin communication.\r\nPlugins can respond to well-known query types or define their own.\r\n\r\n**Prefer `handleQuery` for new plugins** - it has the same signature but\r\na clearer name. `onPluginQuery` is kept for backwards compatibility.",
              "deprecated": "Use `handleQuery` instead for new plugins.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "handleQuery",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "query",
                  "type": {
                    "text": "PluginQuery"
                  },
                  "description": "The query object with type and context"
                }
              ],
              "description": "Handle queries from other plugins or the grid.\r\n\r\nQueries are declared in `manifest.queries` and dispatched via `grid.query()`.\r\nThis enables type-safe, discoverable inter-plugin communication.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "onCellClick",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "event",
                  "type": {
                    "text": "CellClickEvent"
                  },
                  "description": "Cell click event with row/column context"
                }
              ],
              "description": "Handle cell click events.\r\nCalled when a data cell is clicked (not headers).",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "onRowClick",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "event",
                  "type": {
                    "text": "RowClickEvent"
                  },
                  "description": "Row click event with row context"
                }
              ],
              "description": "Handle row click events.\r\nCalled when any part of a data row is clicked.\r\nNote: This is called in addition to onCellClick, not instead of.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "onHeaderClick",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "event",
                  "type": {
                    "text": "HeaderClickEvent"
                  },
                  "description": "Header click event with column context"
                }
              ],
              "description": "Handle header click events.\r\nCalled when a column header is clicked. Commonly used for sorting.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "onScroll",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "event",
                  "type": {
                    "text": "ScrollEvent"
                  },
                  "description": "Scroll event with scroll position and viewport dimensions"
                }
              ],
              "description": "Handle scroll events on the grid viewport.\r\nCalled during scrolling. Note: This may be called frequently; debounce if needed.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "onCellMouseDown",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "event",
                  "type": {
                    "text": "CellMouseEvent"
                  },
                  "description": "Mouse event with cell context"
                }
              ],
              "description": "Handle cell mousedown events.\r\nUsed for initiating drag operations like range selection or column resize.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "onCellMouseMove",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "event",
                  "type": {
                    "text": "CellMouseEvent"
                  },
                  "description": "Mouse event with current cell context"
                }
              ],
              "description": "Handle cell mousemove events during drag operations.\r\nOnly called when a drag is in progress (after mousedown returned true).",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "onCellMouseUp",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "event",
                  "type": {
                    "text": "CellMouseEvent"
                  },
                  "description": "Mouse event with final cell context"
                }
              ],
              "description": "Handle cell mouseup events to end drag operations.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "getColumnState",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "field",
                  "type": {
                    "text": "string"
                  },
                  "description": "The field name of the column"
                }
              ],
              "description": "Contribute plugin-specific state for a column.\r\nCalled by the grid when collecting column state for serialization.\r\nPlugins can add their own properties to the column state.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "applyColumnState",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "field",
                  "type": {
                    "text": "string"
                  },
                  "description": "The field name of the column"
                },
                {
                  "name": "state",
                  "type": {
                    "text": "ColumnState"
                  },
                  "description": "The column state to apply (may contain plugin-specific properties)"
                }
              ],
              "description": "Apply plugin-specific state to a column.\r\nCalled by the grid when restoring column state from serialized data.\r\nPlugins should restore their internal state based on the provided state.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "getHorizontalScrollOffsets",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "rowEl",
                  "optional": true,
                  "type": {
                    "text": "HTMLElement"
                  },
                  "description": "The row element (optional, for calculating widths from rendered cells)"
                },
                {
                  "name": "focusedCell",
                  "optional": true,
                  "type": {
                    "text": "HTMLElement"
                  },
                  "description": "The currently focused cell element (optional, to determine if scrolling should be skipped)"
                }
              ],
              "description": "Report horizontal scroll boundary offsets for this plugin.\r\nPlugins that obscure part of the scroll area (e.g., pinned/sticky columns)\r\nshould return how much space they occupy on each side.\r\nThe keyboard navigation uses this to ensure focused cells are fully visible.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "getToolPanel",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "description": "Register a tool panel for this plugin.\r\nReturn undefined if plugin has no tool panel.\r\nThe shell will create a toolbar toggle button and render the panel content\r\nwhen the user opens the panel.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "getHeaderContent",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "description": "Register content for the shell header center section.\r\nReturn undefined if plugin has no header content.\r\nExamples: search input, selection summary, status indicators.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            }
          ],
          "superclass": {
            "name": "BaseGridPlugin",
            "module": "/src/lib/core/plugin/base-plugin"
          }
        }
      ],
      "exports": [
        {
          "kind": "js",
          "name": "ResponsivePlugin",
          "declaration": {
            "name": "ResponsivePlugin",
            "module": "src/lib/plugins/responsive/ResponsivePlugin.ts"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/responsive/types.ts",
      "declarations": [],
      "exports": []
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/reorder/column-drag.ts",
      "declarations": [
        {
          "kind": "function",
          "name": "canMoveColumn",
          "return": {
            "type": {
              "text": ""
            }
          },
          "parameters": [
            {
              "name": "column",
              "type": {
                "text": "ColumnConfig<TRow>"
              },
              "description": "The column configuration to check"
            }
          ],
          "description": "Check if a column can be moved based on its own metadata.\r\nThis checks column-level properties like lockPosition and suppressMovable.\r\n\r\nNote: For full movability checks including plugin constraints (e.g., pinned columns),\r\nuse `grid.query<boolean>('canMoveColumn', column)` which queries all plugins that\r\ndeclare the 'canMoveColumn' query in their manifest."
        },
        {
          "kind": "function",
          "name": "moveColumn",
          "return": {
            "type": {
              "text": ""
            }
          },
          "parameters": [
            {
              "name": "columns",
              "type": {
                "text": "string[]"
              },
              "description": "Array of field names in current order"
            },
            {
              "name": "fromIndex",
              "type": {
                "text": "number"
              },
              "description": "The current index of the column to move"
            },
            {
              "name": "toIndex",
              "type": {
                "text": "number"
              },
              "description": "The target index to move the column to"
            }
          ],
          "description": "Move a column from one position to another in the order array."
        },
        {
          "kind": "function",
          "name": "getDropIndex",
          "return": {
            "type": {
              "text": ""
            }
          },
          "parameters": [
            {
              "name": "dragX",
              "type": {
                "text": "number"
              },
              "description": "The current X position of the drag"
            },
            {
              "name": "headerRect",
              "type": {
                "text": "DOMRect"
              },
              "description": "The bounding rect of the header container"
            },
            {
              "name": "columnWidths",
              "type": {
                "text": "number[]"
              },
              "description": "Array of column widths in order"
            }
          ],
          "description": "Calculate the drop index based on the current drag position."
        },
        {
          "kind": "function",
          "name": "reorderColumns",
          "return": {
            "type": {
              "text": ""
            }
          },
          "parameters": [
            {
              "name": "columns",
              "type": {
                "text": "ColumnConfig<TRow>[]"
              },
              "description": "Array of column configurations"
            },
            {
              "name": "order",
              "type": {
                "text": "string[]"
              },
              "description": "Array of field names specifying the desired order"
            }
          ],
          "description": "Reorder columns according to a specified order.\r\nColumns not in the order array are appended at the end."
        }
      ],
      "exports": [
        {
          "kind": "js",
          "name": "canMoveColumn",
          "declaration": {
            "name": "canMoveColumn",
            "module": "src/lib/plugins/reorder/column-drag.ts"
          }
        },
        {
          "kind": "js",
          "name": "moveColumn",
          "declaration": {
            "name": "moveColumn",
            "module": "src/lib/plugins/reorder/column-drag.ts"
          }
        },
        {
          "kind": "js",
          "name": "getDropIndex",
          "declaration": {
            "name": "getDropIndex",
            "module": "src/lib/plugins/reorder/column-drag.ts"
          }
        },
        {
          "kind": "js",
          "name": "reorderColumns",
          "declaration": {
            "name": "reorderColumns",
            "module": "src/lib/plugins/reorder/column-drag.ts"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/reorder/index.ts",
      "declarations": [],
      "exports": [
        {
          "kind": "js",
          "name": "ReorderPlugin",
          "declaration": {
            "name": "ReorderPlugin",
            "module": "./ReorderPlugin"
          }
        },
        {
          "kind": "js",
          "name": "ColumnMoveDetail",
          "declaration": {
            "name": "ColumnMoveDetail",
            "module": "./types"
          }
        },
        {
          "kind": "js",
          "name": "ReorderAnimation",
          "declaration": {
            "name": "ReorderAnimation",
            "module": "./types"
          }
        },
        {
          "kind": "js",
          "name": "ReorderConfig",
          "declaration": {
            "name": "ReorderConfig",
            "module": "./types"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/reorder/reorder.spec.ts",
      "declarations": [],
      "exports": []
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/reorder/reorder.stories.ts",
      "declarations": [
        {
          "kind": "variable",
          "name": "meta",
          "type": {
            "text": "Meta<ReorderArgs>"
          },
          "default": "{ title: 'Grid/Plugins/Column Reorder', tags: ['!dev'], parameters: { layout: 'fullscreen' }, argTypes: { animation: { control: 'select', options: [false, 'flip', 'fade'], description: 'Animation type for column reordering', table: { defaultValue: { summary: \"'flip'\" } }, }, animationDuration: { control: { type: 'range', min: 0, max: 1000, step: 50 }, description: 'Animation duration in milliseconds (FLIP only)', table: { defaultValue: { summary: '200' } }, }, }, args: { animation: 'flip', animationDuration: 200, }, }"
        },
        {
          "kind": "variable",
          "name": "Default",
          "type": {
            "text": "Story"
          },
          "default": "{ parameters: { docs: { source: { transform: (_code: string, ctx: { args: ReorderArgs }) => generateReorderCode(ctx.args), language: 'html', }, }, }, render: (args) => { const grid = document.createElement('tbw-grid') as GridElement; grid.style.height = '350px'; grid.gridConfig = { columns, plugins: [new ReorderPlugin({ animation: args.animation, animationDuration: args.animationDuration })], }; grid.rows = sampleData; return grid; }, }",
          "description": "Drag column headers to reorder columns. A visual indicator shows where\r\nthe column will be placed."
        }
      ],
      "exports": [
        {
          "kind": "js",
          "name": "default",
          "declaration": {
            "name": "meta",
            "module": "src/lib/plugins/reorder/reorder.stories.ts"
          }
        },
        {
          "kind": "js",
          "name": "Default",
          "declaration": {
            "name": "Default",
            "module": "src/lib/plugins/reorder/reorder.stories.ts"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/reorder/ReorderPlugin.ts",
      "declarations": [],
      "exports": []
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/reorder/types.ts",
      "declarations": [],
      "exports": []
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/print/index.ts",
      "declarations": [],
      "exports": [
        {
          "kind": "js",
          "name": "printGridIsolated",
          "declaration": {
            "name": "printGridIsolated",
            "module": "./print-isolated"
          }
        },
        {
          "kind": "js",
          "name": "PrintIsolatedOptions",
          "declaration": {
            "name": "PrintIsolatedOptions",
            "module": "./print-isolated"
          }
        },
        {
          "kind": "js",
          "name": "PrintPlugin",
          "declaration": {
            "name": "PrintPlugin",
            "module": "./PrintPlugin"
          }
        },
        {
          "kind": "js",
          "name": "PrintCompleteDetail",
          "declaration": {
            "name": "PrintCompleteDetail",
            "module": "./types"
          }
        },
        {
          "kind": "js",
          "name": "PrintConfig",
          "declaration": {
            "name": "PrintConfig",
            "module": "./types"
          }
        },
        {
          "kind": "js",
          "name": "PrintOrientation",
          "declaration": {
            "name": "PrintOrientation",
            "module": "./types"
          }
        },
        {
          "kind": "js",
          "name": "PrintParams",
          "declaration": {
            "name": "PrintParams",
            "module": "./types"
          }
        },
        {
          "kind": "js",
          "name": "PrintStartDetail",
          "declaration": {
            "name": "PrintStartDetail",
            "module": "./types"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/print/print-isolated.ts",
      "declarations": [
        {
          "kind": "function",
          "name": "printGridIsolated",
          "return": {
            "type": {
              "text": ""
            }
          },
          "parameters": [
            {
              "name": "gridElement",
              "type": {
                "text": "HTMLElement"
              },
              "description": "The tbw-grid element to print (must have an ID)"
            },
            {
              "name": "options",
              "default": "{}",
              "type": {
                "text": "PrintIsolatedOptions"
              },
              "description": "Optional configuration"
            }
          ],
          "description": "Print a grid in isolation by hiding all other page content.\r\n\r\nThis function adds a temporary stylesheet that uses CSS to hide everything\r\non the page except the target grid during printing. The grid stays in place\r\nwith all its data (virtualization should be disabled separately)."
        }
      ],
      "exports": [
        {
          "kind": "js",
          "name": "printGridIsolated",
          "declaration": {
            "name": "printGridIsolated",
            "module": "src/lib/plugins/print/print-isolated.ts"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/print/print.spec.ts",
      "declarations": [],
      "exports": []
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/print/print.stories.ts",
      "declarations": [
        {
          "kind": "variable",
          "name": "meta",
          "type": {
            "text": "Meta"
          },
          "default": "{ title: 'Grid/Plugins/Print', tags: ['!dev'], parameters: { layout: 'fullscreen', docs: { description: { component: ` The **Print Plugin** enables printing the full grid content by temporarily disabling virtualization and applying print-optimized styles. It handles large datasets gracefully with configurable row limits. ## Features - 🖨️ **Print Layout Mode** - Optimized styles for printing - 📄 **Page Orientation** - Portrait or landscape - 🔄 **Header Repeat** - Repeats column headers on each page - 📊 **Row Limits** - Configurable maximum rows with confirmation dialog - 🔘 **Toolbar Button** - Optional print button in grid header - 📝 **Title & Timestamp** - Optional print header with title and timestamp ## Installation \\`\\`\\`typescript import { PrintPlugin } from '@toolbox-web/grid/plugins/print'; // Or from all-in-one bundle import { PrintPlugin } from '@toolbox-web/grid/all'; \\`\\`\\` `, }, }, }, }"
        },
        {
          "kind": "variable",
          "name": "Basic",
          "type": {
            "text": "Story"
          },
          "default": "{ render: () => { const printPlugin = new PrintPlugin({ title: 'Employee Report', includeTitle: true, includeTimestamp: true, }); const handlePrint = () => { const grid = document.querySelector('#print-basic-grid') as any; const plugin = grid?.getPlugin(PrintPlugin); plugin?.print({ isolate: true }); }; return html` <div style=\"display: flex; flex-direction: column; gap: 16px;\"> <div> <button @click=${handlePrint} style=\"padding: 8px 16px; cursor: pointer;\">🖨️ Print Grid</button> </div> <tbw-grid id=\"print-basic-grid\" style=\"height: 400px;\" .rows=${employeeData} .gridConfig=${{ fitMode: 'stretch', columns: [ { field: 'id', header: 'ID', width: 60 }, { field: 'name', header: 'Name', minWidth: 150 }, { field: 'department', header: 'Department', width: 120 }, { field: 'email', header: 'Email', minWidth: 200 }, { field: 'salary', header: 'Salary', width: 100, align: 'right' }, { field: 'status', header: 'Status', width: 100 }, ], plugins: [printPlugin], }} ></tbw-grid> </div> `; }, }",
          "description": "Basic print functionality. Click the \"Print Grid\" button to test the print dialog.\r\nUses `isolate: true` to print in a clean window without Storybook chrome."
        },
        {
          "kind": "variable",
          "name": "ToolbarButton",
          "type": {
            "text": "Story"
          },
          "default": "{ render: () => { return html` <tbw-grid style=\"height: 400px;\" .rows=${employeeData} .gridConfig=${{ shell: { header: { title: 'Employee Directory', }, }, columns: [ { field: 'id', header: 'ID', width: 60 }, { field: 'name', header: 'Name', width: 180 }, { field: 'department', header: 'Department', width: 120 }, { field: 'salary', header: 'Salary', width: 100 }, ], plugins: [ new PrintPlugin({ button: true, title: 'Employee Directory', isolate: true, }), ], }} ></tbw-grid> `; }, parameters: { docs: { description: { story: 'When `button: true` is set, a print button appears in the grid toolbar. Use `isolate: true` to ensure only the grid prints.', }, }, }, }",
          "description": "Print with a toolbar button integrated into the grid shell.\r\nThe toolbar button uses isolate mode by default."
        },
        {
          "kind": "variable",
          "name": "PortraitOrientation",
          "type": {
            "text": "Story"
          },
          "default": "{ render: () => { const printPlugin = new PrintPlugin({ orientation: 'portrait', title: 'Department Report', }); const handlePrint = () => { const grid = document.querySelector('#print-portrait-grid') as any; const plugin = grid?.getPlugin(PrintPlugin); plugin?.print({ isolate: true }); }; return html` <div style=\"display: flex; flex-direction: column; gap: 16px;\"> <div> <button @click=${handlePrint} style=\"padding: 8px 16px; cursor: pointer;\">🖨️ Print (Portrait)</button> </div> <tbw-grid id=\"print-portrait-grid\" style=\"height: 400px;\" .rows=${employeeData} .gridConfig=${{ columns: [ { field: 'name', header: 'Name', width: 200 }, { field: 'department', header: 'Department', width: 150 }, ], plugins: [printPlugin], }} ></tbw-grid> </div> `; }, }",
          "description": "Portrait orientation for narrow content that fits better vertically."
        },
        {
          "kind": "variable",
          "name": "RowLimit",
          "type": {
            "text": "Story"
          },
          "default": "{ render: () => { // Generate 1000 sample rows const largeDataset = Array.from({ length: 1000 }, (_, i) => ({ id: i + 1, name: `Employee ${i + 1}`, department: ['Engineering', 'Marketing', 'Sales', 'HR', 'Finance'][i % 5], salary: 50000 + Math.floor(Math.random() * 50000), })); const printPlugin = new PrintPlugin({ warnThreshold: 500, // Show confirmation dialog at 500+ rows maxRows: 100, // Hard limit: only print first 100 rows title: 'Large Dataset Print Test', }); const handlePrint = () => { const grid = document.querySelector('#print-limit-grid') as any; const plugin = grid?.getPlugin(PrintPlugin); plugin?.print({ isolate: true }); }; return html` <div style=\"display: flex; flex-direction: column; gap: 16px;\"> <div style=\"padding: 12px; background: var(--demo-sample-bg); border: 1px solid var(--demo-sample-border); border-radius: 4px; color: var(--sbdocs-fg);\" > ⚠️ This grid has <strong>1,000 rows</strong>. The plugin uses <code>warnThreshold: 500</code> (shows confirmation dialog) and <code>maxRows: 100</code> (hard limit). Check the print preview to see only 100 rows. </div> <div> <button @click=${handlePrint} style=\"padding: 8px 16px; cursor: pointer;\"> 🖨️ Print Grid (max 100 rows) </button> </div> <tbw-grid id=\"print-limit-grid\" style=\"height: 400px;\" .rows=${largeDataset} .gridConfig=${{ columns: [ { field: 'id', header: 'ID', width: 60 }, { field: 'name', header: 'Name', width: 180 }, { field: 'department', header: 'Department', width: 120 }, { field: 'salary', header: 'Salary', width: 100, align: 'right' }, ], plugins: [printPlugin], }} ></tbw-grid> </div> `; }, parameters: { docs: { description: { story: ` **Two separate options control large dataset behavior:** - \\`warnThreshold: 500\\` - Shows a confirmation dialog when rows exceed 500, letting users consent to the wait - \\`maxRows: 100\\` - Hard limits the output to 100 rows regardless of user choice You can use either or both: - Only \\`warnThreshold\\` → Warns but prints all rows if confirmed - Only \\`maxRows\\` → Silently limits without warning - Both → Warns AND limits (shown in this example) `, }, }, }, }",
          "description": "Row limit with confirmation dialog for large datasets.\r\nThis demo generates 1000 rows, warns at 500+, and limits printing to 100."
        },
        {
          "kind": "variable",
          "name": "PrintEvents",
          "type": {
            "text": "Story"
          },
          "default": "{ render: () => { const printPlugin = new PrintPlugin({ title: 'Event Demo', warnThreshold: 0, // No warning for this demo }); const handlePrint = () => { const grid = document.querySelector('#print-events-grid') as any; const plugin = grid?.getPlugin(PrintPlugin); plugin?.print({ isolate: true }); }; const setupEventListeners = () => { const grid = document.querySelector('#print-events-grid'); const log = document.querySelector('#event-log'); if (!grid || !log) return; grid.addEventListener('print-start', (e: any) => { const msg = document.createElement('div'); msg.textContent = `[print-start] Preparing ${e.detail.rowCount} rows...`; log.appendChild(msg); }); grid.addEventListener('print-complete', (e: any) => { const msg = document.createElement('div'); msg.textContent = `[print-complete] Dialog closed after ${e.detail.duration}ms`; log.appendChild(msg); }); }; setTimeout(setupEventListeners, 100); return html` <div style=\"display: flex; flex-direction: column; gap: 16px;\"> <div> <button @click=${handlePrint} style=\"padding: 8px 16px; cursor: pointer;\">🖨️ Print Grid</button> </div> <div style=\"display: grid; grid-template-columns: 1fr 300px; gap: 16px;\"> <tbw-grid id=\"print-events-grid\" style=\"height: 300px;\" .rows=${employeeData.slice(0, 5)} .gridConfig=${{ columns: [ { field: 'name', header: 'Name' }, { field: 'department', header: 'Department' }, ], plugins: [printPlugin], }} ></tbw-grid> <div style=\"border: 1px solid var(--sb-border); padding: 12px; border-radius: 4px; background: var(--sbdocs-bg);\" > <strong>Event Log:</strong> <div id=\"event-log\" style=\"font-family: monospace; font-size: 12px; margin-top: 8px; color: var(--sbdocs-fg);\" ></div> </div> </div> </div> `; }, parameters: { docs: { description: { story: ` The plugin emits events during the print lifecycle: - **\\`print-start\\`** - Fired when print begins (rows, limitApplied, originalRowCount) - **\\`print-complete\\`** - Fired when the print dialog closes (duration, rowCount) **Note:** Browsers don't expose whether the user clicked \"Print\" or \"Cancel\" in the dialog. The \\`success\\` field only indicates whether the plugin encountered an error preparing the print - it does NOT indicate the user's choice. `, }, }, }, }",
          "description": "Listen to print events for analytics or logging.\r\nNote: Browsers don't expose whether the user clicked Print or Cancel."
        },
        {
          "kind": "variable",
          "name": "HiddenColumns",
          "type": {
            "text": "Story"
          },
          "default": "{ render: () => { const printPlugin = new PrintPlugin({ title: 'Employee Report (Filtered)', includeTitle: true, includeTimestamp: true, }); const handlePrint = () => { const grid = document.querySelector('#print-hidden-grid') as any; const plugin = grid?.getPlugin(PrintPlugin); plugin?.print({ isolate: true }); }; return html` <div style=\"display: flex; flex-direction: column; gap: 16px;\"> <div> <button @click=${handlePrint} style=\"padding: 8px 16px; cursor: pointer;\">🖨️ Print Grid</button> <span style=\"margin-left: 12px; color: var(--sbdocs-fg); opacity: 0.7; font-size: 14px;\"> Note: The \"Actions\" column will be hidden in print output </span> </div> <tbw-grid id=\"print-hidden-grid\" style=\"height: 400px;\" .rows=${employeeData} .gridConfig=${{ columns: [ { field: 'id', header: 'ID', width: 60 }, { field: 'name', header: 'Name', width: 180 }, { field: 'department', header: 'Department', width: 120 }, { field: 'email', header: 'Email', width: 200 }, { field: 'salary', header: 'Salary', width: 100, align: 'right' }, { field: 'actions', header: 'Actions', width: 100, printHidden: true, // This column won't appear in print renderer: () => html`<button style=\"padding: 4px 8px;\">Edit</button>`, }, ], plugins: [printPlugin], }} ></tbw-grid> </div> `; }, parameters: { docs: { description: { story: ` Use the \\`printHidden: true\\` column property to exclude specific columns from print output. This is ideal for: - Action buttons (Edit, Delete) - Selection checkboxes - Interactive elements that don't make sense on paper - Sensitive data that shouldn't be printed `, }, }, }, }",
          "description": "Hide specific columns when printing using the `printHidden` column property.\r\nUseful for excluding action buttons, checkboxes, or other interactive elements."
        }
      ],
      "exports": [
        {
          "kind": "js",
          "name": "default",
          "declaration": {
            "name": "meta",
            "module": "src/lib/plugins/print/print.stories.ts"
          }
        },
        {
          "kind": "js",
          "name": "Basic",
          "declaration": {
            "name": "Basic",
            "module": "src/lib/plugins/print/print.stories.ts"
          }
        },
        {
          "kind": "js",
          "name": "ToolbarButton",
          "declaration": {
            "name": "ToolbarButton",
            "module": "src/lib/plugins/print/print.stories.ts"
          }
        },
        {
          "kind": "js",
          "name": "PortraitOrientation",
          "declaration": {
            "name": "PortraitOrientation",
            "module": "src/lib/plugins/print/print.stories.ts"
          }
        },
        {
          "kind": "js",
          "name": "RowLimit",
          "declaration": {
            "name": "RowLimit",
            "module": "src/lib/plugins/print/print.stories.ts"
          }
        },
        {
          "kind": "js",
          "name": "PrintEvents",
          "declaration": {
            "name": "PrintEvents",
            "module": "src/lib/plugins/print/print.stories.ts"
          }
        },
        {
          "kind": "js",
          "name": "HiddenColumns",
          "declaration": {
            "name": "HiddenColumns",
            "module": "src/lib/plugins/print/print.stories.ts"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/print/PrintPlugin.ts",
      "declarations": [
        {
          "kind": "class",
          "description": "Print Plugin for tbw-grid\n\nEnables printing the full grid content by temporarily disabling virtualization\nand applying print-optimized styles. Handles large datasets gracefully with\nconfigurable row limits.\n\n## Installation\n\n```ts\nimport { PrintPlugin } from '@toolbox-web/grid/plugins/print';\n```\n\n## Configuration Options\n\n| Option | Type | Default | Description |\n|--------|------|---------|-------------|\n| `button` | `boolean` | `false` | Show print button in toolbar |\n| `orientation` | `'portrait' \\| 'landscape'` | `'landscape'` | Page orientation |\n| `warnThreshold` | `number` | `500` | Show confirmation dialog when rows exceed this (0 = no warning) |\n| `maxRows` | `number` | `0` | Hard limit on printed rows (0 = unlimited) |\n| `includeTitle` | `boolean` | `true` | Include grid title in print |\n| `includeTimestamp` | `boolean` | `true` | Include timestamp in footer |\n| `title` | `string` | `''` | Custom print title |\n\n## Programmatic API\n\n| Method | Signature | Description |\n|--------|-----------|-------------|\n| `print` | `(params?) => Promise<void>` | Trigger print dialog |\n| `isPrinting` | `() => boolean` | Check if print is in progress |\n\n## Events\n\n| Event | Detail | Description |\n|-------|--------|-------------|\n| `print-start` | `PrintStartDetail` | Fired when print begins |\n| `print-complete` | `PrintCompleteDetail` | Fired when print completes |",
          "name": "PrintPlugin",
          "members": [
            {
              "kind": "field",
              "name": "styles",
              "type": {
                "text": "string | undefined"
              },
              "readonly": true,
              "description": "CSS styles for print mode",
              "default": "styles",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "field",
              "name": "#printing",
              "privacy": "private",
              "type": {
                "text": "boolean"
              },
              "default": "false",
              "description": "Current print state"
            },
            {
              "kind": "field",
              "name": "#savedHiddenColumns",
              "privacy": "private",
              "type": {
                "text": "Map<string, boolean> | null"
              },
              "default": "null",
              "description": "Saved column visibility state"
            },
            {
              "kind": "field",
              "name": "#savedVirtualization",
              "privacy": "private",
              "type": {
                "text": "{ bypassThreshold: number } | null"
              },
              "default": "null",
              "description": "Saved virtualization state"
            },
            {
              "kind": "field",
              "name": "#savedRows",
              "privacy": "private",
              "type": {
                "text": "unknown[] | null"
              },
              "default": "null",
              "description": "Saved rows when maxRows limit is applied"
            },
            {
              "kind": "field",
              "name": "#printHeader",
              "privacy": "private",
              "type": {
                "text": "HTMLElement | null"
              },
              "default": "null",
              "description": "Print header element"
            },
            {
              "kind": "field",
              "name": "#printFooter",
              "privacy": "private",
              "type": {
                "text": "HTMLElement | null"
              },
              "default": "null",
              "description": "Print footer element"
            },
            {
              "kind": "field",
              "name": "#appliedScale",
              "privacy": "private",
              "type": {
                "text": "number | null"
              },
              "default": "null",
              "description": "Applied scale factor (legacy, used for cleanup)"
            },
            {
              "kind": "field",
              "name": "#internalGrid",
              "privacy": "private",
              "type": {
                "text": "PrintGridRef"
              },
              "description": "Get the grid typed as PrintGridRef for internal access.",
              "readonly": true
            },
            {
              "kind": "method",
              "name": "isPrinting",
              "return": {
                "type": {
                  "text": "boolean"
                }
              },
              "description": "Check if print is currently in progress"
            },
            {
              "kind": "method",
              "name": "print",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "params",
                  "optional": true,
                  "type": {
                    "text": "PrintParams"
                  },
                  "description": "Optional parameters to override config for this print"
                },
                {
                  "description": "If true, prints in an isolated window containing only the grid",
                  "name": "params.isolate"
                }
              ],
              "description": "Trigger the browser print dialog\n\nThis method:\n1. Validates row count against maxRows limit\n2. Disables virtualization to render all rows\n3. Applies print-specific CSS classes\n4. Opens the browser print dialog (or isolated window if `isolate: true`)\n5. Restores normal state after printing"
            },
            {
              "kind": "method",
              "name": "#addPrintHeader",
              "privacy": "private",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "config",
                  "type": {
                    "text": "Required<PrintConfig>"
                  }
                }
              ],
              "description": "Add print header with title and timestamp"
            },
            {
              "kind": "method",
              "name": "#disableVirtualization",
              "privacy": "private",
              "return": {
                "type": {
                  "text": "Promise<void>"
                }
              },
              "description": "Disable virtualization to render all rows"
            },
            {
              "kind": "method",
              "name": "#triggerPrint",
              "privacy": "private",
              "return": {
                "type": {
                  "text": "Promise<void>"
                }
              },
              "description": "Trigger the browser print dialog"
            },
            {
              "kind": "method",
              "name": "#printInIsolatedWindow",
              "privacy": "private",
              "return": {
                "type": {
                  "text": "Promise<void>"
                }
              },
              "parameters": [
                {
                  "name": "config",
                  "type": {
                    "text": "Required<PrintConfig>"
                  }
                }
              ],
              "description": "Print in isolation by hiding all other page content.\nThis excludes navigation, sidebars, etc. while keeping the grid in place."
            },
            {
              "kind": "method",
              "name": "#hidePrintColumns",
              "privacy": "private",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "description": "Hide columns marked with printHidden: true"
            },
            {
              "kind": "method",
              "name": "#restorePrintColumns",
              "privacy": "private",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "description": "Restore columns that were hidden for printing"
            },
            {
              "kind": "method",
              "name": "#cleanup",
              "privacy": "private",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "description": "Cleanup after printing"
            },
            {
              "kind": "field",
              "name": "#toolbarRegistered",
              "privacy": "private",
              "type": {
                "text": "boolean"
              },
              "default": "false",
              "description": "Track if toolbar button is registered"
            },
            {
              "kind": "method",
              "name": "#registerToolbarButton",
              "privacy": "private",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "description": "Register print button in toolbar"
            },
            {
              "kind": "field",
              "name": "dependencies",
              "type": {
                "text": "PluginDependency[] | undefined"
              },
              "static": true,
              "readonly": true,
              "description": "Plugin dependencies - declare other plugins this one requires.\r\n\r\nDependencies are validated when the plugin is attached.\r\nRequired dependencies throw an error if missing.\r\nOptional dependencies log an info message if missing.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "field",
              "name": "manifest",
              "type": {
                "text": "PluginManifest<any> | undefined"
              },
              "static": true,
              "readonly": true,
              "description": "Plugin manifest - declares owned properties, config rules, and hook priorities.\r\n\r\nThis is read by the configuration validator to:\r\n- Validate that required plugins are loaded when their properties are used\r\n- Execute configRules to detect invalid/conflicting settings\r\n- Order hook execution based on priority",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "field",
              "name": "name",
              "type": {
                "text": "string"
              },
              "readonly": true,
              "description": "Unique plugin identifier (derived from class name by default)",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "field",
              "name": "version",
              "type": {
                "text": "string"
              },
              "readonly": true,
              "description": "Plugin version - defaults to grid version for built-in plugins.\r\nThird-party plugins can override with their own semver.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "field",
              "name": "cellRenderers",
              "type": {
                "text": "Record<string, CellRenderer> | undefined"
              },
              "readonly": true,
              "description": "Custom cell renderers keyed by type name",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "field",
              "name": "headerRenderers",
              "type": {
                "text": "Record<string, HeaderRenderer> | undefined"
              },
              "readonly": true,
              "description": "Custom header renderers keyed by type name",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "field",
              "name": "cellEditors",
              "type": {
                "text": "Record<string, CellEditor> | undefined"
              },
              "readonly": true,
              "description": "Custom cell editors keyed by type name",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "field",
              "name": "grid",
              "type": {
                "text": "GridElement"
              },
              "privacy": "protected",
              "description": "The grid instance this plugin is attached to",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "field",
              "name": "config",
              "type": {
                "text": "TConfig"
              },
              "privacy": "protected",
              "description": "Plugin configuration - merged with defaults in attach()",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "field",
              "name": "userConfig",
              "type": {
                "text": "Partial<TConfig>"
              },
              "privacy": "protected",
              "readonly": true,
              "description": "User-provided configuration from constructor",
              "default": "config",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "field",
              "name": "#abortController",
              "privacy": "private",
              "type": {
                "text": "AbortController | undefined"
              },
              "description": "Plugin-level AbortController for event listener cleanup.\r\nCreated fresh in attach(), aborted in detach().\r\nThis ensures event listeners are properly cleaned up when plugins are re-attached.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "field",
              "name": "defaultConfig",
              "type": {
                "text": "Partial<TConfig>"
              },
              "privacy": "protected",
              "description": "Default configuration - subclasses should override this getter.\r\nNote: This must be a getter (not property initializer) for proper inheritance\r\nsince property initializers run after parent constructor.",
              "readonly": true,
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "attach",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "grid",
                  "type": {
                    "text": "GridElement"
                  }
                }
              ],
              "description": "Called when the plugin is attached to a grid.\r\nOverride to set up event listeners, initialize state, etc.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "detach",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "description": "Called when the plugin is detached from a grid.\r\nOverride to clean up event listeners, timers, etc.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "onPluginAttached",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "name",
                  "type": {
                    "text": "string"
                  },
                  "description": "The name of the plugin that was attached"
                },
                {
                  "name": "plugin",
                  "type": {
                    "text": "BaseGridPlugin"
                  },
                  "description": "The plugin instance (for direct access if needed)"
                }
              ],
              "description": "Called when another plugin is attached to the same grid.\r\nUse for inter-plugin coordination, e.g., to integrate with new plugins.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "onPluginDetached",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "name",
                  "type": {
                    "text": "string"
                  },
                  "description": "The name of the plugin that was detached"
                }
              ],
              "description": "Called when another plugin is detached from the same grid.\r\nUse to clean up inter-plugin references.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "getPlugin",
              "privacy": "protected",
              "return": {
                "type": {
                  "text": "T | undefined"
                }
              },
              "parameters": [
                {
                  "name": "PluginClass",
                  "type": {
                    "text": "new (...args: any[]) => T"
                  }
                }
              ],
              "description": "Get another plugin instance from the same grid.\r\nUse for inter-plugin communication.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "emit",
              "privacy": "protected",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "eventName",
                  "type": {
                    "text": "string"
                  }
                },
                {
                  "name": "detail",
                  "type": {
                    "text": "T"
                  }
                }
              ],
              "description": "Emit a custom event from the grid.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "emitCancelable",
              "privacy": "protected",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "eventName",
                  "type": {
                    "text": "string"
                  }
                },
                {
                  "name": "detail",
                  "type": {
                    "text": "T"
                  }
                }
              ],
              "description": "Emit a cancelable custom event from the grid.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "on",
              "privacy": "protected",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "eventType",
                  "type": {
                    "text": "string"
                  },
                  "description": "The event type to listen for (e.g., 'filter-change')"
                },
                {
                  "name": "callback",
                  "type": {
                    "text": "(detail: T) => void"
                  },
                  "description": "The callback to invoke when the event is emitted"
                }
              ],
              "description": "Subscribe to an event from another plugin.\r\nThe subscription is automatically cleaned up when this plugin is detached.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "off",
              "privacy": "protected",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "eventType",
                  "type": {
                    "text": "string"
                  },
                  "description": "The event type to stop listening for"
                }
              ],
              "description": "Unsubscribe from a plugin event.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "emitPluginEvent",
              "privacy": "protected",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "eventType",
                  "type": {
                    "text": "string"
                  },
                  "description": "The event type to emit (should be declared in manifest.events)"
                },
                {
                  "name": "detail",
                  "type": {
                    "text": "T"
                  },
                  "description": "The event payload"
                }
              ],
              "description": "Emit an event to other plugins via the Event Bus.\r\nThis is for inter-plugin communication only; it does NOT dispatch DOM events.\r\nUse `emit()` to dispatch DOM events that external consumers can listen to.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "requestRender",
              "privacy": "protected",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "description": "Request a re-render of the grid.\r\nUses ROWS phase - does NOT trigger processColumns hooks.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "requestColumnsRender",
              "privacy": "protected",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "description": "Request a columns re-render of the grid.\r\nUses COLUMNS phase - triggers processColumns hooks.\r\nUse this when your plugin needs to reprocess column configuration.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "requestRenderWithFocus",
              "privacy": "protected",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "description": "Request a re-render and restore focus styling afterward.\r\nUse this when a plugin action (like expand/collapse) triggers a render\r\nbut needs to maintain keyboard navigation focus.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "requestAfterRender",
              "privacy": "protected",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "description": "Request a lightweight style update without rebuilding DOM.\r\nUse this instead of requestRender() when only CSS classes need updating.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "field",
              "name": "rows",
              "type": {
                "text": "any[]"
              },
              "privacy": "protected",
              "description": "Get the current rows from the grid.",
              "readonly": true,
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "field",
              "name": "sourceRows",
              "type": {
                "text": "any[]"
              },
              "privacy": "protected",
              "description": "Get the original unfiltered/unprocessed rows from the grid.\r\nUse this when you need all source data regardless of active filters.",
              "readonly": true,
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "field",
              "name": "columns",
              "type": {
                "text": "ColumnConfig[]"
              },
              "privacy": "protected",
              "description": "Get the current columns from the grid.",
              "readonly": true,
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "field",
              "name": "visibleColumns",
              "type": {
                "text": "ColumnConfig[]"
              },
              "privacy": "protected",
              "description": "Get only visible columns from the grid (excludes hidden).\r\nUse this for rendering that needs to match the grid template.",
              "readonly": true,
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "field",
              "name": "gridElement",
              "type": {
                "text": "HTMLElement"
              },
              "privacy": "protected",
              "description": "Get the grid as an HTMLElement for direct DOM operations.\r\nUse sparingly - prefer the typed GridElementRef API when possible.",
              "readonly": true,
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "field",
              "name": "disconnectSignal",
              "type": {
                "text": "AbortSignal"
              },
              "privacy": "protected",
              "description": "Get the disconnect signal for event listener cleanup.\r\nThis signal is aborted when the grid disconnects from the DOM.\r\nUse this when adding event listeners that should be cleaned up automatically.\r\n\r\nBest for:\r\n- Document/window-level listeners added in attach()\r\n- Listeners on the grid element itself\r\n- Any listener that should persist across renders\r\n\r\nNot needed for:\r\n- Listeners on elements created in afterRender() (removed with element)",
              "readonly": true,
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "field",
              "name": "gridIcons",
              "type": {
                "text": "typeof DEFAULT_GRID_ICONS"
              },
              "privacy": "protected",
              "description": "Get the grid-level icons configuration.\r\nReturns merged icons (user config + defaults).",
              "readonly": true,
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "field",
              "name": "isAnimationEnabled",
              "type": {
                "text": "boolean"
              },
              "privacy": "protected",
              "description": "Check if animations are enabled at the grid level.\r\nRespects gridConfig.animation.mode and the CSS variable set by the grid.\r\n\r\nPlugins should use this to skip animations when:\r\n- Animation mode is 'off' or `false`\r\n- User prefers reduced motion and mode is 'reduced-motion' (default)",
              "readonly": true,
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "field",
              "name": "animationDuration",
              "type": {
                "text": "number"
              },
              "privacy": "protected",
              "description": "Get the animation duration in milliseconds from CSS variable.\r\nFalls back to 200ms if not set.\r\n\r\nPlugins can use this for their animation timing to stay consistent\r\nwith the grid-level animation.duration setting.",
              "readonly": true,
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "resolveIcon",
              "privacy": "protected",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "iconKey",
                  "type": {
                    "text": "keyof typeof DEFAULT_GRID_ICONS"
                  },
                  "description": "The icon key in GridIcons (e.g., 'expand', 'collapse')"
                },
                {
                  "name": "pluginOverride",
                  "optional": true,
                  "type": {
                    "text": "IconValue"
                  },
                  "description": "Optional plugin-level override"
                }
              ],
              "description": "Resolve an icon value to string or HTMLElement.\r\nChecks plugin config first, then grid-level icons, then defaults.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "setIcon",
              "privacy": "protected",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "element",
                  "type": {
                    "text": "HTMLElement"
                  },
                  "description": "The element to set the icon on"
                },
                {
                  "name": "icon",
                  "type": {
                    "text": "IconValue"
                  },
                  "description": "The icon value (string or HTMLElement)"
                }
              ],
              "description": "Set an icon value on an element.\r\nHandles both string (text/HTML) and HTMLElement values.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "warn",
              "privacy": "protected",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "message",
                  "type": {
                    "text": "string"
                  }
                }
              ],
              "description": "Log a warning message.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "processRows",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "rows",
                  "type": {
                    "text": "readonly any[]"
                  },
                  "description": "The current rows array (readonly to encourage returning a new array)"
                }
              ],
              "description": "Transform rows before rendering.\r\nCalled during each render cycle before rows are rendered to the DOM.\r\nUse this to filter, sort, or add computed properties to rows.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "processColumns",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "columns",
                  "type": {
                    "text": "readonly ColumnConfig[]"
                  },
                  "description": "The current columns array (readonly to encourage returning a new array)"
                }
              ],
              "description": "Transform columns before rendering.\r\nCalled during each render cycle before column headers and cells are rendered.\r\nUse this to add, remove, or modify column definitions.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "beforeRender",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "description": "Called before each render cycle begins.\r\nUse this to prepare state or cache values needed during rendering.\r\n\r\n**Note:** This hook is currently a placeholder for future implementation.\r\nIt is defined in the interface but not yet invoked by the grid's render pipeline.\r\nIf you need this functionality, please open an issue or contribute an implementation.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "afterRender",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "description": "Called after each render cycle completes.\r\nUse this for DOM manipulation, adding event listeners to rendered elements,\r\nor applying visual effects like selection highlights.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "afterCellRender",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "context",
                  "type": {
                    "text": "AfterCellRenderContext"
                  },
                  "description": "The cell render context with row, column, value, and elements"
                }
              ],
              "description": "Called after each cell is rendered.\r\nThis hook is more efficient than `afterRender()` for cell-level modifications\r\nbecause you receive the cell context directly - no DOM queries needed.\r\n\r\nUse cases:\r\n- Adding selection/highlight classes to specific cells\r\n- Injecting badges or decorations\r\n- Applying conditional styling based on cell value\r\n\r\nPerformance note: Called for every visible cell during render. Keep implementation fast.\r\nThis hook is also called during scroll when cells are recycled.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "afterRowRender",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "context",
                  "type": {
                    "text": "AfterRowRenderContext"
                  },
                  "description": "The row render context with row data and element"
                }
              ],
              "description": "Called after a row is fully rendered (all cells complete).\r\nUse this for row-level decorations, styling, or ARIA attributes.\r\n\r\nCommon use cases:\r\n- Adding selection classes to entire rows (row-focus, selected)\r\n- Setting row-level ARIA attributes\r\n- Applying row validation highlighting\r\n- Tree indentation styling\r\n\r\nPerformance note: Called for every visible row during render. Keep implementation fast.\r\nThis hook is also called during scroll when rows are recycled.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "onScrollRender",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "description": "Called after scroll-triggered row rendering completes.\r\nThis is a lightweight hook for applying visual state to recycled DOM elements.\r\nUse this instead of afterRender when you need to reapply styling during scroll.\r\n\r\nPerformance note: This is called frequently during scroll. Keep implementation fast.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "getExtraHeight",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "description": "Return extra height contributed by this plugin (e.g., expanded detail rows).\r\nUsed to adjust scrollbar height calculations for virtualization.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "getExtraHeightBefore",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "beforeRowIndex",
                  "type": {
                    "text": "number"
                  },
                  "description": "The row index to calculate extra height before"
                }
              ],
              "description": "Return extra height that appears before a given row index.\r\nUsed by virtualization to correctly calculate scroll positions when\r\nthere's variable height content (like expanded detail rows) above the viewport.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "adjustVirtualStart",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "start",
                  "type": {
                    "text": "number"
                  },
                  "description": "The calculated start row index"
                },
                {
                  "name": "scrollTop",
                  "type": {
                    "text": "number"
                  },
                  "description": "The current scroll position"
                },
                {
                  "name": "rowHeight",
                  "type": {
                    "text": "number"
                  },
                  "description": "The height of a single row"
                }
              ],
              "description": "Adjust the virtualization start index to render additional rows before the visible range.\r\nUse this when expanded content (like detail rows) needs its parent row to remain rendered\r\neven when the parent row itself has scrolled above the viewport.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "renderRow",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "row",
                  "type": {
                    "text": "any"
                  },
                  "description": "The row data object"
                },
                {
                  "name": "rowEl",
                  "type": {
                    "text": "HTMLElement"
                  },
                  "description": "The row DOM element to render into"
                },
                {
                  "name": "rowIndex",
                  "type": {
                    "text": "number"
                  },
                  "description": "The index of the row in the data array"
                }
              ],
              "description": "Render a custom row, bypassing the default row rendering.\r\nUse this for special row types like group headers, detail rows, or footers.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "onPluginQuery",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "query",
                  "type": {
                    "text": "PluginQuery"
                  },
                  "description": "The query object with type and context"
                }
              ],
              "description": "Handle queries from other plugins.\r\nThis is the generic mechanism for inter-plugin communication.\r\nPlugins can respond to well-known query types or define their own.\r\n\r\n**Prefer `handleQuery` for new plugins** - it has the same signature but\r\na clearer name. `onPluginQuery` is kept for backwards compatibility.",
              "deprecated": "Use `handleQuery` instead for new plugins.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "handleQuery",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "query",
                  "type": {
                    "text": "PluginQuery"
                  },
                  "description": "The query object with type and context"
                }
              ],
              "description": "Handle queries from other plugins or the grid.\r\n\r\nQueries are declared in `manifest.queries` and dispatched via `grid.query()`.\r\nThis enables type-safe, discoverable inter-plugin communication.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "onKeyDown",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "event",
                  "type": {
                    "text": "KeyboardEvent"
                  },
                  "description": "The native KeyboardEvent"
                }
              ],
              "description": "Handle keyboard events on the grid.\r\nCalled when a key is pressed while the grid or a cell has focus.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "onCellClick",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "event",
                  "type": {
                    "text": "CellClickEvent"
                  },
                  "description": "Cell click event with row/column context"
                }
              ],
              "description": "Handle cell click events.\r\nCalled when a data cell is clicked (not headers).",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "onRowClick",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "event",
                  "type": {
                    "text": "RowClickEvent"
                  },
                  "description": "Row click event with row context"
                }
              ],
              "description": "Handle row click events.\r\nCalled when any part of a data row is clicked.\r\nNote: This is called in addition to onCellClick, not instead of.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "onHeaderClick",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "event",
                  "type": {
                    "text": "HeaderClickEvent"
                  },
                  "description": "Header click event with column context"
                }
              ],
              "description": "Handle header click events.\r\nCalled when a column header is clicked. Commonly used for sorting.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "onScroll",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "event",
                  "type": {
                    "text": "ScrollEvent"
                  },
                  "description": "Scroll event with scroll position and viewport dimensions"
                }
              ],
              "description": "Handle scroll events on the grid viewport.\r\nCalled during scrolling. Note: This may be called frequently; debounce if needed.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "onCellMouseDown",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "event",
                  "type": {
                    "text": "CellMouseEvent"
                  },
                  "description": "Mouse event with cell context"
                }
              ],
              "description": "Handle cell mousedown events.\r\nUsed for initiating drag operations like range selection or column resize.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "onCellMouseMove",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "event",
                  "type": {
                    "text": "CellMouseEvent"
                  },
                  "description": "Mouse event with current cell context"
                }
              ],
              "description": "Handle cell mousemove events during drag operations.\r\nOnly called when a drag is in progress (after mousedown returned true).",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "onCellMouseUp",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "event",
                  "type": {
                    "text": "CellMouseEvent"
                  },
                  "description": "Mouse event with final cell context"
                }
              ],
              "description": "Handle cell mouseup events to end drag operations.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "getColumnState",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "field",
                  "type": {
                    "text": "string"
                  },
                  "description": "The field name of the column"
                }
              ],
              "description": "Contribute plugin-specific state for a column.\r\nCalled by the grid when collecting column state for serialization.\r\nPlugins can add their own properties to the column state.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "applyColumnState",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "field",
                  "type": {
                    "text": "string"
                  },
                  "description": "The field name of the column"
                },
                {
                  "name": "state",
                  "type": {
                    "text": "ColumnState"
                  },
                  "description": "The column state to apply (may contain plugin-specific properties)"
                }
              ],
              "description": "Apply plugin-specific state to a column.\r\nCalled by the grid when restoring column state from serialized data.\r\nPlugins should restore their internal state based on the provided state.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "getHorizontalScrollOffsets",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "rowEl",
                  "optional": true,
                  "type": {
                    "text": "HTMLElement"
                  },
                  "description": "The row element (optional, for calculating widths from rendered cells)"
                },
                {
                  "name": "focusedCell",
                  "optional": true,
                  "type": {
                    "text": "HTMLElement"
                  },
                  "description": "The currently focused cell element (optional, to determine if scrolling should be skipped)"
                }
              ],
              "description": "Report horizontal scroll boundary offsets for this plugin.\r\nPlugins that obscure part of the scroll area (e.g., pinned/sticky columns)\r\nshould return how much space they occupy on each side.\r\nThe keyboard navigation uses this to ensure focused cells are fully visible.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "getToolPanel",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "description": "Register a tool panel for this plugin.\r\nReturn undefined if plugin has no tool panel.\r\nThe shell will create a toolbar toggle button and render the panel content\r\nwhen the user opens the panel.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "getHeaderContent",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "description": "Register content for the shell header center section.\r\nReturn undefined if plugin has no header content.\r\nExamples: search input, selection summary, status indicators.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            }
          ],
          "superclass": {
            "name": "BaseGridPlugin",
            "module": "/src/lib/core/plugin/base-plugin"
          }
        }
      ],
      "exports": [
        {
          "kind": "js",
          "name": "PrintPlugin",
          "declaration": {
            "name": "PrintPlugin",
            "module": "src/lib/plugins/print/PrintPlugin.ts"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/print/types.ts",
      "declarations": [],
      "exports": []
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/selection/index.ts",
      "declarations": [],
      "exports": [
        {
          "kind": "js",
          "name": "SelectionPlugin",
          "declaration": {
            "name": "SelectionPlugin",
            "module": "./SelectionPlugin"
          }
        },
        {
          "kind": "js",
          "name": "CellRange",
          "declaration": {
            "name": "CellRange",
            "module": "./types"
          }
        },
        {
          "kind": "js",
          "name": "SelectableCallback",
          "declaration": {
            "name": "SelectableCallback",
            "module": "./types"
          }
        },
        {
          "kind": "js",
          "name": "SelectionChangeDetail",
          "declaration": {
            "name": "SelectionChangeDetail",
            "module": "./types"
          }
        },
        {
          "kind": "js",
          "name": "SelectionConfig",
          "declaration": {
            "name": "SelectionConfig",
            "module": "./types"
          }
        },
        {
          "kind": "js",
          "name": "SelectionMode",
          "declaration": {
            "name": "SelectionMode",
            "module": "./types"
          }
        },
        {
          "kind": "js",
          "name": "SelectionResult",
          "declaration": {
            "name": "SelectionResult",
            "module": "./types"
          }
        },
        {
          "kind": "js",
          "name": "SelectionTrigger",
          "declaration": {
            "name": "SelectionTrigger",
            "module": "./types"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/selection/range-selection.spec.ts",
      "declarations": [],
      "exports": []
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/selection/range-selection.ts",
      "declarations": [
        {
          "kind": "function",
          "name": "normalizeRange",
          "return": {
            "type": {
              "text": ""
            }
          },
          "parameters": [
            {
              "name": "range",
              "type": {
                "text": "InternalCellRange"
              },
              "description": "The range to normalize"
            }
          ],
          "description": "Normalize a range so startRow/startCol are always <= endRow/endCol.\r\nThis handles cases where user drags from bottom-right to top-left."
        },
        {
          "kind": "function",
          "name": "toPublicRange",
          "return": {
            "type": {
              "text": ""
            }
          },
          "parameters": [
            {
              "name": "range",
              "type": {
                "text": "InternalCellRange"
              },
              "description": "The internal range to convert"
            }
          ],
          "description": "Convert an internal range to the public event format."
        },
        {
          "kind": "function",
          "name": "toPublicRanges",
          "return": {
            "type": {
              "text": ""
            }
          },
          "parameters": [
            {
              "name": "ranges",
              "type": {
                "text": "InternalCellRange[]"
              },
              "description": "Array of internal ranges"
            }
          ],
          "description": "Convert multiple internal ranges to public format."
        },
        {
          "kind": "function",
          "name": "isCellInRange",
          "return": {
            "type": {
              "text": ""
            }
          },
          "parameters": [
            {
              "name": "row",
              "type": {
                "text": "number"
              },
              "description": "The row index to check"
            },
            {
              "name": "col",
              "type": {
                "text": "number"
              },
              "description": "The column index to check"
            },
            {
              "name": "range",
              "type": {
                "text": "InternalCellRange"
              },
              "description": "The range to check against"
            }
          ],
          "description": "Check if a cell is within a specific range."
        },
        {
          "kind": "function",
          "name": "isCellInAnyRange",
          "return": {
            "type": {
              "text": ""
            }
          },
          "parameters": [
            {
              "name": "row",
              "type": {
                "text": "number"
              },
              "description": "The row index to check"
            },
            {
              "name": "col",
              "type": {
                "text": "number"
              },
              "description": "The column index to check"
            },
            {
              "name": "ranges",
              "type": {
                "text": "InternalCellRange[]"
              },
              "description": "Array of ranges to check against"
            }
          ],
          "description": "Check if a cell is within any of the provided ranges."
        },
        {
          "kind": "function",
          "name": "getCellsInRange",
          "return": {
            "type": {
              "text": ""
            }
          },
          "parameters": [
            {
              "name": "range",
              "type": {
                "text": "InternalCellRange"
              },
              "description": "The range to enumerate"
            }
          ],
          "description": "Get all cells within a range as an array of {row, col} objects."
        },
        {
          "kind": "function",
          "name": "getAllCellsInRanges",
          "return": {
            "type": {
              "text": ""
            }
          },
          "parameters": [
            {
              "name": "ranges",
              "type": {
                "text": "InternalCellRange[]"
              },
              "description": "Array of ranges to enumerate"
            }
          ],
          "description": "Get all unique cells across multiple ranges.\r\nDeduplicates cells that appear in overlapping ranges."
        },
        {
          "kind": "function",
          "name": "mergeRanges",
          "return": {
            "type": {
              "text": ""
            }
          },
          "parameters": [
            {
              "name": "ranges",
              "type": {
                "text": "InternalCellRange[]"
              },
              "description": "Array of ranges to merge"
            }
          ],
          "description": "Merge overlapping or adjacent ranges into fewer ranges.\r\nSimple implementation - returns ranges as-is for now.\r\nMore complex merging logic can be added later for optimization."
        },
        {
          "kind": "function",
          "name": "createRangeFromAnchor",
          "return": {
            "type": {
              "text": ""
            }
          },
          "parameters": [
            {
              "name": "anchor",
              "type": {
                "text": "{ row: number; col: number }"
              },
              "description": "The anchor cell (where selection started)"
            },
            {
              "name": "current",
              "type": {
                "text": "{ row: number; col: number }"
              },
              "description": "The current cell (where selection ends)"
            }
          ],
          "description": "Create a range from an anchor cell to a current cell position.\r\nThe range is not normalized - it preserves the direction of selection."
        },
        {
          "kind": "function",
          "name": "getRangeCellCount",
          "return": {
            "type": {
              "text": ""
            }
          },
          "parameters": [
            {
              "name": "range",
              "type": {
                "text": "InternalCellRange"
              },
              "description": "The range to measure"
            }
          ],
          "description": "Calculate the number of cells in a range."
        },
        {
          "kind": "function",
          "name": "rangesEqual",
          "return": {
            "type": {
              "text": ""
            }
          },
          "parameters": [
            {
              "name": "a",
              "type": {
                "text": "InternalCellRange"
              },
              "description": "First range"
            },
            {
              "name": "b",
              "type": {
                "text": "InternalCellRange"
              },
              "description": "Second range"
            }
          ],
          "description": "Check if two ranges are equal (same boundaries)."
        },
        {
          "kind": "function",
          "name": "isSingleCell",
          "return": {
            "type": {
              "text": ""
            }
          },
          "parameters": [
            {
              "name": "range",
              "type": {
                "text": "InternalCellRange"
              },
              "description": "The range to check"
            }
          ],
          "description": "Check if a range is a single cell (1x1)."
        }
      ],
      "exports": [
        {
          "kind": "js",
          "name": "normalizeRange",
          "declaration": {
            "name": "normalizeRange",
            "module": "src/lib/plugins/selection/range-selection.ts"
          }
        },
        {
          "kind": "js",
          "name": "toPublicRange",
          "declaration": {
            "name": "toPublicRange",
            "module": "src/lib/plugins/selection/range-selection.ts"
          }
        },
        {
          "kind": "js",
          "name": "toPublicRanges",
          "declaration": {
            "name": "toPublicRanges",
            "module": "src/lib/plugins/selection/range-selection.ts"
          }
        },
        {
          "kind": "js",
          "name": "isCellInRange",
          "declaration": {
            "name": "isCellInRange",
            "module": "src/lib/plugins/selection/range-selection.ts"
          }
        },
        {
          "kind": "js",
          "name": "isCellInAnyRange",
          "declaration": {
            "name": "isCellInAnyRange",
            "module": "src/lib/plugins/selection/range-selection.ts"
          }
        },
        {
          "kind": "js",
          "name": "getCellsInRange",
          "declaration": {
            "name": "getCellsInRange",
            "module": "src/lib/plugins/selection/range-selection.ts"
          }
        },
        {
          "kind": "js",
          "name": "getAllCellsInRanges",
          "declaration": {
            "name": "getAllCellsInRanges",
            "module": "src/lib/plugins/selection/range-selection.ts"
          }
        },
        {
          "kind": "js",
          "name": "mergeRanges",
          "declaration": {
            "name": "mergeRanges",
            "module": "src/lib/plugins/selection/range-selection.ts"
          }
        },
        {
          "kind": "js",
          "name": "createRangeFromAnchor",
          "declaration": {
            "name": "createRangeFromAnchor",
            "module": "src/lib/plugins/selection/range-selection.ts"
          }
        },
        {
          "kind": "js",
          "name": "getRangeCellCount",
          "declaration": {
            "name": "getRangeCellCount",
            "module": "src/lib/plugins/selection/range-selection.ts"
          }
        },
        {
          "kind": "js",
          "name": "rangesEqual",
          "declaration": {
            "name": "rangesEqual",
            "module": "src/lib/plugins/selection/range-selection.ts"
          }
        },
        {
          "kind": "js",
          "name": "isSingleCell",
          "declaration": {
            "name": "isSingleCell",
            "module": "src/lib/plugins/selection/range-selection.ts"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/selection/row-selection.spec.ts",
      "declarations": [],
      "exports": []
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/selection/row-selection.ts",
      "declarations": [
        {
          "kind": "function",
          "name": "handleRowClick",
          "return": {
            "type": {
              "text": ""
            }
          },
          "parameters": [
            {
              "name": "state",
              "type": {
                "text": "SelectionState"
              },
              "description": "Current selection state"
            },
            {
              "name": "rowIndex",
              "type": {
                "text": "number"
              },
              "description": "The clicked row index"
            },
            {
              "name": "mode",
              "type": {
                "text": "SelectionMode"
              },
              "description": "Selection mode ('single' or 'multiple')"
            },
            {
              "name": "modifiers",
              "type": {
                "text": "ClickModifiers"
              },
              "description": "Keyboard modifiers held during click"
            }
          ],
          "description": "Handle a row click event for selection purposes.\r\n\r\nIn single mode: always selects the clicked row, clearing others.\r\nIn multiple mode:\r\n  - Plain click: clears selection and selects clicked row\r\n  - Ctrl/Cmd+click: toggles the clicked row\r\n  - Shift+click: range select from anchor to clicked row"
        },
        {
          "kind": "function",
          "name": "selectAll",
          "return": {
            "type": {
              "text": ""
            }
          },
          "parameters": [
            {
              "name": "rowCount",
              "type": {
                "text": "number"
              },
              "description": "Total number of rows"
            }
          ],
          "description": "Create a set containing all row indices (for select all)."
        },
        {
          "kind": "function",
          "name": "computeSelectionDiff",
          "return": {
            "type": {
              "text": ""
            }
          },
          "parameters": [
            {
              "name": "oldSelected",
              "type": {
                "text": "Set<number>"
              },
              "description": "Previous selection set"
            },
            {
              "name": "newSelected",
              "type": {
                "text": "Set<number>"
              },
              "description": "New selection set"
            }
          ],
          "description": "Compute the difference between two selection states."
        }
      ],
      "exports": [
        {
          "kind": "js",
          "name": "handleRowClick",
          "declaration": {
            "name": "handleRowClick",
            "module": "src/lib/plugins/selection/row-selection.ts"
          }
        },
        {
          "kind": "js",
          "name": "selectAll",
          "declaration": {
            "name": "selectAll",
            "module": "src/lib/plugins/selection/row-selection.ts"
          }
        },
        {
          "kind": "js",
          "name": "computeSelectionDiff",
          "declaration": {
            "name": "computeSelectionDiff",
            "module": "src/lib/plugins/selection/row-selection.ts"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/selection/selection-plugin.spec.ts",
      "declarations": [],
      "exports": []
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/selection/selection.stories.ts",
      "declarations": [
        {
          "kind": "variable",
          "name": "meta",
          "type": {
            "text": "Meta"
          },
          "default": "{ title: 'Grid/Plugins/Selection', tags: ['!dev'], parameters: { layout: 'fullscreen', docs: { description: { component: ` The Selection plugin enables cell, row, and range selection with full keyboard support. **Selection Modes:** - \\`cell\\` - Single cell selection (click to select one cell) - \\`row\\` - Row selection (click any cell to select the entire row) - \\`range\\` - Range selection (shift+click or drag to select rectangles) **Keyboard Shortcuts:** - \\`Escape\\` - Clear selection - \\`Ctrl+A\\` (range mode) - Select all cells - \\`Shift+Click\\` - Extend selection - Arrow keys - Navigate and extend selection with Shift held `, }, }, }, argTypes: { mode: { control: { type: 'radio' }, options: ['cell', 'row', 'range'], description: 'Selection mode determines what gets selected on click', table: { category: 'Selection', type: { summary: 'SelectionMode' } }, }, }, args: { mode: 'cell', }, }"
        },
        {
          "kind": "variable",
          "name": "Default",
          "type": {
            "text": "Story"
          },
          "default": "{ args: { mode: 'cell', }, parameters: { docs: { source: { code: ` <!-- HTML --> <tbw-grid style=\"height: 350px;\"></tbw-grid> <script type=\"module\"> import '@toolbox-web/grid'; import { SelectionPlugin } from '@toolbox-web/grid/plugins/selection'; const grid = document.querySelector('tbw-grid'); grid.gridConfig = { columns: [ { field: 'id', header: 'ID', type: 'number' }, { field: 'name', header: 'Name' }, { field: 'department', header: 'Department' }, { field: 'salary', header: 'Salary', type: 'number' }, ], plugins: [new SelectionPlugin({ mode: 'cell' })], }; grid.rows = [ { id: 1, name: 'Alice', department: 'Engineering', salary: 95000 }, { id: 2, name: 'Bob', department: 'Marketing', salary: 75000 }, // ... ]; </script> `, language: 'html', }, }, }, render: (args: SelectionArgs) => { const grid = document.createElement('tbw-grid') as GridElement; grid.style.height = '350px'; grid.style.display = 'block'; grid.gridConfig = { columns, plugins: [new SelectionPlugin({ mode: args.mode })], }; grid.rows = sampleData; return grid; }, }",
          "description": "Interactive selection demo with mode switcher. Use the controls to switch\r\nbetween cell, row, and range selection modes."
        },
        {
          "kind": "variable",
          "name": "CellMode",
          "type": {
            "text": "Story"
          },
          "default": "{ args: { mode: 'cell' }, parameters: { docs: { source: { code: ` <!-- HTML --> <tbw-grid style=\"height: 300px;\"></tbw-grid> <script type=\"module\"> import '@toolbox-web/grid'; import { SelectionPlugin } from '@toolbox-web/grid/plugins/selection'; const grid = document.querySelector('tbw-grid'); grid.gridConfig = { columns: [...], plugins: [new SelectionPlugin({ mode: 'cell' })], }; grid.rows = [...]; </script> `, language: 'html', }, }, }, render: () => { const grid = document.createElement('tbw-grid') as GridElement; grid.style.height = '300px'; grid.style.display = 'block'; grid.gridConfig = { columns, plugins: [new SelectionPlugin({ mode: 'cell' })], }; grid.rows = sampleData; return grid; }, }",
          "description": "Cell selection mode - click to select individual cells.\r\nThe focused cell is highlighted."
        },
        {
          "kind": "variable",
          "name": "RowMode",
          "type": {
            "text": "Story"
          },
          "default": "{ args: { mode: 'row' }, parameters: { docs: { source: { code: ` <!-- HTML --> <tbw-grid style=\"height: 300px;\"></tbw-grid> <script type=\"module\"> import '@toolbox-web/grid'; import { SelectionPlugin } from '@toolbox-web/grid/plugins/selection'; const grid = document.querySelector('tbw-grid'); grid.gridConfig = { columns: [...], plugins: [new SelectionPlugin({ mode: 'row' })], }; grid.rows = [...]; </script> `, language: 'html', }, }, }, render: () => { const grid = document.createElement('tbw-grid') as GridElement; grid.style.height = '300px'; grid.style.display = 'block'; grid.gridConfig = { columns, plugins: [new SelectionPlugin({ mode: 'row' })], }; grid.rows = sampleData; return grid; }, }",
          "description": "Row selection mode - clicking any cell selects the entire row.\r\nThe selected row is highlighted with a border."
        },
        {
          "kind": "variable",
          "name": "RangeMode",
          "type": {
            "text": "Story"
          },
          "default": "{ args: { mode: 'range' }, parameters: { docs: { source: { code: ` <!-- HTML --> <tbw-grid style=\"height: 300px;\"></tbw-grid> <script type=\"module\"> import '@toolbox-web/grid'; import { SelectionPlugin } from '@toolbox-web/grid/plugins/selection'; const grid = document.querySelector('tbw-grid'); grid.gridConfig = { columns: [...], plugins: [new SelectionPlugin({ mode: 'range' })], }; grid.rows = [...]; </script> `, language: 'html', }, }, }, render: () => { const grid = document.createElement('tbw-grid') as GridElement; grid.style.height = '300px'; grid.style.display = 'block'; grid.gridConfig = { columns, plugins: [new SelectionPlugin({ mode: 'range' })], }; grid.rows = sampleData; return grid; }, }",
          "description": "Range selection mode - shift+click or click-and-drag to select\r\nrectangular regions of cells."
        },
        {
          "kind": "variable",
          "name": "ConditionalSelection",
          "type": {
            "text": "Story"
          },
          "default": "{ args: { mode: 'row' }, parameters: { docs: { source: { code: ` <!-- HTML --> <tbw-grid style=\"height: 350px;\"></tbw-grid> <script type=\"module\"> import '@toolbox-web/grid'; import { SelectionPlugin } from '@toolbox-web/grid/plugins/selection'; const grid = document.querySelector('tbw-grid'); grid.gridConfig = { columns: [ { field: 'id', header: 'ID', type: 'number' }, { field: 'name', header: 'Name' }, { field: 'department', header: 'Department' }, { field: 'status', header: 'Status' }, ], plugins: [ new SelectionPlugin({ mode: 'row', // Prevent selection of locked rows isSelectable: (row) => row.status !== 'locked', }), ], }; grid.rows = [ { id: 1, name: 'Alice', department: 'Engineering', status: 'active' }, { id: 2, name: 'Bob', department: 'Marketing', status: 'locked' }, { id: 3, name: 'Carol', department: 'Engineering', status: 'active' }, // ... ]; </script> `, language: 'html', }, }, }, render: () => { const grid = document.createElement('tbw-grid') as GridElement; grid.style.height = '350px'; grid.style.display = 'block'; const statusColumns = [ { field: 'id', header: 'ID', type: 'number' as const }, { field: 'name', header: 'Name' }, { field: 'department', header: 'Department' }, { field: 'status', header: 'Status' }, ]; grid.gridConfig = { columns: statusColumns, plugins: [ new SelectionPlugin({ mode: 'row', isSelectable: (row: { status: string }) => row.status !== 'locked', }), ], }; grid.rows = statusData; return grid; }, }",
          "description": "Conditional selection using `isSelectable` callback.\r\n\r\nThis example demonstrates how to prevent selection of specific rows based on\r\ntheir data. Rows with `status: 'locked'` cannot be selected and are visually\r\ndimmed with a `not-allowed` cursor.\r\n\r\n**Key features:**\r\n- Locked rows show muted styling via `[data-selectable=\"false\"]` attribute\r\n- Click events are ignored on non-selectable rows\r\n- Keyboard navigation skips selection for non-selectable rows\r\n- Focus remains navigable (you can still arrow through locked rows)"
        },
        {
          "kind": "variable",
          "name": "SelectionEvents",
          "type": {
            "text": "Story"
          },
          "default": "{ args: { mode: 'range' }, parameters: { docs: { source: { code: ` const grid = document.querySelector('tbw-grid'); grid.addEventListener('selection-change', (e) => { console.log('Mode:', e.detail.mode); console.log('Ranges:', e.detail.ranges); console.log('Selected rows:', e.detail.selectedRows?.length); }); `, language: 'typescript', }, }, }, render: (args) => { const container = document.createElement('div'); container.style.cssText = 'display: grid; grid-template-columns: 1fr 320px; gap: 16px;'; const grid = document.createElement('tbw-grid') as GridElement; grid.id = 'selection-events-grid'; grid.style.height = '300px'; grid.gridConfig = { columns: [ { field: 'id', header: 'ID', type: 'number' as const }, { field: 'name', header: 'Name' }, { field: 'department', header: 'Department' }, { field: 'salary', header: 'Salary', type: 'number' as const }, ], plugins: [new SelectionPlugin({ mode: args.mode as SelectionMode })], }; grid.rows = [ { id: 1, name: 'Alice Johnson', department: 'Engineering', salary: 85000 }, { id: 2, name: 'Bob Smith', department: 'Marketing', salary: 72000 }, { id: 3, name: 'Carol White', department: 'Sales', salary: 68000 }, { id: 4, name: 'David Brown', department: 'Engineering', salary: 92000 }, { id: 5, name: 'Eve Davis', department: 'HR', salary: 65000 }, ]; // Event log panel const logPanel = document.createElement('div'); logPanel.style.cssText = 'border: 1px solid var(--sb-border); padding: 12px; border-radius: 4px; background: var(--sbdocs-bg); overflow-y: auto; max-height: 300px;'; logPanel.innerHTML = ` <div style=\"display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px;\"> <strong>Event Log:</strong> <button id=\"clear-log\" style=\"padding: 4px 8px; cursor: pointer; font-size: 12px;\">Clear</button> </div> <div id=\"event-log\" style=\"font-family: monospace; font-size: 11px; color: var(--sbdocs-fg);\"></div> `; container.appendChild(grid); container.appendChild(logPanel); // Setup event listeners setTimeout(() => { const log = container.querySelector('#event-log'); const clearBtn = container.querySelector('#clear-log'); if (!log) return; const addLog = (type: string, detail: string) => { const msg = document.createElement('div'); msg.style.cssText = 'padding: 2px 0; border-bottom: 1px solid var(--sb-border);'; msg.innerHTML = `<span style=\"color: var(--sb-accent-color);\">[${type}]</span> ${detail}`; log.insertBefore(msg, log.firstChild); while (log.children.length > 15) { log.lastChild?.remove(); } }; clearBtn?.addEventListener('click', () => { log.innerHTML = ''; }); grid.addEventListener('selection-change', (e: CustomEvent) => { const d = e.detail; const rangeCount = d.ranges?.length || 0; const cellCount = d.ranges?.reduce( (sum: number, r: { from: { row: number; col: number }; to: { row: number; col: number } }) => { const rows = Math.abs(r.to.row - r.from.row) + 1; const cols = Math.abs(r.to.col - r.from.col) + 1; return sum + rows * cols; }, 0, ); addLog('selection-change', `mode=\"${d.mode}\", ${rangeCount} range(s), ${cellCount} cell(s)`); }); }, 50); return container; }, }",
          "description": "## Selection Events\r\n\r\nThe SelectionPlugin emits events when selection state changes:\r\n- `selection-change` - Fired when the selection is modified\r\n\r\nClick cells or rows, use Shift+Click for ranges, or Ctrl+A to select all."
        }
      ],
      "exports": [
        {
          "kind": "js",
          "name": "default",
          "declaration": {
            "name": "meta",
            "module": "src/lib/plugins/selection/selection.stories.ts"
          }
        },
        {
          "kind": "js",
          "name": "Default",
          "declaration": {
            "name": "Default",
            "module": "src/lib/plugins/selection/selection.stories.ts"
          }
        },
        {
          "kind": "js",
          "name": "CellMode",
          "declaration": {
            "name": "CellMode",
            "module": "src/lib/plugins/selection/selection.stories.ts"
          }
        },
        {
          "kind": "js",
          "name": "RowMode",
          "declaration": {
            "name": "RowMode",
            "module": "src/lib/plugins/selection/selection.stories.ts"
          }
        },
        {
          "kind": "js",
          "name": "RangeMode",
          "declaration": {
            "name": "RangeMode",
            "module": "src/lib/plugins/selection/selection.stories.ts"
          }
        },
        {
          "kind": "js",
          "name": "ConditionalSelection",
          "declaration": {
            "name": "ConditionalSelection",
            "module": "src/lib/plugins/selection/selection.stories.ts"
          }
        },
        {
          "kind": "js",
          "name": "SelectionEvents",
          "declaration": {
            "name": "SelectionEvents",
            "module": "src/lib/plugins/selection/selection.stories.ts"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/selection/SelectionPlugin.ts",
      "declarations": [
        {
          "kind": "class",
          "description": "Selection Plugin for tbw-grid\r\n\r\nAdds cell, row, and range selection capabilities to the grid with full keyboard support.\r\nWhether you need simple cell highlighting or complex multi-range selections, this plugin has you covered.\r\n\r\n## Installation\r\n\r\n```ts\r\nimport { SelectionPlugin } from '@toolbox-web/grid/plugins/selection';\r\n```\r\n\r\n## Selection Modes\r\n\r\nConfigure the plugin with one of three modes via SelectionConfig:\r\n\r\n- **`'cell'`** - Single cell selection (default). Click cells to select individually.\r\n- **`'row'`** - Full row selection. Click anywhere in a row to select the entire row.\r\n- **`'range'`** - Rectangular selection. Click and drag or Shift+Click to select ranges.\r\n\r\n## Keyboard Shortcuts\r\n\r\n| Shortcut | Action |\r\n|----------|--------|\r\n| `Arrow Keys` | Move selection |\r\n| `Shift + Arrow` | Extend selection (range mode) |\r\n| `Ctrl/Cmd + Click` | Toggle selection (multi-select) |\r\n| `Shift + Click` | Extend to clicked cell/row |\r\n| `Ctrl/Cmd + A` | Select all (range mode) |\r\n| `Escape` | Clear selection |\r\n\r\n## CSS Custom Properties\r\n\r\n| Property | Description |\r\n|----------|-------------|\r\n| `--tbw-focus-background` | Focused row background |\r\n| `--tbw-range-selection-bg` | Range selection fill |\r\n| `--tbw-range-border-color` | Range selection border |",
          "name": "SelectionPlugin",
          "members": [
            {
              "kind": "field",
              "name": "selected",
              "privacy": "private",
              "default": "new Set<number>()",
              "description": "Row selection state (row mode)"
            },
            {
              "kind": "field",
              "name": "lastSelected",
              "type": {
                "text": "number | null"
              },
              "privacy": "private",
              "default": "null"
            },
            {
              "kind": "field",
              "name": "anchor",
              "type": {
                "text": "number | null"
              },
              "privacy": "private",
              "default": "null"
            },
            {
              "kind": "field",
              "name": "ranges",
              "type": {
                "text": "InternalCellRange[]"
              },
              "privacy": "private",
              "default": "[]",
              "description": "Range selection state (range mode)"
            },
            {
              "kind": "field",
              "name": "activeRange",
              "type": {
                "text": "InternalCellRange | null"
              },
              "privacy": "private",
              "default": "null"
            },
            {
              "kind": "field",
              "name": "cellAnchor",
              "type": {
                "text": "{ row: number; col: number } | null"
              },
              "privacy": "private",
              "default": "null"
            },
            {
              "kind": "field",
              "name": "isDragging",
              "type": {
                "text": "boolean"
              },
              "privacy": "private",
              "default": "false"
            },
            {
              "kind": "field",
              "name": "pendingKeyboardUpdate",
              "type": {
                "text": "{ shiftKey: boolean } | null"
              },
              "privacy": "private",
              "default": "null",
              "description": "Pending keyboard navigation update (processed in afterRender)"
            },
            {
              "kind": "field",
              "name": "selectedCell",
              "type": {
                "text": "{ row: number; col: number } | null"
              },
              "privacy": "private",
              "default": "null",
              "description": "Cell selection state (cell mode)"
            },
            {
              "kind": "method",
              "name": "isSelectionEnabled",
              "privacy": "private",
              "return": {
                "type": {
                  "text": "boolean"
                }
              },
              "description": "Check if selection is enabled at the grid level.\r\nGrid-wide `selectable: false` or plugin's `enabled: false` disables all selection."
            },
            {
              "kind": "method",
              "name": "checkSelectable",
              "privacy": "private",
              "return": {
                "type": {
                  "text": "boolean"
                }
              },
              "parameters": [
                {
                  "name": "rowIndex",
                  "type": {
                    "text": "number"
                  }
                },
                {
                  "name": "colIndex",
                  "optional": true,
                  "type": {
                    "text": "number"
                  }
                }
              ],
              "description": "Check if a row/cell is selectable.\r\nReturns true if selectable, false if not."
            },
            {
              "kind": "method",
              "name": "isRowSelectable",
              "privacy": "private",
              "return": {
                "type": {
                  "text": "boolean"
                }
              },
              "parameters": [
                {
                  "name": "rowIndex",
                  "type": {
                    "text": "number"
                  }
                }
              ],
              "description": "Check if an entire row is selectable (for row mode)."
            },
            {
              "kind": "method",
              "name": "isCellSelectable",
              "privacy": "private",
              "return": {
                "type": {
                  "text": "boolean"
                }
              },
              "parameters": [
                {
                  "name": "rowIndex",
                  "type": {
                    "text": "number"
                  }
                },
                {
                  "name": "colIndex",
                  "type": {
                    "text": "number"
                  }
                }
              ],
              "description": "Check if a cell is selectable (for cell/range modes)."
            },
            {
              "kind": "method",
              "name": "clearSelectionSilent",
              "privacy": "private",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "description": "Clear selection without emitting an event.\r\nUsed when selection is invalidated by external changes (filtering, grouping, etc.)"
            },
            {
              "kind": "method",
              "name": "#applySelectionClasses",
              "privacy": "private",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "description": "Apply selection classes to visible cells/rows.\r\nShared by afterRender and onScrollRender."
            },
            {
              "kind": "method",
              "name": "getSelection",
              "return": {
                "type": {
                  "text": "SelectionResult"
                }
              },
              "description": "Get the current selection as a unified result.\r\nWorks for all selection modes and always returns ranges."
            },
            {
              "kind": "method",
              "name": "getSelectedCells",
              "return": {
                "type": {
                  "text": "Array<{ row: number; col: number }>"
                }
              },
              "description": "Get all selected cells across all ranges."
            },
            {
              "kind": "method",
              "name": "isCellSelected",
              "return": {
                "type": {
                  "text": "boolean"
                }
              },
              "parameters": [
                {
                  "name": "row",
                  "type": {
                    "text": "number"
                  }
                },
                {
                  "name": "col",
                  "type": {
                    "text": "number"
                  }
                }
              ],
              "description": "Check if a specific cell is in range selection."
            },
            {
              "kind": "method",
              "name": "clearSelection",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "description": "Clear all selection."
            },
            {
              "kind": "method",
              "name": "setRanges",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "ranges",
                  "type": {
                    "text": "CellRange[]"
                  }
                }
              ],
              "description": "Set selected ranges programmatically."
            },
            {
              "kind": "method",
              "name": "#buildEvent",
              "privacy": "private",
              "return": {
                "type": {
                  "text": "SelectionChangeDetail"
                }
              }
            },
            {
              "kind": "field",
              "name": "dependencies",
              "type": {
                "text": "PluginDependency[] | undefined"
              },
              "static": true,
              "readonly": true,
              "description": "Plugin dependencies - declare other plugins this one requires.\r\n\r\nDependencies are validated when the plugin is attached.\r\nRequired dependencies throw an error if missing.\r\nOptional dependencies log an info message if missing.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "field",
              "name": "manifest",
              "type": {
                "text": "PluginManifest<any> | undefined"
              },
              "static": true,
              "readonly": true,
              "description": "Plugin manifest - declares owned properties, config rules, and hook priorities.\r\n\r\nThis is read by the configuration validator to:\r\n- Validate that required plugins are loaded when their properties are used\r\n- Execute configRules to detect invalid/conflicting settings\r\n- Order hook execution based on priority",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "field",
              "name": "name",
              "type": {
                "text": "string"
              },
              "readonly": true,
              "description": "Unique plugin identifier (derived from class name by default)",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "field",
              "name": "version",
              "type": {
                "text": "string"
              },
              "readonly": true,
              "description": "Plugin version - defaults to grid version for built-in plugins.\r\nThird-party plugins can override with their own semver.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "field",
              "name": "styles",
              "type": {
                "text": "string | undefined"
              },
              "readonly": true,
              "description": "CSS styles to inject into the grid's shadow DOM",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "field",
              "name": "cellRenderers",
              "type": {
                "text": "Record<string, CellRenderer> | undefined"
              },
              "readonly": true,
              "description": "Custom cell renderers keyed by type name",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "field",
              "name": "headerRenderers",
              "type": {
                "text": "Record<string, HeaderRenderer> | undefined"
              },
              "readonly": true,
              "description": "Custom header renderers keyed by type name",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "field",
              "name": "cellEditors",
              "type": {
                "text": "Record<string, CellEditor> | undefined"
              },
              "readonly": true,
              "description": "Custom cell editors keyed by type name",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "field",
              "name": "grid",
              "type": {
                "text": "GridElement"
              },
              "privacy": "protected",
              "description": "The grid instance this plugin is attached to",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "field",
              "name": "config",
              "type": {
                "text": "TConfig"
              },
              "privacy": "protected",
              "description": "Plugin configuration - merged with defaults in attach()",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "field",
              "name": "userConfig",
              "type": {
                "text": "Partial<TConfig>"
              },
              "privacy": "protected",
              "readonly": true,
              "description": "User-provided configuration from constructor",
              "default": "config",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "field",
              "name": "#abortController",
              "privacy": "private",
              "type": {
                "text": "AbortController | undefined"
              },
              "description": "Plugin-level AbortController for event listener cleanup.\r\nCreated fresh in attach(), aborted in detach().\r\nThis ensures event listeners are properly cleaned up when plugins are re-attached.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "field",
              "name": "defaultConfig",
              "type": {
                "text": "Partial<TConfig>"
              },
              "privacy": "protected",
              "description": "Default configuration - subclasses should override this getter.\r\nNote: This must be a getter (not property initializer) for proper inheritance\r\nsince property initializers run after parent constructor.",
              "readonly": true,
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "attach",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "grid",
                  "type": {
                    "text": "GridElement"
                  }
                }
              ],
              "description": "Called when the plugin is attached to a grid.\r\nOverride to set up event listeners, initialize state, etc.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "detach",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "description": "Called when the plugin is detached from a grid.\r\nOverride to clean up event listeners, timers, etc.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "onPluginAttached",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "name",
                  "type": {
                    "text": "string"
                  },
                  "description": "The name of the plugin that was attached"
                },
                {
                  "name": "plugin",
                  "type": {
                    "text": "BaseGridPlugin"
                  },
                  "description": "The plugin instance (for direct access if needed)"
                }
              ],
              "description": "Called when another plugin is attached to the same grid.\r\nUse for inter-plugin coordination, e.g., to integrate with new plugins.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "onPluginDetached",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "name",
                  "type": {
                    "text": "string"
                  },
                  "description": "The name of the plugin that was detached"
                }
              ],
              "description": "Called when another plugin is detached from the same grid.\r\nUse to clean up inter-plugin references.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "getPlugin",
              "privacy": "protected",
              "return": {
                "type": {
                  "text": "T | undefined"
                }
              },
              "parameters": [
                {
                  "name": "PluginClass",
                  "type": {
                    "text": "new (...args: any[]) => T"
                  }
                }
              ],
              "description": "Get another plugin instance from the same grid.\r\nUse for inter-plugin communication.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "emit",
              "privacy": "protected",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "eventName",
                  "type": {
                    "text": "string"
                  }
                },
                {
                  "name": "detail",
                  "type": {
                    "text": "T"
                  }
                }
              ],
              "description": "Emit a custom event from the grid.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "emitCancelable",
              "privacy": "protected",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "eventName",
                  "type": {
                    "text": "string"
                  }
                },
                {
                  "name": "detail",
                  "type": {
                    "text": "T"
                  }
                }
              ],
              "description": "Emit a cancelable custom event from the grid.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "on",
              "privacy": "protected",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "eventType",
                  "type": {
                    "text": "string"
                  },
                  "description": "The event type to listen for (e.g., 'filter-change')"
                },
                {
                  "name": "callback",
                  "type": {
                    "text": "(detail: T) => void"
                  },
                  "description": "The callback to invoke when the event is emitted"
                }
              ],
              "description": "Subscribe to an event from another plugin.\r\nThe subscription is automatically cleaned up when this plugin is detached.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "off",
              "privacy": "protected",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "eventType",
                  "type": {
                    "text": "string"
                  },
                  "description": "The event type to stop listening for"
                }
              ],
              "description": "Unsubscribe from a plugin event.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "emitPluginEvent",
              "privacy": "protected",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "eventType",
                  "type": {
                    "text": "string"
                  },
                  "description": "The event type to emit (should be declared in manifest.events)"
                },
                {
                  "name": "detail",
                  "type": {
                    "text": "T"
                  },
                  "description": "The event payload"
                }
              ],
              "description": "Emit an event to other plugins via the Event Bus.\r\nThis is for inter-plugin communication only; it does NOT dispatch DOM events.\r\nUse `emit()` to dispatch DOM events that external consumers can listen to.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "requestRender",
              "privacy": "protected",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "description": "Request a re-render of the grid.\r\nUses ROWS phase - does NOT trigger processColumns hooks.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "requestColumnsRender",
              "privacy": "protected",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "description": "Request a columns re-render of the grid.\r\nUses COLUMNS phase - triggers processColumns hooks.\r\nUse this when your plugin needs to reprocess column configuration.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "requestRenderWithFocus",
              "privacy": "protected",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "description": "Request a re-render and restore focus styling afterward.\r\nUse this when a plugin action (like expand/collapse) triggers a render\r\nbut needs to maintain keyboard navigation focus.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "requestAfterRender",
              "privacy": "protected",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "description": "Request a lightweight style update without rebuilding DOM.\r\nUse this instead of requestRender() when only CSS classes need updating.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "field",
              "name": "rows",
              "type": {
                "text": "any[]"
              },
              "privacy": "protected",
              "description": "Get the current rows from the grid.",
              "readonly": true,
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "field",
              "name": "sourceRows",
              "type": {
                "text": "any[]"
              },
              "privacy": "protected",
              "description": "Get the original unfiltered/unprocessed rows from the grid.\r\nUse this when you need all source data regardless of active filters.",
              "readonly": true,
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "field",
              "name": "columns",
              "type": {
                "text": "ColumnConfig[]"
              },
              "privacy": "protected",
              "description": "Get the current columns from the grid.",
              "readonly": true,
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "field",
              "name": "visibleColumns",
              "type": {
                "text": "ColumnConfig[]"
              },
              "privacy": "protected",
              "description": "Get only visible columns from the grid (excludes hidden).\r\nUse this for rendering that needs to match the grid template.",
              "readonly": true,
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "field",
              "name": "gridElement",
              "type": {
                "text": "HTMLElement"
              },
              "privacy": "protected",
              "description": "Get the grid as an HTMLElement for direct DOM operations.\r\nUse sparingly - prefer the typed GridElementRef API when possible.",
              "readonly": true,
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "field",
              "name": "disconnectSignal",
              "type": {
                "text": "AbortSignal"
              },
              "privacy": "protected",
              "description": "Get the disconnect signal for event listener cleanup.\r\nThis signal is aborted when the grid disconnects from the DOM.\r\nUse this when adding event listeners that should be cleaned up automatically.\r\n\r\nBest for:\r\n- Document/window-level listeners added in attach()\r\n- Listeners on the grid element itself\r\n- Any listener that should persist across renders\r\n\r\nNot needed for:\r\n- Listeners on elements created in afterRender() (removed with element)",
              "readonly": true,
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "field",
              "name": "gridIcons",
              "type": {
                "text": "typeof DEFAULT_GRID_ICONS"
              },
              "privacy": "protected",
              "description": "Get the grid-level icons configuration.\r\nReturns merged icons (user config + defaults).",
              "readonly": true,
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "field",
              "name": "isAnimationEnabled",
              "type": {
                "text": "boolean"
              },
              "privacy": "protected",
              "description": "Check if animations are enabled at the grid level.\r\nRespects gridConfig.animation.mode and the CSS variable set by the grid.\r\n\r\nPlugins should use this to skip animations when:\r\n- Animation mode is 'off' or `false`\r\n- User prefers reduced motion and mode is 'reduced-motion' (default)",
              "readonly": true,
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "field",
              "name": "animationDuration",
              "type": {
                "text": "number"
              },
              "privacy": "protected",
              "description": "Get the animation duration in milliseconds from CSS variable.\r\nFalls back to 200ms if not set.\r\n\r\nPlugins can use this for their animation timing to stay consistent\r\nwith the grid-level animation.duration setting.",
              "readonly": true,
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "resolveIcon",
              "privacy": "protected",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "iconKey",
                  "type": {
                    "text": "keyof typeof DEFAULT_GRID_ICONS"
                  },
                  "description": "The icon key in GridIcons (e.g., 'expand', 'collapse')"
                },
                {
                  "name": "pluginOverride",
                  "optional": true,
                  "type": {
                    "text": "IconValue"
                  },
                  "description": "Optional plugin-level override"
                }
              ],
              "description": "Resolve an icon value to string or HTMLElement.\r\nChecks plugin config first, then grid-level icons, then defaults.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "setIcon",
              "privacy": "protected",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "element",
                  "type": {
                    "text": "HTMLElement"
                  },
                  "description": "The element to set the icon on"
                },
                {
                  "name": "icon",
                  "type": {
                    "text": "IconValue"
                  },
                  "description": "The icon value (string or HTMLElement)"
                }
              ],
              "description": "Set an icon value on an element.\r\nHandles both string (text/HTML) and HTMLElement values.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "warn",
              "privacy": "protected",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "message",
                  "type": {
                    "text": "string"
                  }
                }
              ],
              "description": "Log a warning message.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "processRows",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "rows",
                  "type": {
                    "text": "readonly any[]"
                  },
                  "description": "The current rows array (readonly to encourage returning a new array)"
                }
              ],
              "description": "Transform rows before rendering.\r\nCalled during each render cycle before rows are rendered to the DOM.\r\nUse this to filter, sort, or add computed properties to rows.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "processColumns",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "columns",
                  "type": {
                    "text": "readonly ColumnConfig[]"
                  },
                  "description": "The current columns array (readonly to encourage returning a new array)"
                }
              ],
              "description": "Transform columns before rendering.\r\nCalled during each render cycle before column headers and cells are rendered.\r\nUse this to add, remove, or modify column definitions.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "beforeRender",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "description": "Called before each render cycle begins.\r\nUse this to prepare state or cache values needed during rendering.\r\n\r\n**Note:** This hook is currently a placeholder for future implementation.\r\nIt is defined in the interface but not yet invoked by the grid's render pipeline.\r\nIf you need this functionality, please open an issue or contribute an implementation.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "afterRender",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "description": "Called after each render cycle completes.\r\nUse this for DOM manipulation, adding event listeners to rendered elements,\r\nor applying visual effects like selection highlights.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "afterCellRender",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "context",
                  "type": {
                    "text": "AfterCellRenderContext"
                  },
                  "description": "The cell render context with row, column, value, and elements"
                }
              ],
              "description": "Called after each cell is rendered.\r\nThis hook is more efficient than `afterRender()` for cell-level modifications\r\nbecause you receive the cell context directly - no DOM queries needed.\r\n\r\nUse cases:\r\n- Adding selection/highlight classes to specific cells\r\n- Injecting badges or decorations\r\n- Applying conditional styling based on cell value\r\n\r\nPerformance note: Called for every visible cell during render. Keep implementation fast.\r\nThis hook is also called during scroll when cells are recycled.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "afterRowRender",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "context",
                  "type": {
                    "text": "AfterRowRenderContext"
                  },
                  "description": "The row render context with row data and element"
                }
              ],
              "description": "Called after a row is fully rendered (all cells complete).\r\nUse this for row-level decorations, styling, or ARIA attributes.\r\n\r\nCommon use cases:\r\n- Adding selection classes to entire rows (row-focus, selected)\r\n- Setting row-level ARIA attributes\r\n- Applying row validation highlighting\r\n- Tree indentation styling\r\n\r\nPerformance note: Called for every visible row during render. Keep implementation fast.\r\nThis hook is also called during scroll when rows are recycled.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "onScrollRender",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "description": "Called after scroll-triggered row rendering completes.\r\nThis is a lightweight hook for applying visual state to recycled DOM elements.\r\nUse this instead of afterRender when you need to reapply styling during scroll.\r\n\r\nPerformance note: This is called frequently during scroll. Keep implementation fast.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "getExtraHeight",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "description": "Return extra height contributed by this plugin (e.g., expanded detail rows).\r\nUsed to adjust scrollbar height calculations for virtualization.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "getExtraHeightBefore",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "beforeRowIndex",
                  "type": {
                    "text": "number"
                  },
                  "description": "The row index to calculate extra height before"
                }
              ],
              "description": "Return extra height that appears before a given row index.\r\nUsed by virtualization to correctly calculate scroll positions when\r\nthere's variable height content (like expanded detail rows) above the viewport.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "adjustVirtualStart",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "start",
                  "type": {
                    "text": "number"
                  },
                  "description": "The calculated start row index"
                },
                {
                  "name": "scrollTop",
                  "type": {
                    "text": "number"
                  },
                  "description": "The current scroll position"
                },
                {
                  "name": "rowHeight",
                  "type": {
                    "text": "number"
                  },
                  "description": "The height of a single row"
                }
              ],
              "description": "Adjust the virtualization start index to render additional rows before the visible range.\r\nUse this when expanded content (like detail rows) needs its parent row to remain rendered\r\neven when the parent row itself has scrolled above the viewport.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "renderRow",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "row",
                  "type": {
                    "text": "any"
                  },
                  "description": "The row data object"
                },
                {
                  "name": "rowEl",
                  "type": {
                    "text": "HTMLElement"
                  },
                  "description": "The row DOM element to render into"
                },
                {
                  "name": "rowIndex",
                  "type": {
                    "text": "number"
                  },
                  "description": "The index of the row in the data array"
                }
              ],
              "description": "Render a custom row, bypassing the default row rendering.\r\nUse this for special row types like group headers, detail rows, or footers.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "onPluginQuery",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "query",
                  "type": {
                    "text": "PluginQuery"
                  },
                  "description": "The query object with type and context"
                }
              ],
              "description": "Handle queries from other plugins.\r\nThis is the generic mechanism for inter-plugin communication.\r\nPlugins can respond to well-known query types or define their own.\r\n\r\n**Prefer `handleQuery` for new plugins** - it has the same signature but\r\na clearer name. `onPluginQuery` is kept for backwards compatibility.",
              "deprecated": "Use `handleQuery` instead for new plugins.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "handleQuery",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "query",
                  "type": {
                    "text": "PluginQuery"
                  },
                  "description": "The query object with type and context"
                }
              ],
              "description": "Handle queries from other plugins or the grid.\r\n\r\nQueries are declared in `manifest.queries` and dispatched via `grid.query()`.\r\nThis enables type-safe, discoverable inter-plugin communication.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "onKeyDown",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "event",
                  "type": {
                    "text": "KeyboardEvent"
                  },
                  "description": "The native KeyboardEvent"
                }
              ],
              "description": "Handle keyboard events on the grid.\r\nCalled when a key is pressed while the grid or a cell has focus.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "onCellClick",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "event",
                  "type": {
                    "text": "CellClickEvent"
                  },
                  "description": "Cell click event with row/column context"
                }
              ],
              "description": "Handle cell click events.\r\nCalled when a data cell is clicked (not headers).",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "onRowClick",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "event",
                  "type": {
                    "text": "RowClickEvent"
                  },
                  "description": "Row click event with row context"
                }
              ],
              "description": "Handle row click events.\r\nCalled when any part of a data row is clicked.\r\nNote: This is called in addition to onCellClick, not instead of.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "onHeaderClick",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "event",
                  "type": {
                    "text": "HeaderClickEvent"
                  },
                  "description": "Header click event with column context"
                }
              ],
              "description": "Handle header click events.\r\nCalled when a column header is clicked. Commonly used for sorting.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "onScroll",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "event",
                  "type": {
                    "text": "ScrollEvent"
                  },
                  "description": "Scroll event with scroll position and viewport dimensions"
                }
              ],
              "description": "Handle scroll events on the grid viewport.\r\nCalled during scrolling. Note: This may be called frequently; debounce if needed.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "onCellMouseDown",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "event",
                  "type": {
                    "text": "CellMouseEvent"
                  },
                  "description": "Mouse event with cell context"
                }
              ],
              "description": "Handle cell mousedown events.\r\nUsed for initiating drag operations like range selection or column resize.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "onCellMouseMove",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "event",
                  "type": {
                    "text": "CellMouseEvent"
                  },
                  "description": "Mouse event with current cell context"
                }
              ],
              "description": "Handle cell mousemove events during drag operations.\r\nOnly called when a drag is in progress (after mousedown returned true).",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "onCellMouseUp",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "event",
                  "type": {
                    "text": "CellMouseEvent"
                  },
                  "description": "Mouse event with final cell context"
                }
              ],
              "description": "Handle cell mouseup events to end drag operations.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "getColumnState",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "field",
                  "type": {
                    "text": "string"
                  },
                  "description": "The field name of the column"
                }
              ],
              "description": "Contribute plugin-specific state for a column.\r\nCalled by the grid when collecting column state for serialization.\r\nPlugins can add their own properties to the column state.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "applyColumnState",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "field",
                  "type": {
                    "text": "string"
                  },
                  "description": "The field name of the column"
                },
                {
                  "name": "state",
                  "type": {
                    "text": "ColumnState"
                  },
                  "description": "The column state to apply (may contain plugin-specific properties)"
                }
              ],
              "description": "Apply plugin-specific state to a column.\r\nCalled by the grid when restoring column state from serialized data.\r\nPlugins should restore their internal state based on the provided state.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "getHorizontalScrollOffsets",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "parameters": [
                {
                  "name": "rowEl",
                  "optional": true,
                  "type": {
                    "text": "HTMLElement"
                  },
                  "description": "The row element (optional, for calculating widths from rendered cells)"
                },
                {
                  "name": "focusedCell",
                  "optional": true,
                  "type": {
                    "text": "HTMLElement"
                  },
                  "description": "The currently focused cell element (optional, to determine if scrolling should be skipped)"
                }
              ],
              "description": "Report horizontal scroll boundary offsets for this plugin.\r\nPlugins that obscure part of the scroll area (e.g., pinned/sticky columns)\r\nshould return how much space they occupy on each side.\r\nThe keyboard navigation uses this to ensure focused cells are fully visible.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "getToolPanel",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "description": "Register a tool panel for this plugin.\r\nReturn undefined if plugin has no tool panel.\r\nThe shell will create a toolbar toggle button and render the panel content\r\nwhen the user opens the panel.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            },
            {
              "kind": "method",
              "name": "getHeaderContent",
              "return": {
                "type": {
                  "text": ""
                }
              },
              "description": "Register content for the shell header center section.\r\nReturn undefined if plugin has no header content.\r\nExamples: search input, selection summary, status indicators.",
              "inheritedFrom": {
                "name": "BaseGridPlugin",
                "module": "src/lib/core/plugin/base-plugin.ts"
              }
            }
          ],
          "superclass": {
            "name": "BaseGridPlugin",
            "module": "/src/lib/core/plugin/base-plugin"
          }
        }
      ],
      "exports": [
        {
          "kind": "js",
          "name": "SelectionPlugin",
          "declaration": {
            "name": "SelectionPlugin",
            "module": "src/lib/plugins/selection/SelectionPlugin.ts"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/selection/types.ts",
      "declarations": [],
      "exports": []
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/undo-redo/history.ts",
      "declarations": [
        {
          "kind": "function",
          "name": "pushAction",
          "return": {
            "type": {
              "text": ""
            }
          },
          "parameters": [
            {
              "name": "state",
              "type": {
                "text": "UndoRedoState"
              },
              "description": "Current undo/redo state"
            },
            {
              "name": "action",
              "type": {
                "text": "EditAction"
              },
              "description": "The action to add"
            },
            {
              "name": "maxSize",
              "type": {
                "text": "number"
              },
              "description": "Maximum history size"
            }
          ],
          "description": "Push a new action onto the undo stack.\r\nClears the redo stack since new actions invalidate redo history."
        },
        {
          "kind": "function",
          "name": "undo",
          "return": {
            "type": {
              "text": ""
            }
          },
          "parameters": [
            {
              "name": "state",
              "type": {
                "text": "UndoRedoState"
              },
              "description": "Current undo/redo state"
            }
          ],
          "description": "Undo the most recent action.\r\nMoves the action from undo stack to redo stack."
        },
        {
          "kind": "function",
          "name": "redo",
          "return": {
            "type": {
              "text": ""
            }
          },
          "parameters": [
            {
              "name": "state",
              "type": {
                "text": "UndoRedoState"
              },
              "description": "Current undo/redo state"
            }
          ],
          "description": "Redo the most recently undone action.\r\nMoves the action from redo stack back to undo stack."
        },
        {
          "kind": "function",
          "name": "canUndo",
          "return": {
            "type": {
              "text": ""
            }
          },
          "parameters": [
            {
              "name": "state",
              "type": {
                "text": "UndoRedoState"
              },
              "description": "Current undo/redo state"
            }
          ],
          "description": "Check if there are any actions that can be undone."
        },
        {
          "kind": "function",
          "name": "canRedo",
          "return": {
            "type": {
              "text": ""
            }
          },
          "parameters": [
            {
              "name": "state",
              "type": {
                "text": "UndoRedoState"
              },
              "description": "Current undo/redo state"
            }
          ],
          "description": "Check if there are any actions that can be redone."
        },
        {
          "kind": "function",
          "name": "clearHistory",
          "return": {
            "type": {
              "text": ""
            }
          },
          "description": "Clear all history, returning an empty state."
        },
        {
          "kind": "function",
          "name": "createEditAction",
          "return": {
            "type": {
              "text": ""
            }
          },
          "parameters": [
            {
              "name": "rowIndex",
              "type": {
                "text": "number"
              },
              "description": "The row index where the edit occurred"
            },
            {
              "name": "field",
              "type": {
                "text": "string"
              },
              "description": "The field (column key) that was edited"
            },
            {
              "name": "oldValue",
              "type": {
                "text": "unknown"
              },
              "description": "The value before the edit"
            },
            {
              "name": "newValue",
              "type": {
                "text": "unknown"
              },
              "description": "The value after the edit"
            }
          ],
          "description": "Create a new edit action with the current timestamp."
        }
      ],
      "exports": [
        {
          "kind": "js",
          "name": "pushAction",
          "declaration": {
            "name": "pushAction",
            "module": "src/lib/plugins/undo-redo/history.ts"
          }
        },
        {
          "kind": "js",
          "name": "undo",
          "declaration": {
            "name": "undo",
            "module": "src/lib/plugins/undo-redo/history.ts"
          }
        },
        {
          "kind": "js",
          "name": "redo",
          "declaration": {
            "name": "redo",
            "module": "src/lib/plugins/undo-redo/history.ts"
          }
        },
        {
          "kind": "js",
          "name": "canUndo",
          "declaration": {
            "name": "canUndo",
            "module": "src/lib/plugins/undo-redo/history.ts"
          }
        },
        {
          "kind": "js",
          "name": "canRedo",
          "declaration": {
            "name": "canRedo",
            "module": "src/lib/plugins/undo-redo/history.ts"
          }
        },
        {
          "kind": "js",
          "name": "clearHistory",
          "declaration": {
            "name": "clearHistory",
            "module": "src/lib/plugins/undo-redo/history.ts"
          }
        },
        {
          "kind": "js",
          "name": "createEditAction",
          "declaration": {
            "name": "createEditAction",
            "module": "src/lib/plugins/undo-redo/history.ts"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/undo-redo/index.ts",
      "declarations": [],
      "exports": [
        {
          "kind": "js",
          "name": "EditAction",
          "declaration": {
            "name": "EditAction",
            "module": "./types"
          }
        },
        {
          "kind": "js",
          "name": "UndoRedoConfig",
          "declaration": {
            "name": "UndoRedoConfig",
            "module": "./types"
          }
        },
        {
          "kind": "js",
          "name": "UndoRedoDetail",
          "declaration": {
            "name": "UndoRedoDetail",
            "module": "./types"
          }
        },
        {
          "kind": "js",
          "name": "UndoRedoPlugin",
          "declaration": {
            "name": "UndoRedoPlugin",
            "module": "./UndoRedoPlugin"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/undo-redo/types.ts",
      "declarations": [],
      "exports": []
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/undo-redo/undo-redo.spec.ts",
      "declarations": [],
      "exports": []
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/undo-redo/undo-redo.stories.ts",
      "declarations": [
        {
          "kind": "variable",
          "name": "meta",
          "type": {
            "text": "Meta"
          },
          "default": "{ title: 'Grid/Plugins/Undo-Redo', tags: ['!dev'], parameters: { layout: 'fullscreen' }, argTypes: { maxHistorySize: { control: { type: 'range', min: 10, max: 200, step: 10 }, description: 'Maximum actions in history', table: { category: 'Undo/Redo', defaultValue: { summary: '100' } }, }, }, args: { maxHistorySize: 100, }, }"
        },
        {
          "kind": "variable",
          "name": "Default",
          "type": {
            "text": "Story"
          },
          "default": "{ parameters: { docs: { source: { code: ` <!-- HTML --> <tbw-grid style=\"height: 350px;\"></tbw-grid> <script type=\"module\"> import '@toolbox-web/grid'; import { queryGrid } from '@toolbox-web/grid'; import { EditingPlugin } from '@toolbox-web/grid/plugins/editing'; import { UndoRedoPlugin } from '@toolbox-web/grid/plugins/undo-redo'; const grid = queryGrid('tbw-grid'); grid.gridConfig = { columns: [ { field: 'id', header: 'ID', type: 'number' }, { field: 'name', header: 'Name', editable: true }, { field: 'quantity', header: 'Quantity', type: 'number', editable: true }, { field: 'price', header: 'Price', type: 'number', editable: true }, ], plugins: [ new EditingPlugin(), new UndoRedoPlugin({ maxHistorySize: 100, }), ], }; grid.rows = [ { id: 1, name: 'Widget A', quantity: 10, price: 25.99 }, { id: 2, name: 'Widget B', quantity: 5, price: 49.99 }, { id: 3, name: 'Widget C', quantity: 20, price: 15.00 }, ]; // Double-click to edit, Ctrl+Z to undo, Ctrl+Y to redo </script> `, language: 'html', }, }, }, render: (args: UndoRedoArgs) => { const grid = document.createElement('tbw-grid') as GridElement; grid.style.height = '350px'; grid.gridConfig = { columns, plugins: [ new EditingPlugin(), new UndoRedoPlugin({ maxHistorySize: args.maxHistorySize, }), ], }; grid.rows = [...sampleData]; return grid; }, }",
          "description": "Double-click to edit cells, then use Ctrl+Z to undo and Ctrl+Y to redo."
        },
        {
          "kind": "variable",
          "name": "LimitedHistory",
          "type": {
            "text": "Story"
          },
          "default": "{ parameters: { docs: { source: { code: ` <!-- HTML --> <tbw-grid style=\"height: 350px;\"></tbw-grid> <script type=\"module\"> import '@toolbox-web/grid'; import { queryGrid } from '@toolbox-web/grid'; import { EditingPlugin } from '@toolbox-web/grid/plugins/editing'; import { UndoRedoPlugin } from '@toolbox-web/grid/plugins/undo-redo'; const grid = queryGrid('tbw-grid'); grid.gridConfig = { columns: [ { field: 'id', header: 'ID', type: 'number' }, { field: 'name', header: 'Name', editable: true }, { field: 'quantity', header: 'Quantity', type: 'number', editable: true }, { field: 'price', header: 'Price', type: 'number', editable: true }, ], plugins: [ new EditingPlugin(), new UndoRedoPlugin({ maxHistorySize: 20, // Limit history to 20 actions }), ], }; grid.rows = [ { id: 1, name: 'Widget A', quantity: 10, price: 25.99 }, { id: 2, name: 'Widget B', quantity: 5, price: 49.99 }, { id: 3, name: 'Widget C', quantity: 20, price: 15.00 }, ]; </script> `, language: 'html', }, }, }, args: { maxHistorySize: 20, }, render: (args: UndoRedoArgs) => { const grid = document.createElement('tbw-grid') as GridElement; grid.style.height = '350px'; grid.gridConfig = { columns, plugins: [ new EditingPlugin(), new UndoRedoPlugin({ maxHistorySize: args.maxHistorySize, }), ], }; grid.rows = [...sampleData]; return grid; }, }",
          "description": "Limited history (20 actions max)."
        }
      ],
      "exports": [
        {
          "kind": "js",
          "name": "default",
          "declaration": {
            "name": "meta",
            "module": "src/lib/plugins/undo-redo/undo-redo.stories.ts"
          }
        },
        {
          "kind": "js",
          "name": "Default",
          "declaration": {
            "name": "Default",
            "module": "src/lib/plugins/undo-redo/undo-redo.stories.ts"
          }
        },
        {
          "kind": "js",
          "name": "LimitedHistory",
          "declaration": {
            "name": "LimitedHistory",
            "module": "src/lib/plugins/undo-redo/undo-redo.stories.ts"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/undo-redo/UndoRedoPlugin.ts",
      "declarations": [],
      "exports": []
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/server-side/cache.ts",
      "declarations": [
        {
          "kind": "class",
          "description": "",
          "name": "BlockCache",
          "members": [
            {
              "kind": "field",
              "name": "cache",
              "type": {
                "text": "Map<number, T>"
              },
              "privacy": "private",
              "default": "new Map()"
            },
            {
              "kind": "field",
              "name": "accessOrder",
              "type": {
                "text": "number[]"
              },
              "privacy": "private",
              "default": "[]"
            },
            {
              "kind": "method",
              "name": "get",
              "return": {
                "type": {
                  "text": "T | undefined"
                }
              },
              "parameters": [
                {
                  "name": "key",
                  "type": {
                    "text": "number"
                  }
                }
              ]
            },
            {
              "kind": "method",
              "name": "set",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "key",
                  "type": {
                    "text": "number"
                  }
                },
                {
                  "name": "value",
                  "type": {
                    "text": "T"
                  }
                }
              ]
            },
            {
              "kind": "method",
              "name": "has",
              "return": {
                "type": {
                  "text": "boolean"
                }
              },
              "parameters": [
                {
                  "name": "key",
                  "type": {
                    "text": "number"
                  }
                }
              ]
            },
            {
              "kind": "method",
              "name": "clear",
              "return": {
                "type": {
                  "text": "void"
                }
              }
            },
            {
              "kind": "field",
              "name": "size",
              "type": {
                "text": "number"
              },
              "readonly": true
            },
            {
              "kind": "method",
              "name": "touch",
              "privacy": "private",
              "return": {
                "type": {
                  "text": "void"
                }
              },
              "parameters": [
                {
                  "name": "key",
                  "type": {
                    "text": "number"
                  }
                }
              ]
            },
            {
              "kind": "method",
              "name": "evict",
              "privacy": "private",
              "return": {
                "type": {
                  "text": "void"
                }
              }
            }
          ]
        }
      ],
      "exports": [
        {
          "kind": "js",
          "name": "BlockCache",
          "declaration": {
            "name": "BlockCache",
            "module": "src/lib/plugins/server-side/cache.ts"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/server-side/datasource.ts",
      "declarations": [
        {
          "kind": "function",
          "name": "getBlockNumber",
          "return": {
            "type": {
              "text": "number"
            }
          },
          "parameters": [
            {
              "name": "rowIndex",
              "type": {
                "text": "number"
              }
            },
            {
              "name": "blockSize",
              "type": {
                "text": "number"
              }
            }
          ]
        },
        {
          "kind": "function",
          "name": "getBlockRange",
          "return": {
            "type": {
              "text": "{ start: number; end: number }"
            }
          },
          "parameters": [
            {
              "name": "blockNumber",
              "type": {
                "text": "number"
              }
            },
            {
              "name": "blockSize",
              "type": {
                "text": "number"
              }
            }
          ]
        },
        {
          "kind": "function",
          "name": "getRequiredBlocks",
          "return": {
            "type": {
              "text": "number[]"
            }
          },
          "parameters": [
            {
              "name": "startRow",
              "type": {
                "text": "number"
              }
            },
            {
              "name": "endRow",
              "type": {
                "text": "number"
              }
            },
            {
              "name": "blockSize",
              "type": {
                "text": "number"
              }
            }
          ]
        },
        {
          "kind": "function",
          "name": "loadBlock",
          "return": {
            "type": {
              "text": "Promise<GetRowsResult>"
            }
          },
          "parameters": [
            {
              "name": "dataSource",
              "type": {
                "text": "ServerSideDataSource"
              }
            },
            {
              "name": "blockNumber",
              "type": {
                "text": "number"
              }
            },
            {
              "name": "blockSize",
              "type": {
                "text": "number"
              }
            },
            {
              "name": "params",
              "type": {
                "text": "Partial<GetRowsParams>"
              }
            }
          ]
        },
        {
          "kind": "function",
          "name": "getRowFromCache",
          "return": {
            "type": {
              "text": "any | undefined"
            }
          },
          "parameters": [
            {
              "name": "rowIndex",
              "type": {
                "text": "number"
              }
            },
            {
              "name": "blockSize",
              "type": {
                "text": "number"
              }
            },
            {
              "name": "loadedBlocks",
              "type": {
                "text": "Map<number, any[]>"
              }
            }
          ]
        },
        {
          "kind": "function",
          "name": "isBlockLoaded",
          "return": {
            "type": {
              "text": "boolean"
            }
          },
          "parameters": [
            {
              "name": "blockNumber",
              "type": {
                "text": "number"
              }
            },
            {
              "name": "loadedBlocks",
              "type": {
                "text": "Map<number, any[]>"
              }
            }
          ]
        },
        {
          "kind": "function",
          "name": "isBlockLoading",
          "return": {
            "type": {
              "text": "boolean"
            }
          },
          "parameters": [
            {
              "name": "blockNumber",
              "type": {
                "text": "number"
              }
            },
            {
              "name": "loadingBlocks",
              "type": {
                "text": "Set<number>"
              }
            }
          ]
        }
      ],
      "exports": [
        {
          "kind": "js",
          "name": "getBlockNumber",
          "declaration": {
            "name": "getBlockNumber",
            "module": "src/lib/plugins/server-side/datasource.ts"
          }
        },
        {
          "kind": "js",
          "name": "getBlockRange",
          "declaration": {
            "name": "getBlockRange",
            "module": "src/lib/plugins/server-side/datasource.ts"
          }
        },
        {
          "kind": "js",
          "name": "getRequiredBlocks",
          "declaration": {
            "name": "getRequiredBlocks",
            "module": "src/lib/plugins/server-side/datasource.ts"
          }
        },
        {
          "kind": "js",
          "name": "loadBlock",
          "declaration": {
            "name": "loadBlock",
            "module": "src/lib/plugins/server-side/datasource.ts"
          }
        },
        {
          "kind": "js",
          "name": "getRowFromCache",
          "declaration": {
            "name": "getRowFromCache",
            "module": "src/lib/plugins/server-side/datasource.ts"
          }
        },
        {
          "kind": "js",
          "name": "isBlockLoaded",
          "declaration": {
            "name": "isBlockLoaded",
            "module": "src/lib/plugins/server-side/datasource.ts"
          }
        },
        {
          "kind": "js",
          "name": "isBlockLoading",
          "declaration": {
            "name": "isBlockLoading",
            "module": "src/lib/plugins/server-side/datasource.ts"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/server-side/index.ts",
      "declarations": [],
      "exports": [
        {
          "kind": "js",
          "name": "ServerSidePlugin",
          "declaration": {
            "name": "ServerSidePlugin",
            "module": "./ServerSidePlugin"
          }
        },
        {
          "kind": "js",
          "name": "GetRowsParams",
          "declaration": {
            "name": "GetRowsParams",
            "module": "./types"
          }
        },
        {
          "kind": "js",
          "name": "GetRowsResult",
          "declaration": {
            "name": "GetRowsResult",
            "module": "./types"
          }
        },
        {
          "kind": "js",
          "name": "ServerSideConfig",
          "declaration": {
            "name": "ServerSideConfig",
            "module": "./types"
          }
        },
        {
          "kind": "js",
          "name": "ServerSideDataSource",
          "declaration": {
            "name": "ServerSideDataSource",
            "module": "./types"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/server-side/server-side.spec.ts",
      "declarations": [],
      "exports": []
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/server-side/server-side.stories.ts",
      "declarations": [
        {
          "kind": "variable",
          "name": "meta",
          "type": {
            "text": "Meta"
          },
          "default": "{ title: 'Grid/Plugins/Server-Side', tags: ['!dev'], parameters: { layout: 'fullscreen' }, argTypes: { pageSize: { control: { type: 'range', min: 10, max: 100, step: 10 }, description: 'Rows per block/page', table: { category: 'Server-Side', defaultValue: { summary: '50' } }, }, }, args: { pageSize: 50, }, }"
        },
        {
          "kind": "variable",
          "name": "Default",
          "type": {
            "text": "Story"
          },
          "default": "{ parameters: { docs: { source: { code: ` <!-- HTML --> <tbw-grid style=\"height: 400px;\"></tbw-grid> <script type=\"module\"> import '@toolbox-web/grid'; import { queryGrid } from '@toolbox-web/grid'; import { ServerSidePlugin } from '@toolbox-web/grid/plugins/server-side'; import { PinnedRowsPlugin } from '@toolbox-web/grid/plugins/pinned-rows'; const grid = queryGrid('tbw-grid'); const plugin = new ServerSidePlugin({ pageSize: 50, cacheBlockSize: 50, }); grid.gridConfig = { columns: [ { field: 'id', header: 'ID', type: 'number', sortable: true }, { field: 'name', header: 'Name', sortable: true }, { field: 'department', header: 'Department', sortable: true }, { field: 'salary', header: 'Salary', type: 'number', sortable: true }, { field: 'email', header: 'Email' }, ], plugins: [ plugin, // Optional: shows scroll info in footer new PinnedRowsPlugin({ position: 'bottom', showRowCount: true, customPanels: [ { id: 'scroll-info', position: 'right', render: () => '<em>Scroll to load more rows...</em>' }, ], }), ], }; // Set data source after grid is ready grid.ready().then(() => { plugin.setDataSource({ async getRows(params) { // Simulate network delay await new Promise(r => setTimeout(r, 200)); const response = await fetch(\\`/api/data?start=\\${params.startRow}&end=\\${params.endRow}\\`); const { rows, totalRowCount } = await response.json(); return { rows, totalRowCount }; }, }); }); </script> `, language: 'html', }, }, }, render: (args: ServerSideArgs) => { const grid = document.createElement('tbw-grid') as GridElement; grid.style.height = '400px'; const allData = generateMockData(10000); const createDataSource = (): ServerSideDataSource => ({ async getRows(params: GetRowsParams): Promise<GetRowsResult> { await new Promise((r) => setTimeout(r, 200)); const data = [...allData]; if (params.sortModel?.length) { const { field, direction } = params.sortModel[0]; data.sort((a: Record<string, unknown>, b: Record<string, unknown>) => { const aVal = a[field]; const bVal = b[field]; const cmp = aVal < bVal ? -1 : aVal > bVal ? 1 : 0; return direction === 'asc' ? cmp : -cmp; }); } const rows = data.slice(params.startRow, params.endRow); return { rows, totalRowCount: data.length }; }, }); const plugin = new ServerSidePlugin({ pageSize: args.pageSize, cacheBlockSize: args.pageSize, }); grid.gridConfig = { columns, plugins: [ plugin, new PinnedRowsPlugin({ position: 'bottom', showRowCount: true, customPanels: [ { id: 'scroll-info', position: 'right', render: () => '<em>Scroll to load more rows...</em>', }, ], }), ], }; grid.ready().then(() => { plugin.setDataSource(createDataSource()); }); return grid; }, }",
          "description": "Virtual scroll with lazy loading. Scroll down to fetch more rows automatically.\r\nThis demo simulates 10,000 rows with a 200ms network delay."
        },
        {
          "kind": "variable",
          "name": "PagingMode",
          "type": {
            "text": "Story"
          },
          "default": "{ parameters: { docs: { source: { code: ` <!-- HTML --> <div> <div style=\"padding: 8px; display: flex; gap: 8px; align-items: center;\"> <button class=\"prev\" style=\"padding: 4px 8px;\">← Prev</button> <span class=\"page-info\">Page 1</span> <button class=\"next\" style=\"padding: 4px 8px;\">Next →</button> </div> <tbw-grid style=\"height: 350px;\"></tbw-grid> </div> <script type=\"module\"> import '@toolbox-web/grid'; import { queryGrid } from '@toolbox-web/grid'; const grid = queryGrid('tbw-grid'); const pageSize = 50; let currentPage = 0; let totalPages = 10; // Assume 500 total rows const loadPage = async (page) => { currentPage = page; const response = await fetch(\\`/api/data?page=\\${page}&size=\\${pageSize}\\`); const { rows, totalRowCount } = await response.json(); grid.rows = rows; totalPages = Math.ceil(totalRowCount / pageSize); // Update UI document.querySelector('.page-info').textContent = \\`Page \\${page + 1} of \\${totalPages}\\`; document.querySelector('.prev').disabled = page === 0; document.querySelector('.next').disabled = page >= totalPages - 1; }; grid.gridConfig = { columns: [ { field: 'id', header: 'ID', type: 'number', sortable: true }, { field: 'name', header: 'Name', sortable: true }, { field: 'department', header: 'Department', sortable: true }, { field: 'salary', header: 'Salary', type: 'number', sortable: true }, { field: 'email', header: 'Email' }, ], }; // Wire up pagination buttons document.querySelector('.prev').addEventListener('click', () => loadPage(currentPage - 1)); document.querySelector('.next').addEventListener('click', () => loadPage(currentPage + 1)); // Load first page loadPage(0); </script> `, language: 'html', }, }, }, render: (args: ServerSideArgs) => { const container = document.createElement('div'); const pager = document.createElement('div'); pager.style.cssText = 'padding: 8px; display: flex; gap: 8px; align-items: center;'; pager.innerHTML = ` <button class=\"prev\" style=\"padding: 4px 8px;\">← Prev</button> <span class=\"page-info\">Page 1</span> <button class=\"next\" style=\"padding: 4px 8px;\">Next →</button> `; container.appendChild(pager); const grid = document.createElement('tbw-grid') as GridElement; grid.style.height = '350px'; container.appendChild(grid); const allData = generateMockData(500); const pageSize = args.pageSize; let currentPage = 0; const totalPages = Math.ceil(allData.length / pageSize); const loadPage = (page: number) => { currentPage = page; const start = page * pageSize; grid.rows = allData.slice(start, start + pageSize); const pageInfo = pager.querySelector('.page-info') as HTMLElement; pageInfo.textContent = `Page ${page + 1} of ${totalPages}`; (pager.querySelector('.prev') as HTMLButtonElement).disabled = page === 0; (pager.querySelector('.next') as HTMLButtonElement).disabled = page >= totalPages - 1; }; pager.querySelector('.prev')?.addEventListener('click', () => loadPage(currentPage - 1)); pager.querySelector('.next')?.addEventListener('click', () => loadPage(currentPage + 1)); grid.gridConfig = { columns }; loadPage(0); return container; }, }",
          "description": "Paging mode with manual page navigation."
        },
        {
          "kind": "variable",
          "name": "ServerSideSorting",
          "type": {
            "text": "Story"
          },
          "default": "{ parameters: { docs: { source: { code: ` <!-- HTML --> <tbw-grid style=\"height: 400px;\"></tbw-grid> <script type=\"module\"> import '@toolbox-web/grid'; import { queryGrid } from '@toolbox-web/grid'; const grid = queryGrid('tbw-grid'); // Simulated server data const serverData = generateMockData(1000); grid.gridConfig = { columns: [ { field: 'id', header: 'ID', type: 'number', sortable: true }, { field: 'name', header: 'Name', sortable: true }, { field: 'department', header: 'Department', sortable: true }, { field: 'salary', header: 'Salary', type: 'number', sortable: true }, { field: 'email', header: 'Email' }, ], // Async sort handler - fetches sorted data from server sortHandler: async (rows, sortState, columns) => { console.log('Server-side sort:', sortState); // Show loading state (optional) grid.setAttribute('aria-busy', 'true'); try { // Simulate API call with network delay await new Promise(r => setTimeout(r, 300)); // In real apps, you'd call your API: // const response = await fetch(\\`/api/data?sort=\\${sortState.field}&dir=\\${sortState.direction}\\`); // return response.json(); // Simulated server-side sort const sorted = [...serverData].sort((a, b) => { const aVal = a[sortState.field]; const bVal = b[sortState.field]; const cmp = aVal < bVal ? -1 : aVal > bVal ? 1 : 0; return cmp * sortState.direction; }); return sorted; } finally { grid.removeAttribute('aria-busy'); } }, }; // Set initial data grid.rows = serverData; </script> `, language: 'html', }, }, }, render: () => { const grid = document.createElement('tbw-grid') as GridElement; grid.style.height = '400px'; const serverData = generateMockData(1000); grid.gridConfig = { columns, sortHandler: async (rows, sortState) => { // Show loading indicator grid.setAttribute('aria-busy', 'true'); try { // Simulate server delay await new Promise((r) => setTimeout(r, 300)); // Server-side sort simulation const sorted = [...serverData].sort((a, b) => { const aVal = (a as Record<string, unknown>)[sortState.field]; const bVal = (b as Record<string, unknown>)[sortState.field]; const cmp = aVal! < bVal! ? -1 : aVal! > bVal! ? 1 : 0; return cmp * sortState.direction; }); return sorted; } finally { grid.removeAttribute('aria-busy'); } }, }; grid.rows = serverData; return grid; }, }",
          "description": "Server-side sorting using the async sortHandler.\r\n\r\nWhen a column header is clicked, the grid calls the custom `sortHandler`\r\nwhich fetches pre-sorted data from the server instead of sorting locally.\r\nThis is ideal for large datasets where sorting should happen on the backend."
        }
      ],
      "exports": [
        {
          "kind": "js",
          "name": "default",
          "declaration": {
            "name": "meta",
            "module": "src/lib/plugins/server-side/server-side.stories.ts"
          }
        },
        {
          "kind": "js",
          "name": "Default",
          "declaration": {
            "name": "Default",
            "module": "src/lib/plugins/server-side/server-side.stories.ts"
          }
        },
        {
          "kind": "js",
          "name": "PagingMode",
          "declaration": {
            "name": "PagingMode",
            "module": "src/lib/plugins/server-side/server-side.stories.ts"
          }
        },
        {
          "kind": "js",
          "name": "ServerSideSorting",
          "declaration": {
            "name": "ServerSideSorting",
            "module": "src/lib/plugins/server-side/server-side.stories.ts"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/server-side/ServerSidePlugin.ts",
      "declarations": [],
      "exports": []
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/server-side/types.ts",
      "declarations": [],
      "exports": []
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/visibility/index.ts",
      "declarations": [],
      "exports": [
        {
          "kind": "js",
          "name": "ColumnVisibilityDetail",
          "declaration": {
            "name": "ColumnVisibilityDetail",
            "module": "./types"
          }
        },
        {
          "kind": "js",
          "name": "VisibilityConfig",
          "declaration": {
            "name": "VisibilityConfig",
            "module": "./types"
          }
        },
        {
          "kind": "js",
          "name": "VisibilityPlugin",
          "declaration": {
            "name": "VisibilityPlugin",
            "module": "./VisibilityPlugin"
          }
        },
        {
          "kind": "js",
          "name": "ColumnReorderRequestDetail",
          "declaration": {
            "name": "ColumnReorderRequestDetail",
            "module": "./VisibilityPlugin"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/visibility/types.ts",
      "declarations": [],
      "exports": []
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/visibility/visibility.spec.ts",
      "declarations": [],
      "exports": []
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/visibility/visibility.stories.ts",
      "declarations": [
        {
          "kind": "variable",
          "name": "meta",
          "type": {
            "text": "Meta"
          },
          "default": "{ title: 'Grid/Plugins/Visibility', tags: ['!dev'], parameters: { layout: 'fullscreen' }, }"
        },
        {
          "kind": "variable",
          "name": "Default",
          "type": {
            "text": "Story"
          },
          "default": "{ parameters: { docs: { source: { code: ` <!-- HTML --> <tbw-grid style=\"height: 400px;\"></tbw-grid> <script type=\"module\"> import '@toolbox-web/grid'; import { queryGrid } from '@toolbox-web/grid'; import { VisibilityPlugin } from '@toolbox-web/grid/plugins/visibility'; const grid = queryGrid('tbw-grid'); grid.gridConfig = { columns: [ { field: 'id', header: 'ID', type: 'number', lockVisible: true }, { field: 'name', header: 'Name' }, { field: 'email', header: 'Email', hidden: true }, // Hidden by default { field: 'department', header: 'Department' }, { field: 'salary', header: 'Salary', type: 'number' }, ], plugins: [new VisibilityPlugin()], }; grid.rows = [ { id: 1, name: 'Alice', email: 'alice@example.com', department: 'Engineering', salary: 95000 }, { id: 2, name: 'Bob', email: 'bob@example.com', department: 'Marketing', salary: 75000 }, { id: 3, name: 'Carol', email: 'carol@example.com', department: 'Engineering', salary: 105000 }, { id: 4, name: 'David', email: 'david@example.com', department: 'Sales', salary: 65000 }, { id: 5, name: 'Eve', email: 'eve@example.com', department: 'HR', salary: 70000 }, ]; </script> `, language: 'html', }, }, }, render: () => { const grid = document.createElement('tbw-grid') as GridElement; grid.style.height = '400px'; grid.gridConfig = { columns: [ { field: 'id', header: 'ID', type: 'number', lockVisible: true }, { field: 'name', header: 'Name' }, { field: 'email', header: 'Email', hidden: true }, { field: 'department', header: 'Department' }, { field: 'salary', header: 'Salary', type: 'number' }, ], plugins: [new VisibilityPlugin()], }; grid.rows = [ { id: 1, name: 'Alice', email: 'alice@example.com', department: 'Engineering', salary: 95000 }, { id: 2, name: 'Bob', email: 'bob@example.com', department: 'Marketing', salary: 75000 }, { id: 3, name: 'Carol', email: 'carol@example.com', department: 'Engineering', salary: 105000 }, { id: 4, name: 'David', email: 'david@example.com', department: 'Sales', salary: 65000 }, { id: 5, name: 'Eve', email: 'eve@example.com', department: 'HR', salary: 70000 }, ]; return grid; }, }",
          "description": "Click the ☰ button in the top-right corner to open the visibility panel.\r\nToggle checkboxes to show/hide columns."
        },
        {
          "kind": "variable",
          "name": "LockedColumns",
          "type": {
            "text": "Story"
          },
          "default": "{ parameters: { docs: { source: { code: ` <!-- HTML --> <tbw-grid style=\"height: 400px;\"></tbw-grid> <script type=\"module\"> import '@toolbox-web/grid'; import { queryGrid } from '@toolbox-web/grid'; import { VisibilityPlugin } from '@toolbox-web/grid/plugins/visibility'; const grid = queryGrid('tbw-grid'); grid.gridConfig = { columns: [ { field: 'id', header: 'ID', type: 'number', lockVisible: true }, { field: 'name', header: 'Name', lockVisible: true }, { field: 'email', header: 'Email' }, { field: 'department', header: 'Department' }, { field: 'salary', header: 'Salary', type: 'number' }, ], plugins: [new VisibilityPlugin()], }; grid.rows = [ { id: 1, name: 'Alice', email: 'alice@example.com', department: 'Engineering', salary: 95000 }, { id: 2, name: 'Bob', email: 'bob@example.com', department: 'Marketing', salary: 75000 }, { id: 3, name: 'Carol', email: 'carol@example.com', department: 'Engineering', salary: 105000 }, ]; </script> `, language: 'html', }, }, }, render: () => { const grid = document.createElement('tbw-grid') as GridElement; grid.style.height = '400px'; grid.gridConfig = { columns: [ { field: 'id', header: 'ID', type: 'number', lockVisible: true }, { field: 'name', header: 'Name', lockVisible: true }, { field: 'email', header: 'Email' }, { field: 'department', header: 'Department' }, { field: 'salary', header: 'Salary', type: 'number' }, ], plugins: [new VisibilityPlugin()], }; grid.rows = [ { id: 1, name: 'Alice', email: 'alice@example.com', department: 'Engineering', salary: 95000 }, { id: 2, name: 'Bob', email: 'bob@example.com', department: 'Marketing', salary: 75000 }, { id: 3, name: 'Carol', email: 'carol@example.com', department: 'Engineering', salary: 105000 }, ]; return grid; }, }",
          "description": "Some columns cannot be hidden using `lockVisible: true`."
        },
        {
          "kind": "variable",
          "name": "InitiallyHidden",
          "type": {
            "text": "Story"
          },
          "default": "{ parameters: { docs: { source: { code: ` <!-- HTML --> <tbw-grid style=\"height: 400px;\"></tbw-grid> <script type=\"module\"> import '@toolbox-web/grid'; import { queryGrid } from '@toolbox-web/grid'; import { VisibilityPlugin } from '@toolbox-web/grid/plugins/visibility'; const grid = queryGrid('tbw-grid'); grid.gridConfig = { columns: [ { field: 'id', header: 'ID', type: 'number' }, { field: 'name', header: 'Name' }, { field: 'email', header: 'Email', hidden: true }, { field: 'phone', header: 'Phone', hidden: true }, { field: 'department', header: 'Department' }, ], plugins: [new VisibilityPlugin()], }; grid.rows = [ { id: 1, name: 'Alice', email: 'alice@example.com', phone: '555-0101', department: 'Engineering' }, { id: 2, name: 'Bob', email: 'bob@example.com', phone: '555-0102', department: 'Marketing' }, { id: 3, name: 'Carol', email: 'carol@example.com', phone: '555-0103', department: 'Engineering' }, ]; </script> `, language: 'html', }, }, }, render: () => { const grid = document.createElement('tbw-grid') as GridElement; grid.style.height = '400px'; grid.gridConfig = { columns: [ { field: 'id', header: 'ID', type: 'number' }, { field: 'name', header: 'Name' }, { field: 'email', header: 'Email', hidden: true }, { field: 'phone', header: 'Phone', hidden: true }, { field: 'department', header: 'Department' }, ], plugins: [new VisibilityPlugin()], }; grid.rows = [ { id: 1, name: 'Alice', email: 'alice@example.com', phone: '555-0101', department: 'Engineering' }, { id: 2, name: 'Bob', email: 'bob@example.com', phone: '555-0102', department: 'Marketing' }, { id: 3, name: 'Carol', email: 'carol@example.com', phone: '555-0103', department: 'Engineering' }, ]; return grid; }, }",
          "description": "Columns hidden by default using `hidden: true`."
        }
      ],
      "exports": [
        {
          "kind": "js",
          "name": "default",
          "declaration": {
            "name": "meta",
            "module": "src/lib/plugins/visibility/visibility.stories.ts"
          }
        },
        {
          "kind": "js",
          "name": "Default",
          "declaration": {
            "name": "Default",
            "module": "src/lib/plugins/visibility/visibility.stories.ts"
          }
        },
        {
          "kind": "js",
          "name": "LockedColumns",
          "declaration": {
            "name": "LockedColumns",
            "module": "src/lib/plugins/visibility/visibility.stories.ts"
          }
        },
        {
          "kind": "js",
          "name": "InitiallyHidden",
          "declaration": {
            "name": "InitiallyHidden",
            "module": "src/lib/plugins/visibility/visibility.stories.ts"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/visibility/visibility.ts",
      "declarations": [
        {
          "kind": "function",
          "name": "filterVisibleColumns",
          "return": {
            "type": {
              "text": ""
            }
          },
          "parameters": [
            {
              "name": "columns",
              "type": {
                "text": "ColumnConfig<TRow>[]"
              },
              "description": "Array of column configurations"
            },
            {
              "name": "hidden",
              "type": {
                "text": "Set<string>"
              },
              "description": "Set of hidden field names"
            }
          ],
          "description": "Filter columns to only include visible ones."
        },
        {
          "kind": "function",
          "name": "canHideColumn",
          "return": {
            "type": {
              "text": ""
            }
          },
          "parameters": [
            {
              "name": "columns",
              "type": {
                "text": "ColumnConfig<TRow>[]"
              },
              "description": "All column configurations"
            },
            {
              "name": "field",
              "type": {
                "text": "string"
              },
              "description": "Field to check"
            },
            {
              "name": "hidden",
              "type": {
                "text": "Set<string>"
              },
              "description": "Currently hidden field names"
            },
            {
              "name": "allowHideAll",
              "type": {
                "text": "boolean"
              },
              "description": "Whether hiding all columns is allowed"
            }
          ],
          "description": "Check if a column can be hidden.\r\nRespects lockVisible property and allowHideAll setting."
        },
        {
          "kind": "function",
          "name": "toggleColumnVisibility",
          "return": {
            "type": {
              "text": ""
            }
          },
          "parameters": [
            {
              "name": "hidden",
              "type": {
                "text": "Set<string>"
              },
              "description": "Current set of hidden field names"
            },
            {
              "name": "field",
              "type": {
                "text": "string"
              },
              "description": "Field to toggle"
            },
            {
              "name": "visible",
              "optional": true,
              "type": {
                "text": "boolean"
              },
              "description": "Explicit visibility state (undefined = toggle)"
            }
          ],
          "description": "Toggle column visibility state."
        }
      ],
      "exports": [
        {
          "kind": "js",
          "name": "filterVisibleColumns",
          "declaration": {
            "name": "filterVisibleColumns",
            "module": "src/lib/plugins/visibility/visibility.ts"
          }
        },
        {
          "kind": "js",
          "name": "canHideColumn",
          "declaration": {
            "name": "canHideColumn",
            "module": "src/lib/plugins/visibility/visibility.ts"
          }
        },
        {
          "kind": "js",
          "name": "toggleColumnVisibility",
          "declaration": {
            "name": "toggleColumnVisibility",
            "module": "src/lib/plugins/visibility/visibility.ts"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/visibility/VisibilityPlugin.ts",
      "declarations": [],
      "exports": []
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/tree/index.ts",
      "declarations": [],
      "exports": [
        {
          "kind": "js",
          "name": "TreePlugin",
          "declaration": {
            "name": "TreePlugin",
            "module": "./TreePlugin"
          }
        },
        {
          "kind": "js",
          "name": "TreeConfig",
          "declaration": {
            "name": "TreeConfig",
            "module": "./types"
          }
        },
        {
          "kind": "js",
          "name": "TreeExpandDetail",
          "declaration": {
            "name": "TreeExpandDetail",
            "module": "./types"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/tree/tree-data.ts",
      "declarations": [
        {
          "kind": "function",
          "name": "generateRowKey",
          "return": {
            "type": {
              "text": "string"
            }
          },
          "parameters": [
            {
              "name": "row",
              "type": {
                "text": "TreeRow"
              }
            },
            {
              "name": "index",
              "type": {
                "text": "number"
              }
            },
            {
              "name": "parentKey",
              "type": {
                "text": "string | null"
              }
            }
          ],
          "description": "Generates a unique key for a row.\r\nUses row.id if available, otherwise generates from path."
        },
        {
          "kind": "function",
          "name": "flattenTree",
          "return": {
            "type": {
              "text": "FlattenedTreeRow[]"
            }
          },
          "parameters": [
            {
              "name": "rows",
              "type": {
                "text": "readonly TreeRow[]"
              }
            },
            {
              "name": "config",
              "type": {
                "text": "TreeConfig"
              }
            },
            {
              "name": "expandedKeys",
              "type": {
                "text": "Set<string>"
              }
            },
            {
              "name": "parentKey",
              "default": "null",
              "type": {
                "text": "string | null"
              }
            },
            {
              "name": "depth",
              "default": "0"
            }
          ],
          "description": "Flattens a hierarchical tree into a flat array of rows with metadata.\r\nOnly includes children of expanded nodes."
        },
        {
          "kind": "function",
          "name": "toggleExpand",
          "return": {
            "type": {
              "text": "Set<string>"
            }
          },
          "parameters": [
            {
              "name": "expandedKeys",
              "type": {
                "text": "Set<string>"
              }
            },
            {
              "name": "key",
              "type": {
                "text": "string"
              }
            }
          ],
          "description": "Toggles the expansion state of a row.\r\nReturns a new Set with the toggled state."
        },
        {
          "kind": "function",
          "name": "expandAll",
          "return": {
            "type": {
              "text": "Set<string>"
            }
          },
          "parameters": [
            {
              "name": "rows",
              "type": {
                "text": "readonly TreeRow[]"
              }
            },
            {
              "name": "config",
              "type": {
                "text": "TreeConfig"
              }
            },
            {
              "name": "parentKey",
              "default": "null",
              "type": {
                "text": "string | null"
              }
            },
            {
              "name": "depth",
              "default": "0"
            }
          ],
          "description": "Expands all nodes in the tree.\r\nReturns a Set of all parent row keys."
        },
        {
          "kind": "function",
          "name": "collapseAll",
          "return": {
            "type": {
              "text": "Set<string>"
            }
          },
          "description": "Collapses all nodes.\r\nReturns an empty Set."
        },
        {
          "kind": "function",
          "name": "getDescendants",
          "return": {
            "type": {
              "text": "FlattenedTreeRow[]"
            }
          },
          "parameters": [
            {
              "name": "flattenedRows",
              "type": {
                "text": "FlattenedTreeRow[]"
              }
            },
            {
              "name": "parentKey",
              "type": {
                "text": "string"
              }
            }
          ],
          "description": "Gets all descendants of a node from the flattened row list.\r\nUseful for operations that need to affect an entire subtree."
        },
        {
          "kind": "function",
          "name": "getPathToKey",
          "return": {
            "type": {
              "text": "string[] | null"
            }
          },
          "parameters": [
            {
              "name": "rows",
              "type": {
                "text": "readonly TreeRow[]"
              }
            },
            {
              "name": "targetKey",
              "type": {
                "text": "string"
              }
            },
            {
              "name": "config",
              "type": {
                "text": "TreeConfig"
              }
            },
            {
              "name": "parentKey",
              "default": "null",
              "type": {
                "text": "string | null"
              }
            },
            {
              "name": "depth",
              "default": "0"
            }
          ],
          "description": "Finds the path from root to a specific row key.\r\nReturns an array of keys from root to the target (inclusive)."
        },
        {
          "kind": "function",
          "name": "expandToKey",
          "return": {
            "type": {
              "text": "Set<string>"
            }
          },
          "parameters": [
            {
              "name": "rows",
              "type": {
                "text": "readonly TreeRow[]"
              }
            },
            {
              "name": "targetKey",
              "type": {
                "text": "string"
              }
            },
            {
              "name": "config",
              "type": {
                "text": "TreeConfig"
              }
            },
            {
              "name": "existingExpanded",
              "type": {
                "text": "Set<string>"
              }
            }
          ],
          "description": "Expands all ancestors of a specific row to make it visible.\r\nReturns a new Set with the required keys added."
        }
      ],
      "exports": [
        {
          "kind": "js",
          "name": "generateRowKey",
          "declaration": {
            "name": "generateRowKey",
            "module": "src/lib/plugins/tree/tree-data.ts"
          }
        },
        {
          "kind": "js",
          "name": "flattenTree",
          "declaration": {
            "name": "flattenTree",
            "module": "src/lib/plugins/tree/tree-data.ts"
          }
        },
        {
          "kind": "js",
          "name": "toggleExpand",
          "declaration": {
            "name": "toggleExpand",
            "module": "src/lib/plugins/tree/tree-data.ts"
          }
        },
        {
          "kind": "js",
          "name": "expandAll",
          "declaration": {
            "name": "expandAll",
            "module": "src/lib/plugins/tree/tree-data.ts"
          }
        },
        {
          "kind": "js",
          "name": "collapseAll",
          "declaration": {
            "name": "collapseAll",
            "module": "src/lib/plugins/tree/tree-data.ts"
          }
        },
        {
          "kind": "js",
          "name": "getDescendants",
          "declaration": {
            "name": "getDescendants",
            "module": "src/lib/plugins/tree/tree-data.ts"
          }
        },
        {
          "kind": "js",
          "name": "getPathToKey",
          "declaration": {
            "name": "getPathToKey",
            "module": "src/lib/plugins/tree/tree-data.ts"
          }
        },
        {
          "kind": "js",
          "name": "expandToKey",
          "declaration": {
            "name": "expandToKey",
            "module": "src/lib/plugins/tree/tree-data.ts"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/tree/tree-detect.ts",
      "declarations": [
        {
          "kind": "function",
          "name": "detectTreeStructure",
          "return": {
            "type": {
              "text": "boolean"
            }
          },
          "parameters": [
            {
              "name": "rows",
              "type": {
                "text": "readonly TreeRow[]"
              }
            },
            {
              "name": "childrenField",
              "default": "'children'"
            }
          ],
          "description": "Detects if the data has a tree structure by checking for children arrays."
        },
        {
          "kind": "function",
          "name": "inferChildrenField",
          "return": {
            "type": {
              "text": "string | null"
            }
          },
          "parameters": [
            {
              "name": "rows",
              "type": {
                "text": "readonly TreeRow[]"
              }
            }
          ],
          "description": "Attempts to infer the children field name from common patterns.\r\nReturns the first field that contains an array with items."
        },
        {
          "kind": "function",
          "name": "getMaxDepth",
          "return": {
            "type": {
              "text": "number"
            }
          },
          "parameters": [
            {
              "name": "rows",
              "type": {
                "text": "readonly TreeRow[]"
              }
            },
            {
              "name": "childrenField",
              "default": "'children'"
            },
            {
              "name": "currentDepth",
              "default": "0"
            }
          ],
          "description": "Calculates the maximum depth of the tree.\r\nUseful for layout calculations and virtualization."
        },
        {
          "kind": "function",
          "name": "countNodes",
          "return": {
            "type": {
              "text": "number"
            }
          },
          "parameters": [
            {
              "name": "rows",
              "type": {
                "text": "readonly TreeRow[]"
              }
            },
            {
              "name": "childrenField",
              "default": "'children'"
            }
          ],
          "description": "Counts total nodes in the tree (including all descendants)."
        }
      ],
      "exports": [
        {
          "kind": "js",
          "name": "detectTreeStructure",
          "declaration": {
            "name": "detectTreeStructure",
            "module": "src/lib/plugins/tree/tree-detect.ts"
          }
        },
        {
          "kind": "js",
          "name": "inferChildrenField",
          "declaration": {
            "name": "inferChildrenField",
            "module": "src/lib/plugins/tree/tree-detect.ts"
          }
        },
        {
          "kind": "js",
          "name": "getMaxDepth",
          "declaration": {
            "name": "getMaxDepth",
            "module": "src/lib/plugins/tree/tree-detect.ts"
          }
        },
        {
          "kind": "js",
          "name": "countNodes",
          "declaration": {
            "name": "countNodes",
            "module": "src/lib/plugins/tree/tree-detect.ts"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/tree/tree-integration.spec.ts",
      "declarations": [],
      "exports": []
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/tree/tree.spec.ts",
      "declarations": [],
      "exports": []
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/tree/tree.stories.ts",
      "declarations": [
        {
          "kind": "variable",
          "name": "meta",
          "type": {
            "text": "Meta"
          },
          "default": "{ title: 'Grid/Plugins/Tree', tags: ['!dev'], parameters: { layout: 'fullscreen' }, argTypes: { animation: { control: { type: 'select' }, options: [false, 'slide', 'fade'], description: 'Animation style for expand/collapse', table: { category: 'Tree', defaultValue: { summary: \"'slide'\" } }, }, defaultExpanded: { control: { type: 'boolean' }, description: 'Whether nodes are expanded by default', table: { category: 'Tree', defaultValue: { summary: 'false' } }, }, indentWidth: { control: { type: 'range', min: 0, max: 40, step: 5 }, description: 'Indentation width per level in pixels', table: { category: 'Tree', defaultValue: { summary: '20' } }, }, }, args: { animation: 'slide' as const, defaultExpanded: false, indentWidth: 20, }, }"
        },
        {
          "kind": "variable",
          "name": "Default",
          "type": {
            "text": "Story"
          },
          "default": "{ parameters: { docs: { source: { code: ` <!-- HTML --> <tbw-grid style=\"height: 400px;\"></tbw-grid> <script type=\"module\"> import '@toolbox-web/grid'; import { queryGrid } from '@toolbox-web/grid'; import { TreePlugin } from '@toolbox-web/grid/plugins/tree'; const grid = queryGrid('tbw-grid'); grid.gridConfig = { columns: [ { field: 'name', header: 'Name' }, { field: 'type', header: 'Type' }, { field: 'size', header: 'Size' }, ], plugins: [ new TreePlugin({ childrenField: 'children', defaultExpanded: false, indentWidth: 20, showExpandIcons: true, }), ], }; grid.rows = [ { name: 'Documents', type: 'folder', size: '-', children: [ { name: 'Resume.pdf', type: 'file', size: '2.4 MB' }, { name: 'Cover Letter.docx', type: 'file', size: '156 KB' }, { name: 'Projects', type: 'folder', size: '-', children: [ { name: 'Project A', type: 'folder', size: '-', children: [{ name: 'notes.txt', type: 'file', size: '12 KB' }] }, { name: 'Project B', type: 'folder', size: '-' }, ], }, ], }, { name: 'Pictures', type: 'folder', size: '-', children: [ { name: 'vacation.jpg', type: 'file', size: '4.2 MB' }, { name: 'family.png', type: 'file', size: '3.1 MB' }, ], }, { name: 'readme.md', type: 'file', size: '1 KB' }, ]; </script> `, language: 'html', }, }, }, render: (args: TreeArgs) => { const grid = document.createElement('tbw-grid') as GridElement; grid.style.height = '400px'; grid.gridConfig = { columns, plugins: [ new TreePlugin({ animation: args.animation, childrenField: 'children', defaultExpanded: args.defaultExpanded, indentWidth: args.indentWidth, showExpandIcons: true, }), ], }; grid.rows = fileSystemData; return grid; }, }",
          "description": "Display hierarchical data with expand/collapse functionality.\r\nClick the ▶ icon to expand a folder and see its children."
        },
        {
          "kind": "variable",
          "name": "ExpandedByDefault",
          "type": {
            "text": "Story"
          },
          "default": "{ parameters: { docs: { source: { code: ` <!-- HTML --> <tbw-grid style=\"height: 400px;\"></tbw-grid> <script type=\"module\"> import '@toolbox-web/grid'; import { queryGrid } from '@toolbox-web/grid'; import { TreePlugin } from '@toolbox-web/grid/plugins/tree'; const grid = queryGrid('tbw-grid'); grid.gridConfig = { columns: [ { field: 'name', header: 'Name' }, { field: 'type', header: 'Type' }, { field: 'size', header: 'Size' }, ], plugins: [ new TreePlugin({ childrenField: 'children', defaultExpanded: true, // All nodes expanded }), ], }; grid.rows = [ { name: 'Documents', type: 'folder', size: '-', children: [ { name: 'Resume.pdf', type: 'file', size: '2.4 MB' }, // ... nested children ]}, { name: 'Pictures', type: 'folder', size: '-', children: [ { name: 'vacation.jpg', type: 'file', size: '4.2 MB' }, ]}, { name: 'readme.md', type: 'file', size: '1 KB' }, ]; </script> `, language: 'html', }, }, }, args: { defaultExpanded: true, indentWidth: 20, }, render: (args: TreeArgs) => { const grid = document.createElement('tbw-grid') as GridElement; grid.style.height = '400px'; grid.gridConfig = { columns, plugins: [ new TreePlugin({ childrenField: 'children', defaultExpanded: args.defaultExpanded, indentWidth: args.indentWidth, showExpandIcons: true, }), ], }; grid.rows = fileSystemData; return grid; }, }",
          "description": "All nodes expanded by default."
        },
        {
          "kind": "variable",
          "name": "WideIndentation",
          "type": {
            "text": "Story"
          },
          "default": "{ parameters: { docs: { source: { code: ` <!-- HTML --> <tbw-grid style=\"height: 400px;\"></tbw-grid> <script type=\"module\"> import '@toolbox-web/grid'; import { queryGrid } from '@toolbox-web/grid'; import { TreePlugin } from '@toolbox-web/grid/plugins/tree'; const grid = queryGrid('tbw-grid'); grid.gridConfig = { columns: [...], plugins: [ new TreePlugin({ childrenField: 'children', indentWidth: 40, // Wider indentation }), ], }; grid.rows = [...]; </script> `, language: 'html', }, }, }, args: { defaultExpanded: true, indentWidth: 40, }, render: (args: TreeArgs) => { const grid = document.createElement('tbw-grid') as GridElement; grid.style.height = '400px'; grid.gridConfig = { columns, plugins: [ new TreePlugin({ childrenField: 'children', defaultExpanded: args.defaultExpanded, indentWidth: args.indentWidth, showExpandIcons: true, }), ], }; grid.rows = fileSystemData; return grid; }, }",
          "description": "Wider indentation for deeper nesting visibility."
        }
      ],
      "exports": [
        {
          "kind": "js",
          "name": "default",
          "declaration": {
            "name": "meta",
            "module": "src/lib/plugins/tree/tree.stories.ts"
          }
        },
        {
          "kind": "js",
          "name": "Default",
          "declaration": {
            "name": "Default",
            "module": "src/lib/plugins/tree/tree.stories.ts"
          }
        },
        {
          "kind": "js",
          "name": "ExpandedByDefault",
          "declaration": {
            "name": "ExpandedByDefault",
            "module": "src/lib/plugins/tree/tree.stories.ts"
          }
        },
        {
          "kind": "js",
          "name": "WideIndentation",
          "declaration": {
            "name": "WideIndentation",
            "module": "src/lib/plugins/tree/tree.stories.ts"
          }
        }
      ]
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/tree/TreePlugin.ts",
      "declarations": [],
      "exports": []
    },
    {
      "kind": "javascript-module",
      "path": "src/lib/plugins/tree/types.ts",
      "declarations": [],
      "exports": [
        {
          "kind": "js",
          "name": "ExpandCollapseAnimation",
          "declaration": {
            "name": "ExpandCollapseAnimation",
            "module": "../../core/types"
          }
        }
      ]
    }
  ]
}
