import { Meta, Canvas, Controls } from '@storybook/addon-docs/blocks';
import * as ReorderStories from './reorder.stories';

<Meta of={ReorderStories} />

# Column Reorder Plugin

The Reorder plugin enables drag-and-drop column reordering.

## Installation

```ts
import { ReorderPlugin } from '@toolbox-web/grid/plugins/reorder';
```

## Basic Usage

```ts
const grid = document.querySelector('tbw-grid');
grid.gridConfig = {
  columns: [...],
  plugins: [new ReorderPlugin()],
};
```

## Demos

### Default Reorder

Drag column headers to reorder them. Use the controls below to experiment with different animation types and durations.

<Canvas of={ReorderStories.Default} withToolbar />
<Controls of={ReorderStories.Default} />

## Configuration Options

| Option              | Type                        | Default  | Description                                                               |
| ------------------- | --------------------------- | -------- | ------------------------------------------------------------------------- |
| `animation`         | `false \| 'flip' \| 'fade'` | `'flip'` | Animation type: `false` (instant), `'flip'` (slide), `'fade'` (crossfade) |
| `animationDuration` | `number`                    | `200`    | Animation duration in ms (applies to FLIP animation)                      |

### Animation Examples

```ts
// No animation - instant reorder
new ReorderPlugin({ animation: false });

// FLIP animation with custom duration
new ReorderPlugin({ animation: 'flip', animationDuration: 300 });

// View Transitions API fade effect
new ReorderPlugin({ animation: 'fade' });
```

## Events

| Event         | Detail                          | Description  |
| ------------- | ------------------------------- | ------------ |
| `column-move` | `{ field, fromIndex, toIndex }` | Column moved |

## Keyboard Support

| Key       | Action                    |
| --------- | ------------------------- |
| `Alt + ←` | Move focused column left  |
| `Alt + →` | Move focused column right |
