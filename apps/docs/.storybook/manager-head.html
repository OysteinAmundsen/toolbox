<!-- Primary Meta Tags -->
<title>Toolbox Grid - High-Performance JavaScript DataGrid Component</title>
<meta name="title" content="Toolbox Grid - High-Performance JavaScript DataGrid Component" />
<meta
  name="description"
  content="A framework-agnostic, high-performance data grid web component for JavaScript, React, Angular, and Vue. Zero dependencies, 100k+ rows, virtualized rendering."
/>
<meta
  name="keywords"
  content="datagrid, data grid, javascript datagrid, react datagrid, angular datagrid, vue datagrid, svelte datagrid, web component, typescript grid, data table, virtualized grid, high performance grid, tbw-grid, toolbox grid, react data grid, angular data grid, react table component, angular table component, grid-react, grid-angular"
/>
<meta name="author" content="Øystein Amundsen" />
<meta name="robots" content="index, follow" />

<!-- Favicon and Icons -->
<link rel="icon" type="image/svg+xml" href="./favicon.svg" />
<link rel="apple-touch-icon" href="./logo.png" />
<link rel="manifest" href="./manifest.json" />

<!-- AI / LLM Documentation -->
<link
  rel="alternate"
  type="text/plain"
  href="https://raw.githubusercontent.com/OysteinAmundsen/toolbox/main/llms.txt"
  title="LLM-optimized documentation (summary)"
/>
<link
  rel="alternate"
  type="text/plain"
  href="https://raw.githubusercontent.com/OysteinAmundsen/toolbox/main/llms-full.txt"
  title="LLM-optimized documentation (full)"
/>

<!-- Open Graph / Facebook -->
<meta property="og:type" content="website" />
<meta property="og:url" content="https://toolboxjs.com/" />
<meta property="og:title" content="Toolbox Grid - High-Performance JavaScript DataGrid Component" />
<meta
  property="og:description"
  content="A framework-agnostic, high-performance data grid web component for JavaScript, React, Angular, and Vue. Zero dependencies, virtualized rendering for 100k+ rows."
/>
<meta property="og:image" content="https://toolboxjs.com/grid_logo.png" />
<meta property="og:image:alt" content="Toolbox Grid - JavaScript DataGrid Component" />
<meta property="og:site_name" content="Toolbox Grid Documentation" />
<meta property="og:locale" content="en_US" />

<!-- Twitter -->
<meta property="twitter:card" content="summary_large_image" />
<meta property="twitter:url" content="https://toolboxjs.com/" />
<meta property="twitter:title" content="Toolbox Grid - High-Performance JavaScript DataGrid Component" />
<meta
  property="twitter:description"
  content="Framework-agnostic data grid for JavaScript, React, Angular & Vue. Zero dependencies, 100k+ rows, virtualized rendering."
/>
<meta property="twitter:image" content="https://toolboxjs.com/grid_logo.png" />
<meta property="twitter:image:alt" content="Toolbox Grid - JavaScript DataGrid Component" />

<!-- Additional SEO -->
<meta name="theme-color" content="#0969da" />
<meta name="mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="default" />
<meta name="apple-mobile-web-app-title" content="Toolbox Grid" />

<!-- Structured Data (JSON-LD) for Rich Snippets -->
<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "SoftwareApplication",
    "name": "Toolbox Grid",
    "alternateName": ["@toolbox-web/grid", "tbw-grid", "toolboxjs grid"],
    "applicationCategory": "DeveloperApplication",
    "operatingSystem": "Any",
    "offers": {
      "@type": "Offer",
      "price": "0",
      "priceCurrency": "USD"
    },
    "description": "A high-performance, framework-agnostic data grid web component built with pure TypeScript. Works with JavaScript, React, Angular, Vue, and Svelte.",
    "url": "https://toolboxjs.com/",
    "downloadUrl": "https://www.npmjs.com/package/@toolbox-web/grid",
    "softwareVersion": "0.4.0",
    "author": {
      "@type": "Person",
      "name": "Øystein Amundsen",
      "url": "https://github.com/OysteinAmundsen"
    },
    "publisher": {
      "@type": "Organization",
      "name": "Toolbox Web",
      "url": "https://github.com/OysteinAmundsen/toolbox"
    },
    "license": "https://opensource.org/licenses/MIT",
    "funding": [
      {
        "@type": "MonetaryGrant",
        "url": "https://github.com/sponsors/OysteinAmundsen",
        "name": "GitHub Sponsors"
      },
      {
        "@type": "MonetaryGrant",
        "url": "https://www.patreon.com/c/OysteinAmundsen",
        "name": "Patreon"
      }
    ],
    "programmingLanguage": ["TypeScript", "JavaScript"],
    "runtimePlatform": ["Browser", "Node.js"],
    "keywords": [
      "datagrid",
      "data grid",
      "javascript datagrid",
      "react datagrid",
      "angular datagrid",
      "vue datagrid",
      "svelte datagrid",
      "web component",
      "typescript grid",
      "data table",
      "virtualized grid",
      "high performance grid"
    ],
    "featureList": [
      "Virtualized rendering for 100k+ rows",
      "Framework agnostic (vanilla JS, React, Angular, Vue, Svelte)",
      "Full keyboard navigation",
      "Column sorting, filtering, grouping",
      "Inline editing",
      "Plugin architecture",
      "CSS theming",
      "Zero dependencies"
    ]
  }
</script>

<!-- Organization Schema -->
<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Organization",
    "name": "Toolbox Web",
    "url": "https://toolboxjs.com",
    "logo": "https://toolboxjs.com/logo.png",
    "sameAs": [
      "https://github.com/OysteinAmundsen/toolbox",
      "https://www.npmjs.com/package/@toolbox-web/grid",
      "https://www.npmjs.com/package/@toolbox-web/grid-react",
      "https://www.npmjs.com/package/@toolbox-web/grid-angular",
      "https://github.com/sponsors/OysteinAmundsen",
      "https://www.patreon.com/c/OysteinAmundsen"
    ]
  }
</script>

<!-- React Adapter Schema -->
<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "SoftwareApplication",
    "name": "Toolbox Grid React",
    "alternateName": ["@toolbox-web/grid-react", "react datagrid", "react data grid"],
    "applicationCategory": "DeveloperApplication",
    "operatingSystem": "Any",
    "offers": {
      "@type": "Offer",
      "price": "0",
      "priceCurrency": "USD"
    },
    "description": "React adapter for Toolbox Grid. Use the high-performance DataGrid component with React hooks, JSX renderers, and full TypeScript support.",
    "url": "https://toolboxjs.com/?path=/docs/grid-react--docs",
    "downloadUrl": "https://www.npmjs.com/package/@toolbox-web/grid-react",
    "license": "https://opensource.org/licenses/MIT",
    "programmingLanguage": ["TypeScript", "JavaScript", "React", "JSX"],
    "keywords": ["react datagrid", "react data grid", "react table", "react grid component", "react data table"]
  }
</script>

<!-- Angular Adapter Schema -->
<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "SoftwareApplication",
    "name": "Toolbox Grid Angular",
    "alternateName": ["@toolbox-web/grid-angular", "angular datagrid", "angular data grid"],
    "applicationCategory": "DeveloperApplication",
    "operatingSystem": "Any",
    "offers": {
      "@type": "Offer",
      "price": "0",
      "priceCurrency": "USD"
    },
    "description": "Angular adapter for Toolbox Grid. Use template-driven column renderers and editors with Angular directives and full TypeScript support.",
    "url": "https://toolboxjs.com/?path=/docs/grid-angular--docs",
    "downloadUrl": "https://www.npmjs.com/package/@toolbox-web/grid-angular",
    "license": "https://opensource.org/licenses/MIT",
    "programmingLanguage": ["TypeScript", "Angular"],
    "keywords": [
      "angular datagrid",
      "angular data grid",
      "angular table",
      "angular grid component",
      "angular data table",
      "ng grid"
    ]
  }
</script>

<!-- WebSite Schema for Sitelinks Search -->
<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebSite",
    "name": "Toolbox Grid Documentation",
    "url": "https://toolboxjs.com/",
    "description": "Documentation and demos for the Toolbox Grid web component library",
    "potentialAction": {
      "@type": "SearchAction",
      "target": {
        "@type": "EntryPoint",
        "urlTemplate": "https://toolboxjs.com/?path=/docs/{search_term_string}"
      },
      "query-input": "required name=search_term_string"
    }
  }
</script>

<!-- Preconnect to external resources -->
<link rel="preconnect" href="https://fonts.googleapis.com" />
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
<link rel="dns-prefetch" href="https://www.npmjs.com" />
<link rel="dns-prefetch" href="https://github.com" />

<!-- Pagefind enhanced search (loads from build-generated assets) -->
<link rel="stylesheet" href="./pagefind/pagefind-ui.css" onerror="this.remove()" />
<script src="./pagefind/pagefind-ui.js" defer onerror="this.remove()"></script>
<script>
  // Enhanced Pagefind search integration for Storybook
  // Intercepts the default search bar and provides full-text search across MDX content
  document.addEventListener('DOMContentLoaded', () => {
    // Only initialize if Pagefind UI loaded successfully
    if (typeof PagefindUI === 'undefined') return;

    // Create overlay DOM
    const overlay = document.createElement('div');
    overlay.className = 'pf-search-overlay';
    overlay.innerHTML = `
      <div class="pf-search-container">
        <div id="pagefind-search"></div>
        <div class="pf-search-close-hint"><kbd>Esc</kbd> to close</div>
      </div>
    `;
    document.body.appendChild(overlay);

    // Initialize Pagefind UI
    const pf = new PagefindUI({
      element: '#pagefind-search',
      showSubResults: true,
      showImages: false,
      excerptLength: 20,
      resetStyles: false,
    });

    // Inject breadcrumb subtitles after Pagefind renders results.
    // Pagefind sanitizes meta.title so we can't inject HTML via processResult.
    const injectBreadcrumbs = () => {
      overlay.querySelectorAll('.pagefind-ui__result-tag[data-pagefind-ui-meta="breadcrumb"]').forEach((tag) => {
        const result = tag.closest('.pagefind-ui__result');
        if (!result || result.querySelector('.pf-breadcrumb')) return;
        const titleEl = result.querySelector('.pagefind-ui__result-title');
        if (!titleEl) return;
        const raw = tag.textContent?.replace(/^Breadcrumb:\s*/i, '').trim();
        if (!raw) return;
        const crumb = raw.replace(/\s*>\s*/g, ' › ');
        const span = document.createElement('span');
        span.className = 'pf-breadcrumb';
        span.textContent = crumb;
        titleEl.appendChild(span);
      });
    };

    // Observe the results area for new results being rendered
    const resultsObserver = new MutationObserver(() => injectBreadcrumbs());
    const searchEl = document.getElementById('pagefind-search');
    if (searchEl) {
      resultsObserver.observe(searchEl, { childList: true, subtree: true });
    }

    /** @returns {HTMLInputElement|null} */
    const getPfInput = () => overlay.querySelector('.pagefind-ui__search-input');

    // Close overlay
    const closeOverlay = () => {
      overlay.classList.remove('open');
    };

    /**
     * Open the Pagefind overlay. Optionally seed the search input with text.
     * @param {string} [seedText] - Text to pre-fill in the search input
     */
    const openOverlay = (seedText) => {
      overlay.classList.add('open');
      requestAnimationFrame(() => {
        const input = getPfInput();
        if (!input) return;
        if (seedText && !input.value) {
          // Seed the Pagefind input with whatever was typed into Storybook's search
          input.value = seedText;
          input.dispatchEvent(new Event('input', { bubbles: true }));
        }
        input.focus();
      });
    };

    // Close on backdrop click
    overlay.addEventListener('click', (e) => {
      if (e.target === overlay) closeOverlay();
    });

    // Close on Escape
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape' && overlay.classList.contains('open')) {
        e.preventDefault();
        e.stopPropagation();
        closeOverlay();
      }
    });

    // Navigate to result on click
    overlay.addEventListener('click', (e) => {
      const link = e.target.closest?.('.pagefind-ui__result-link');
      if (!link) return;

      e.preventDefault();
      const href = link.getAttribute('href');
      if (href) {
        // href is like "?path=/docs/grid-core--core#heading"
        const url = new URL(href, window.location.origin);
        const storyPath = url.searchParams.get('path') || url.search.replace('?', '');
        const hash = url.hash;

        if (storyPath) {
          window.location.search = `?path=${storyPath}`;
          if (hash) {
            setTimeout(() => {
              const iframe = document.querySelector('#storybook-preview-iframe');
              if (iframe?.contentDocument) {
                const anchor = iframe.contentDocument.querySelector(hash);
                if (anchor) anchor.scrollIntoView({ behavior: 'smooth' });
              }
            }, 1500);
          }
        }
        closeOverlay();
      }
    });

    // Ctrl+K / Cmd+K shortcut
    document.addEventListener('keydown', (e) => {
      if ((e.ctrlKey || e.metaKey) && e.key === 'k') {
        e.preventDefault();
        e.stopPropagation();
        overlay.classList.contains('open') ? closeOverlay() : openOverlay();
      }
    });

    // ---- Inject search button into Storybook toolbar ----
    // Place a compact search trigger between the left toolbar group
    // (theme toggle + theme chooser) and the right group (fullscreen + editor).

    const isMac = navigator.platform?.includes('Mac');
    const shortcutLabel = isMac ? '⌘K' : 'Ctrl+K';

    const createSearchButton = () => {
      const btn = document.createElement('button');
      btn.className = 'pf-toolbar-search';
      btn.type = 'button';
      btn.setAttribute('aria-label', 'Search documentation');
      btn.innerHTML = `<svg width="14" height="14" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 18 18"><circle cx="8" cy="8" r="5.5"/><line x1="12.5" y1="12.5" x2="16" y2="16"/></svg>Search<kbd>${shortcutLabel}</kbd>`;
      btn.addEventListener('click', () => openOverlay());
      return btn;
    };

    let btnInjected = false;

    const injectToolbarButton = () => {
      if (btnInjected) return;
      // The toolbar bar contains two child groups inside a flex wrapper.
      // We insert after the first group (theme controls) as a sibling.
      const bar = document.querySelector('.sb-bar');
      if (!bar) return;
      const wrapper = bar.querySelector(':scope > div');
      if (!wrapper) return;
      const groups = wrapper.querySelectorAll(':scope > div');
      if (groups.length < 2) return;

      const btn = createSearchButton();
      // Insert before the right-side group (fullscreen / editor)
      wrapper.insertBefore(btn, groups[groups.length - 1]);
      btnInjected = true;
    };

    // Retry until Storybook renders the toolbar
    const pollForToolbar = () => {
      injectToolbarButton();
      if (!btnInjected) setTimeout(pollForToolbar, 300);
    };

    // Also watch for Storybook re-rendering the toolbar (e.g., hot reload)
    const observer = new MutationObserver(() => {
      if (!btnInjected) injectToolbarButton();
    });
    observer.observe(document.body, { childList: true, subtree: true });

    setTimeout(pollForToolbar, 500);
  });
</script>
