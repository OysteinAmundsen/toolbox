/**
 * Selection Plugin Styles
 *
 * Scoped to tbw-grid using CSS nesting for light DOM compatibility.
 */
@layer tbw-plugins {
  tbw-grid {
    /* Prevent text selection during range drag */
    &.selecting .data-grid-row > .cell {
      user-select: none;
    }

    /* Row selection - use accent color for row focus (only when grid is focused) */
    &[data-has-focus] .data-grid-row.row-focus {
      background-color: var(--tbw-focus-background, rgba(from var(--tbw-color-accent) r g b / 12%));
    }

    /* Disable cell-focus outline in row mode - row is the focus unit */
    &[data-selection-mode='row'] .cell-focus {
      outline: none;
    }

    /* Selection cell styles - for range mode */
    .data-grid-row > .cell.selected {
      background-color: var(--tbw-range-selection-bg);

      &.top {
        border-top: 2px solid var(--tbw-range-border-color);
      }
      &.bottom {
        border-bottom: 2px solid var(--tbw-range-border-color);
      }
      &.first {
        border-left: 2px solid var(--tbw-range-border-color);
      }
      &.last {
        border-right: 2px solid var(--tbw-range-border-color);
      }
    }

    /* Non-selectable row styling (row mode) */
    .data-grid-row[data-selectable='false'] {
      cursor: not-allowed;
      opacity: 0.6;

      /* Muted selection indicator */
      &.row-focus {
        background-color: var(--tbw-color-row-alt);
      }
    }

    /* Non-selectable cell styling (cell/range mode) */
    .data-grid-row > .cell[data-selectable='false'] {
      cursor: not-allowed;
      opacity: 0.6;

      /* Prevent selection highlight on non-selectable cells */
      &.selected {
        background-color: var(--tbw-selection-warning-bg, rgba(from var(--tbw-color-error) r g b / 50%));
      }
    }

    /* Selection summary in header */
    .tbw-selection-summary {
      font-size: var(--tbw-font-size-sm, 0.8125rem);
      color: var(--tbw-color-fg-muted);
      white-space: nowrap;
    }
  }
} /* End @layer tbw-plugins */
